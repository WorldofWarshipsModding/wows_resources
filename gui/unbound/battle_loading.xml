
<ui>
	<css name="$TextMouseDisable">
		<mouseChildren value="false"/>
		<selectable value="false"/>
		<mouseEnabled value="false"/>
	</css>
	<css name="$MouseEnable">
		<hitTest value="true"/>
		<mouseChildren value="true"/>
		<mouseEnabled value="true"/>
	</css>
	<css name="$FontFamilyDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$FontFamilyDefaultBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$Bold">
		<fontFamily value="$WWSDefaultFontBold"/>
	</css>
	<css name="$FontColorDefault">
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$FontColorGrey">
		<textColor value="0xDDDDDD"/>
	</css>
	<css name="$FontColorStrongGrey">
		<textColor value="0x636363"/>
	</css>
	<css name="$FontColorWhite">
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$FontColorBlueish">
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$FontColorStrongBlueish">
		<textColor value="0x758b8b"/>
	</css>
	<css name="$FontColorDarkBlueish">
		<textColor value="0x2B393A"/>
	</css>
	<css name="$FontColorSpecialButton">
		<textColor value="0xFFE8D3"/>
	</css>
	<css name="$FontColorTurquoise">
		<textColor value="0x00cccc"/>
	</css>
	<css name="$FontColorBuoyancy">
		<textColor value="0x13C9F7"/>
	</css>
	<css name="$FontColorHealth">
		<textColor value="0x4ce8aa"/>
	</css>
	<css name="$FontColorGolden">
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$FontColorGold">
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$FontColorFreeExp">
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$FontColorExp">
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$FontColorUnready">
		<textColor value="0xFF9933"/>
	</css>
	<css name="$FontColorAlmostBlack">
		<textColor value="0x08222a"/>
	</css>
	<css name="$FontColorTeamkiller">
		<textColor value="0xFF96CA"/>
	</css>
	<css name="$FontColorTTK">
		<textColor value="0xc8751c"/>
	</css>
	<css name="$FontColorParty">
		<textColor value="0x00cccc"/>
	</css>
	<css name="$FontColorDefaultButtonUp">
		<textColor value="0xc7e2e2"/>
	</css>
	<css name="$FontColorComparePositive">
		<textColor value="0x4CE8AA"/>
	</css>
	<css name="$FontColorCompareNegative">
		<textColor value="0xFF6600"/>
	</css>
	<css name="$FontColorMercenaries">
		<textColor value="0x4ce8aa"/>
	</css>
	<css name="$FontSizeThumbelina">
		<fontSize value="7"/>
	</css>
	<css name="$FontSizeNano">
		<fontSize value="11"/>
	</css>
	<css name="$FontSizeSmall">
		<fontSize value="13"/>
	</css>
	<css name="$FontSizeDefault">
		<fontSize value="15"/>
	</css>
	<css name="$FontSizeLarge">
		<fontSize value="17"/>
	</css>
	<css name="$FontSizeHeader6">
		<fontSize value="19"/>
	</css>
	<css name="$FontSizeHeader5">
		<fontSize value="21"/>
	</css>
	<css name="$FontSizeHeader4">
		<fontSize value="23"/>
	</css>
	<css name="$FontSizeHeader3">
		<fontSize value="25"/>
	</css>
	<css name="$FontSizeHeader2">
		<fontSize value="30"/>
	</css>
	<css name="$FontSizeHeader1">
		<fontSize value="36"/>
	</css>
	<css name="$FontAccentSize2">
		<fontSize value="50"/>
	</css>
	<css name="$FontAccentSize1">
		<fontSize value="60"/>
	</css>
	<css name="$LetterSpacingSmall">
		<letterSpacing value="0.8"/>
	</css>
	<css name="$InvertedTextEffect">
		<dropShadowFilter value="0 90 0xffffff 0.5 2.5 2.5 1.0"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$FontGlowFilterBright">
		<dropShadowFilter value="1 90 0xffffff 0.3 5.0 3.0 0.9 2"/>
	</css>
	<css name="$BlockGlowFilterBright">
		<dropShadowFilter value="1 90 0xffffff 0.3 4.0 3.0 0.2 2"/>
	</css>
	<css name="$GlowDisabler">
		<dropShadowFilter value="0 0 0x000000 0 0 0 0 0"/>
	</css>
	<css name="$DropShadowDisabler">
		<dropShadowFilter value="0 0 0x000000 0 0 0 0 0"/>
	</css>
	<css name="$FontDropShadowFilter1">
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$FontDropShadowFilterStrong">
		<dropShadowFilter value="1 90 0x08222a 0.8 3 3 1.5"/>
	</css>
	<css name="$FontDropShadowWhite">
		<dropShadowFilter value="0 90 0xffffff 0.5 2.5 2.5 1.0"/>
	</css>
	<css name="$BlockDropShadowFilter1">
		<dropShadowFilter value="5 110 0x000000 0.6 6 6 0.6"/>
	</css>
	<css name="$BlockDropShadowFilter2">
		<dropShadowFilter value="3 110 0x000000 0.6 6 6 0.6"/>
	</css>
	<css name="$TextNano">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondary">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondaryNoFilter">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondaryBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextDefaultBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeader">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextHeaderHugeWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="30"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextHeaderBigDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderBigTeamKiller">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF96CA"/>
	</css>
	<css name="$TextHeaderBigNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$TextHeaderBigWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccent">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextAccentBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextAccentSecond">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="60"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderUnready">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<css name="$TextDefaultWhite">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextSmallCompareNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<textColor value="0xFF6600"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextSmallWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextSmallGold">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextDefaultExpSmall">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSmallNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$TextTurquoiseQuests">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x00cccc"/>
	</css>
	<css name="$TextLargeHeader">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextLargeHeaderBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextLargeHeaderBlack">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextThumbelina">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="7"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccentWhite">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultTech">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$BlackLabel">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$ZurichCondensedBold"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextHeaderWhiteBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$ResultsReward">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="60"/>
		<letterSpacing value="-3"/>
		<marginRight value="2px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccentGreyBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xDDDDDD"/>
		<fontSize value="60"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel1">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="36"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel2">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="30"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$Fullsize">
		<width value="100%"/>
		<height value="100%"/>
	</css>
	<css name="$FullsizeAbsolute">
		<width value="100%"/>
		<position value="absolute"/>
		<height value="100%"/>
	</css>
	<css name="$FullWidth">
		<width value="100%"/>
	</css>
	<css name="$MiddleAligned">
		<marginLeft value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$MiddleAlignedAbsolutely">
		<position value="absolute"/>
		<marginLeft value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$MiddleVAligned">
		<top value="50%"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$EyeLevelVAligned">
		<top value="44%"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$MiddleVAlignedAbsolutely">
		<position value="absolute"/>
		<top value="50%"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$MiddleVHAbsolutely">
		<position value="absolute"/>
		<top value="50%"/>
		<marginLeft value="-50%"/>
		<marginTop value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$AlignRight">
		<position value="absolute"/>
		<right value="0"/>
	</css>
	<css name="$MouseDisable">
		<hitTest value="false"/>
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
	</css>
	<css name="$InfoLineBoundaries">
		<marginTop value="6px"/>
		<marginBottom value="6px"/>
	</css>
	<css name="$InfoBlockHorizontalIndent">
		<width value="100%"/>
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$InfoBlockIndent">
		<width value="100%"/>
		<marginTop value="9px"/>
		<marginLeft value="12px"/>
		<marginBottom value="9px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$InfoBlockHorizontalIndentNoWidth">
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$DockPanelMargins">
		<marginLeft value="13px"/>
		<marginRight value="13px"/>
	</css>
	<css name="$InfoBlockIndentNoWidth">
		<marginBottom value="9px"/>
		<marginTop value="9px"/>
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$ShipTechStats">
		<width value="312px"/>
		<top value="32px"/>
		<position value="absolute"/>
		<right value="10px"/>
		<height value="100%"/>
	</css>
	<css name="$TextInputEnterButton">
		<right value="2px"/>
		<top value="50%"/>
		<height value="25px"/>
		<width value="52px"/>
		<position value="absolute"/>
		<marginTop value="-11px"/>
	</css>
	<css name="$TextAreaEnterButton">
		<position value="absolute"/>
		<height value="25px"/>
		<right value="2px"/>
		<width value="52px"/>
		<bottom value="0px"/>
	</css>
	<css name="$DefaultScrollBar">
		<wheelScrollSpeed value="15"/>
		<scrollbarController value="lesta.unbound.style.UbScrollingControllerModern"/>
		<scrollArea value="ModernScrollArea"/>
		<scrollbar value="ModernScrollBar"/>
		<scrollbarTrackMode value="scrollToCursor"/>
	</css>
	<css name="$None"/>
	<css name="$PxHorizontalCorrection">
		<marginLeft value="1px"/>
		<marginRight value="1px"/>
	</css>
	<css name="$PxIndent">
		<marginTop value="1px"/>
		<marginBottom value="1px"/>
		<marginLeft value="1px"/>
		<marginRight value="1px"/>
	</css>
	<css name="$BottomMenu">
		<position value="absolute"/>
		<bottom value="0px"/>
		<width value="100%"/>
		<height value="30px"/>
	</css>
	<block className="HorizontalDivider">
		<styleClass value="$PxHorizontalCorrection"/>
		<style>
			<width value="100%"/>
			<height value="3px"/>
		</style>
		<block className="divider_h" type="native">
			<styleClass value="$Fullsize"/>
		</block>
	</block>
	<block className="VerticalDivider">
		<style>
			<height value="100%"/>
			<width value="3px"/>
		</style>
		<block className="divider_v" type="native">
			<styleClass value="$Fullsize"/>
		</block>
	</block>
	<block className="TableDivider">
		<style>
			<backgroundImage value="symbol:dotted_line"/>
			<backgroundRepeatX value="true"/>
			<width value="100%"/>
			<height value="1px"/>
			<alpha value="0.1"/>
		</style>
	</block>
	<block className="Underline">
		<bind name="style" value="'backgroundColor'; (rollOver &amp;&amp; !mouseDown) ? '0xFFFFFFFF' : '0x00856933'"/>
		<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) == true; 0.3; {scaleX : 0, alpha : 0}; {scaleX : 1, alpha :1}"/>
		<style>
			<backgroundColor value="0xFFFFFFFF"/>
			<position value="absolute"/>
			<height value="1px"/>
			<width value="100%"/>
			<bottom value="0px"/>
			<marginLeft value="2px"/>
			<marginRight value="2px"/>
		</style>
	</block>
	<block className="BlurMap">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<style>
			<position value="absolute"/>
			<width value="100%"/>
			<height value="100%"/>
			<hitTest value="false"/>
		</style>
		<bind name="visible" value="optionData.blurEnabled"/>
		<block className="mc_blurmap5" type="native">
			<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
			<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
			<style>
				<width value="100%"/>
				<height value="100%"/>
			</style>
			<bind name="blurMap" value="0"/>
		</block>
	</block>
	<block className="BlurMapNotifications">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="visible" value="optionData.blurEnabled"/>
		<style>
			<position value="absolute"/>
			<width value="100%"/>
			<height value="100%"/>
		</style>
		<block className="mc_blurmap5_feather" type="native">
			<bind name="fade" value="_start; 0.3; {alpha: 0, top: 10}; {alpha: 1, top:0 }; {alpha: 0, top: -20}; 1; 0.15"/>
			<style>
				<width value="100%"/>
				<height value="100%"/>
			</style>
			<bind name="blurMap" value="0"/>
		</block>
	</block>
	<block className="DeclareBlurLayer">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="visible" value="optionData.blurEnabled"/>
		<block className="transparentPixel" type="native">
			<bind name="blurLayer" value="0"/>
		</block>
		<style>
			<position value="absolute"/>
		</style>
	</block>
	<css name="$ContextMenuListItem">
		<width value="100%"/>
		<height value="29px"/>
	</css>
	<css name="$ContextMenuListItemContent">
		<width value="198px"/>
		<marginLeft value="6px"/>
		<marginRight value="6px"/>
	</css>
	<css name="$ContextMenuDimentions">
		<width value="210px"/>
	</css>
	<block className="DropShadow">
		<styleClass value="$FullsizeAbsolute"/>
		<styleClass value="$MouseDisable"/>
		<block className="drop_shadow" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-2px"/>
				<marginRight value="-6px"/>
				<marginBottom value="-10px"/>
				<marginLeft value="-6px"/>
			</style>
		</block>
	</block>
	<block className="EmptyItem">
		<bind name="visible" value="false"/>
	</block>
	<css name="$titleBackgroundSize">
		<width value="640px"/>
		<height value="28px"/>
	</css>
	<css name="$TeamBgOrdinary">
		<width value="636px"/>
		<height value="25px"/>
	</css>
	<css name="$TeambgTitle">
		<width value="1280px"/>
		<height value="29px"/>
	</css>
	<block className="UIListTeamResult">
		<styleClass value="$MiddleAligned"/>
		<bind name="var" value="{complaintsAvailable: true}"/>
		<bind name="catch" value="'disableComplaints'; {complaintsAvailable: false}"/>
		<bind name="countdown" value="game_data.keep_until_time; 'countdownText'; 'mm:ss'; 'timeoutPostBattleComplaints'"/>
		<bind name="dispatch" value="'timeoutPostBattleComplaints'; 'disableComplaints'"/>
		<block>
			<bind name="visible" value="team_results.teamsInfo.alliedClub.clubName ? true : false"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginBottom value="6px"/>
			</style>
			<bind name="instance" value="'ClubBattleClubsVS'; {_alliedClub: team_results.teamsInfo.alliedClub, _enemyClub: team_results.teamsInfo.enemyClub}"/>
		</block>
		<block>
			<style>
				<marginTop value="-1px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block>
				<bind name="visible" value="game_data.game_mode == GameMode.PVE"/>
				<style>
					<width value="564px"/>
					<marginRight value="12px"/>
					<marginTop value="-6px"/>
				</style>
				<bind name="instance" value="'PVETasksList'; (game_data.game_mode == GameMode.PVE)	? {	_primaryTasks: game_data.primaryTasks, _secondaryTasks: game_data.secondaryTasks}
																					: null"/>
			</block>
			<block className="UIListTeamResultLeft">
				<bind name="instance" value="'UIlistBaseLeft'; { team_results: team_results, uiListData: team_results.listAllied, sortingColumnId: 'exp', sortingDirection:'descending',
										sortingNumeric: 'true', game_data: game_data, personal: personal, complaintsAvailable: complaintsAvailable}"/>
			</block>
			<block>
				<bind name="visible" value="game_data.game_mode != GameMode.PVE"/>
				<block className="VerticalDivider">
					<style>
						<height value="100%"/>
						<width value="3px"/>
					</style>
					<block className="divider_v" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
				<block className="UIListTeamResultRight">
					<bind name="instance" value="'UIlistBaseRight'; { team_results: team_results, uiListData: team_results.listEnemies, sortingColumnId: 'exp', sortingDirection:'descending', sortingNumeric: 'true', game_data: game_data, personal: personal, complaintsAvailable: complaintsAvailable}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="UIListTeamResultLeft">
		<bind name="instance" value="'UIlistBaseLeft'; { team_results: team_results, uiListData: team_results.listAllied, sortingColumnId: 'exp', sortingDirection:'descending',
										sortingNumeric: 'true', game_data: game_data, personal: personal, complaintsAvailable: complaintsAvailable}"/>
	</block>
	<block className="UIListTeamResultRight">
		<bind name="instance" value="'UIlistBaseRight'; { team_results: team_results, uiListData: team_results.listEnemies, sortingColumnId: 'exp', sortingDirection:'descending', sortingNumeric: 'true', game_data: game_data, personal: personal, complaintsAvailable: complaintsAvailable}"/>
	</block>
	<block className="UIlistBaseLeft">
		<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="event" value="'changeSortDirection'; onChangeSortDirection; _sortingFieldName; true"/>
		<bind name="catch" value="'onSortSelected'"/>
		<bind name="dispatch" value="'onSortSelected'; 'changeSortDirection'; {}; false; 0.05"/>
		<block className="cell_background" type="native">
			<bind name="gotoAndStop!" value="1"/>
			<style>
				<width value="576px"/>
				<right value="0px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="407px"/>
					</style>
					<block type="text">
						<style>
							<marginLeft value="18px"/>
							<width value="100%"/>
							<marginTop value="2px"/>
						</style>
						<styleClass value="$TextHeaderWhiteBold"/>
						<bind name="text" value="'IDS_ALLY_TEAM'"/>
					</block>
				</block>
				<block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_sortingEnabled: true, _width: '34px', _png: 'Kills', _sortingFieldName: 'ships_killed', _tooltipText: 'IDS_BY_KILLS', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_sortingEnabled: true, _width: '34px', _png: 'KilledPlanes', _sortingFieldName: 'killed_planes', _tooltipText: 'IDS_BY_DESTOYED_PLANES', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_sortingEnabled: true, _width: '66px', _png: 'Exp', _sortingFieldName: 'exp', _tooltipText: 'IDS_BY_EXPIRIENCE', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_sortingEnabled: true, _width: '35px', _png: 'Rewards', _sortingFieldName: 'totalAchievements', _tooltipText: 'IDS_BY_REWARDS', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<overflow value="scroll"/>
			</style>
			<styleClass value="$DefaultScrollBar"/>
			<block>
				<bind name="repeat" value="sortedUiListData; 'SimpleUIListTeamResultRowRendererLeft'; {	_players: sortedUiListData, _rankId: rankedBattlesStats.rank, game_data: game_data, personal: personal,
																						complaintsAvailable: complaintsAvailable}"/>
			</block>
		</block>
	</block>
	<block className="UIlistBaseRight">
		<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="event" value="'changeSortDirection'; onChangeSortDirection; _sortingFieldName; true"/>
		<bind name="catch" value="'onSortSelected'"/>
		<bind name="dispatch" value="'onSortSelected'; 'changeSortDirection'; {}; false; 0.05"/>
		<block className="cell_background" type="native">
			<bind name="gotoAndStop!" value="2"/>
			<style>
				<width value="576px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_width: '35px', _png: 'Rewards', _sortingFieldName: 'totalAchievements', _tooltipText: 'IDS_BY_REWARDS', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_width: '66px', _png: 'Exp', _sortingFieldName: 'exp', _tooltipText: 'IDS_BY_EXPIRIENCE', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_width: '34px', _png: 'KilledPlanes', _sortingFieldName: 'killed_planes', _tooltipText: 'IDS_BY_DESTOYED_PLANES', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_width: '34px', _png: 'Kills', _sortingFieldName: 'ships_killed', _tooltipText: 'IDS_BY_KILLS', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="407px"/>
					</style>
					<block type="text">
						<style>
							<textAlign value="right"/>
							<width value="100%"/>
							<marginRight value="18px"/>
							<marginTop value="2px"/>
						</style>
						<styleClass value="$TextHeaderWhiteBold"/>
						<bind name="text" value="'IDS_ENEMY_TEAM'"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<overflow value="scroll"/>
				<marginLeft value="0px"/>
			</style>
			<styleClass value="$DefaultScrollBar"/>
			<block>
				<bind name="repeat" value="sortedUiListData; 'SimpleUIListTeamResultRowRendererRight'; {_players: sortedUiListData, _rankId: rankedBattlesStats.rank, game_data: game_data,
																						personal: personal, complaintsAvailable: complaintsAvailable}"/>
			</block>
		</block>
	</block>
	<block className="UIListHeaderCell">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="dispatch" value="'click'; 'onSortSelected'; {_sortingFieldName: _sortingFieldName}"/>
		<block>
			<block className="title_backgrounds" type="native">
				<bind name="gotoAndStop!" value="1"/>
				<bind name="style" value="'width'; _width"/>
				<bind name="transition" value="rollOver || _sortingColumnId == _sortingFieldName; 0.15; {alpha: 0}; {alpha: 1}"/>
				<style>
					<height value="33px"/>
					<position value="absolute"/>
					<marginTop value="-1px"/>
				</style>
			</block>
			<block>
				<bind name="style" value="'width'; _width"/>
				<style>
					<height value="28px"/>
					<marginTop value="2px"/>
					<hitTest value="false"/>
				</style>
				<block className="icons_team_result_section" type="native">
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="gotoAndStop!" value="_png"/>
				</block>
			</block>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _tooltipText}"/>
		</block>
	</block>
	<block className="SimpleUIListTeamResultRowRendererLeft">
		<bind name="visible" value="(player.ids_ship_name != 'IDS_PXSX001')"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<style>
			<marginTop value="1px"/>
			<width value="604px"/>
		</style>
		<bind name="appear" value="'startShow'; 0.15; 0.75 + 0.075 * $index; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="watch" value="'starEarnCondition'; player.is_self ? personal.starsGained &gt; 0 : (place &lt;= rankInfo.starEarnPlace) &amp;&amp; (battleResult == 1)"/>
		<bind name="watch" value="'starLossCondition'; !(rankInfo.isStarSafe) &amp;&amp; (place &gt;= rankInfo.starLossPlace) &amp;&amp; (battleResult &lt;= 0)"/>
		<bind name="watch" value="'thisPlayer'; _players[$index]"/>
		<block>
			<bind name="visible" value="personal.seasonId != 0 &amp;&amp; game_data.battle_mode_id == 4"/>
			<style>
				<left value="30px"/>
				<position value="absolute"/>
				<height value="28px"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'StarEarnOrLoss'; starEarnCondition ||  starLossCondition ? {starEarnCondition: starEarnCondition, starLossCondition: starLossCondition} : null"/>
			</block>
		</block>
		<block>
			<style>
				<width value="576px"/>
				<right value="0px"/>
			</style>
			<block>
				<bind name="style" value="'backgroundColor'; $index % 2 == 0 ? '0x15000000' : '0x25000000'"/>
				<style>
					<backgroundColor value="0x15000000"/>
					<position value="absolute"/>
					<height value="28px"/>
					<width value="100%"/>
				</style>
				<bind name="watch" value="'battleType'; 	(game_data.battle_mode_id == 1)	? BattleTypes.TRAINING_BATTLE :
										(game_data.battle_mode_id == 2) ? BattleTypes.COOPERATIVE_BATTLE :
										(game_data.battle_mode_id == 4) ? BattleTypes.RANKED_BATTLE :
										(game_data.battle_mode_id == 5) ? BattleTypes.CLUB_BATTLE :
										(game_data.battle_mode_id == 6) ? BattleTypes.PVE_BATTLE
																		: BattleTypes.RANDOM_BATTLE"/>
				<bind name="watch" value="'isContextMenuAvailable'; (!(player.is_self) &amp;&amp; complaintsAvailable)"/>
				<block className="dock_submenu_item" type="native">
					<bind name="style" value="'hitTest'; isContextMenuAvailable"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'right', _instructionText: 'IDS_HINT_RIGHT_CLICK_FOR_CONTEXT_MENU'}], _maxWidth: 250}"/>
					<bind name="menu" value="'UIListPlayerContextMenu'; isContextMenuAvailable	? {	_player: thisPlayer, _playerDbId: player.dbId, _arenaId: game_data.arena_id, _battleType: battleType,
																					_isInPBS: true, _complaintsAvailable: complaintsAvailable}
																				: null; null; 'contextMenuVisible'"/>
					<bind name="selected" value="contextMenuVisible"/>
					<bind name="dispatch" value="'buttonClick'; 'Tooltip.Close'; {}"/>
					<bind name="name" value="'contextMenuVisible_' + !!(contextMenuVisible) + '_' + player.name"/>
				</block>
			</block>
			<block>
				<style>
					<height value="28px"/>
				</style>
				<block>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<bind name="visible" value="divisionIndex &gt; 0"/>
						<styleClass value="$MiddleAligned"/>
						<style>
							<marginTop value="1px"/>
						</style>
						<block className="division_item" type="native">
							<style>
								<marginLeft value="12px"/>
							</style>
							<bind name="gotoAndStop!" value="isInSameDivision ? divisionSign + 1 : (divisionSign + 1 + 10)"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<width value="110px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<bind name="visible" value="player.rank != 0"/>
						<bind name="instance" value="'IconRankSmall'; {_rankId: player.rank}"/>
					</block>
					<block type="text">
						<style>
							<textAlign value="left"/>
							<multiline value="false"/>
						</style>
						<bind name="style" value="'width'; player.rank == 0 ? '105px': '65px'"/>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="player.is_self ? '$Bold' : '$None'"/>
						<bind name="class" value="is_alive 	? (player.tkStatus	? '$FontColorTeamkiller' 
																: player.is_self || player.isInSameDivision ? '$FontColorGolden' 
																									: '$None') 
											: '$None'"/>
						<bind name="class" value="!is_alive 	? (player.is_self 	? (player.tkStatus ? '$FontColorTeamkiller' : '$FontColorGolden') 
																: '$FontColorAlmostBlack')
											: '$None'"/>
						<bind name="class" value="!is_alive &amp;&amp; !(player.is_self) ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="player.name"/>
						<bind name="name" value="'player_tab_stat_' + player.name"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="122px"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<block>
						<style>
							<width value="100%"/>
							<marginLeft value="0px"/>
						</style>
						<bind name="style" value="'backgroundImage'; !is_alive 	? ('url:' + player.ship_dead_img_url)
																: player.is_self ? ('url:' + player.ship_own_img_url) : ('url:' + player.ship_img_url)"/>
					</block>
				</block>
				<block>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="player.is_self ? '$TextGoldenBold' 
												: !is_alive ? '$FontColorAlmostBlack' : '$None'"/>
						<bind name="class" value="!is_alive &amp;&amp; !(player.is_self) ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="player.levelRome"/>
					</block>
				</block>
				<block>
					<style>
						<width value="115px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="left"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="class" value="player.is_self	? '$TextGoldenBold' :
								!is_alive		? '$FontColorAlmostBlack'
												: '$None'"/>
						<bind name="class" value="!is_alive &amp;&amp; !(player.is_self) ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="toUpperCase(tr(player.ids_ship_name))"/>
					</block>
				</block>
				<block>
					<style>
						<width value="34px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<bind name="visible" value="ships_killed != 0"/>
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="ships_killed"/>
					</block>
				</block>
				<block>
					<style>
						<width value="34px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<bind name="visible" value="killed_planes != 0"/>
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="killed_planes"/>
					</block>
				</block>
				<block>
					<style>
						<width value="66px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="format(exp, -1)"/>
					</block>
				</block>
				<block>
					<style>
						<width value="35px"/>
					</style>
					<block>
						<style>
							<marginLeft value="9px"/>
							<marginTop value="4px"/>
						</style>
						<bind name="instance" value="'EarnedAchievementsByPlayer'; (totalAchievements &gt; 0) ? {_achievements: achievements, _isSelfPlayer: player.is_self} : null"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="SimpleUIListTeamResultRowRendererRight">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<bind name="appear" value="'startShow'; 0.15; 0.75 + 0.075 * $index; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="watch" value="'starEarnCondition'; (place &lt;= rankInfo.starEarnPlace &amp;&amp; battleResult == 1)"/>
		<bind name="watch" value="'starLossCondition'; place &gt;= rankInfo.starLossPlace &amp;&amp; (battleResult &lt;= 0)"/>
		<bind name="watch" value="'thisPlayer'; _players[$index]"/>
		<style>
			<width value="604px"/>
			<marginTop value="1px"/>
		</style>
		<block>
			<style>
				<width value="576px"/>
			</style>
			<block>
				<bind name="style" value="'backgroundColor'; $index % 2 == 0 ? '0x15000000' : '0x25000000'"/>
				<style>
					<backgroundColor value="0x15000000"/>
					<position value="absolute"/>
					<height value="28px"/>
					<width value="100%"/>
				</style>
				<bind name="watch" value="'battleType'; 	(game_data.battle_mode_id == 1)	? BattleTypes.TRAINING_BATTLE :
										(game_data.battle_mode_id == 2) ? BattleTypes.COOPERATIVE_BATTLE :
										(game_data.battle_mode_id == 4) ? BattleTypes.RANKED_BATTLE :
										(game_data.battle_mode_id == 5) ? BattleTypes.CLUB_BATTLE	:
										(game_data.battle_mode_id == 5) ? BattleTypes.PVE_BATTLE
																		: BattleTypes.RANDOM_BATTLE"/>
				<block className="dock_submenu_item" type="native">
					<bind name="style" value="'hitTest'; complaintsAvailable"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'right', _instructionText: 'IDS_HINT_RIGHT_CLICK_FOR_CONTEXT_MENU'}], _maxWidth: 250}"/>
					<bind name="menu" value="'UIListPlayerContextMenu'; complaintsAvailable	? {	_player: thisPlayer, _playerDbId: player.dbId, _arenaId: game_data.arena_id, _battleType: battleType,
																				_isInPBS: true, _complaintsAvailable: complaintsAvailable}
																			: null; null; 'contextMenuVisible'"/>
					<bind name="selected" value="contextMenuVisible &amp;&amp; complaintsAvailable"/>
					<bind name="dispatch" value="'buttonClick'; 'Tooltip.Close'; {}"/>
					<bind name="name" value="'contextMenuVisible_' + !!(contextMenuVisible) + '_' + player.name"/>
				</block>
			</block>
			<block>
				<style>
					<height value="28px"/>
				</style>
				<block>
					<style>
						<width value="35px"/>
					</style>
					<block>
						<style>
							<marginLeft value="9px"/>
							<marginTop value="4px"/>
						</style>
						<bind name="instance" value="'EarnedAchievementsByPlayer'; (totalAchievements &gt; 0) ? {_achievements: achievements, _isSelfPlayer: player.is_self} : null"/>
					</block>
				</block>
				<block>
					<style>
						<width value="66px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="format(exp, -1)"/>
					</block>
				</block>
				<block>
					<style>
						<width value="34px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<bind name="visible" value="killed_planes != 0"/>
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="killed_planes"/>
					</block>
				</block>
				<block>
					<style>
						<width value="34px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<bind name="visible" value="ships_killed != 0"/>
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="ships_killed"/>
					</block>
				</block>
				<block>
					<style>
						<width value="115px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="right"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="class" value="!is_alive ? '$FontColorAlmostBlack' : '$None'"/>
						<bind name="class" value="!is_alive ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="toUpperCase(tr(player.ids_ship_name))"/>
					</block>
				</block>
				<block>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="!is_alive ? '$FontColorAlmostBlack' : '$None'"/>
						<bind name="class" value="!is_alive ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="player.levelRome"/>
					</block>
				</block>
				<block>
					<style>
						<width value="122px"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<block>
						<style>
							<marginLeft value="122px"/>
							<width value="100%"/>
						</style>
						<bind name="scaleX" value="-1"/>
						<bind name="style" value="'backgroundImage'; !is_alive 	? ('url:' + player.ship_dead_img_url) : ('url:' + player.ship_img_url)"/>
					</block>
				</block>
				<block>
					<style>
						<width value="110px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="right"/>
							<multiline value="false"/>
						</style>
						<bind name="style" value="'width'; player.rank == 0 ? '105px': '65px'"/>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="!is_alive ? '$FontColorAlmostBlack' : '$None'"/>
						<bind name="class" value="!is_alive ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="player.name"/>
						<bind name="name" value="'player_tab_stat_' + player.name"/>
					</block>
					<block>
						<bind name="visible" value="player.rank != 0"/>
						<bind name="instance" value="'IconRankSmall'; {_rankId: player.rank}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="divisionIndex &gt; 0"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<block className="division_item" type="native">
						<styleClass value="$MiddleAligned"/>
						<style>
							<marginTop value="5px"/>
						</style>
						<bind name="gotoAndStop!" value="divisionSign + 1 + 10"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="personal.seasonId != 0 &amp;&amp; game_data.battle_mode_id == 4"/>
			<style>
				<right value="30px"/>
				<position value="absolute"/>
				<height value="28px"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'StarEarnOrLoss'; (starEarnCondition ||  starLossCondition) ? {starEarnCondition: starEarnCondition, starLossCondition: starLossCondition} : null"/>
			</block>
		</block>
	</block>
	<block className="StarEarnOrLoss">
		<style>
			<width value="26px"/>
			<height value="26px"/>
		</style>
		<block className="icon_star_earn_condition_small" type="native">
			<styleClass value="$MiddleVAligned"/>
			<bind name="gotoAndStop!" value=" starEarnCondition	? 1 
												: starLossCondition ? 2 
																	: null"/>
		</block>
	</block>
	<css name="$DefaultTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$DefaultInstantTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.06,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.06,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$DefaultMenuBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.07,
		appearOffset: 10.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: 10.0,
		tinyOffset: 0,
		rightOffset: 0,
		bottomOffset: 0
	}"/>
	</css>
	<css name="$DefaultSubMenuBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.15,
		appearOffset: 0.0,
		disappearDelay: 0.35,
		disappearDuration: 0.1,
		disappearOffset: 5.0,
		tinyOffset: 0,
		rightOffset: 0,
		bottomOffset: 0
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 0,
		bottomOffset: 0
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviourCenter">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: -8,
		bottomOffset: 0,
		screenBottomOffset: 26,
		isTipCenter: true
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviourCenterUpper">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: -8,
		bottomOffset: 0,
		isTipCenter: true,
		fixedDirectionUp: true
	}"/>
	</css>
	<css name="$HorizontalInfotipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 0,
		rightOffset: -10,
		bottomOffset: 0,
		isTipCenter: true
	}"/>
	</css>
	<css name="$FightButtonTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.0,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$WarningTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$ModuleTreeTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$SmallListItem">
		<width value="100%"/>
		<height value="18px"/>
	</css>
	<css name="$SmallListItemValue">
		<position value="absolute"/>
		<right value="0px"/>
	</css>
	<css name="$DefaultTooltipWidth">
		<width value="300px"/>
	</css>
	<block className="EmptyLine"/>
	<block className="MouseInstructionTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<bind name="visible" value="_multiParagraphArray.length &gt; 0"/>
			<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
			<style>
				<marginTop value="9px"/>
			</style>
			<bind name="style" value="'marginBottom'; (_multiParagraphArray.length &gt; 0) &amp;&amp; (_mouseInstructions.length &gt; 0) ? '0px' : '5px'"/>
			<bind name="repeat" value="_multiParagraphArray; 'RepeatParagraphItem'; {_maxWidth: _maxWidth, _marginBottom: _marginBottom}"/>
		</block>
		<block>
			<bind name="visible" value="(_multiParagraphArray.length &gt; 0) &amp;&amp; (_mouseInstructions.length &gt; 0)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_mouseInstructions.length &gt; 0"/>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<bind name="repeat" value="_mouseInstructions; 'MouseInstructionRepeater'; {_maxWidth: _maxWidth, _lastIndex: _mouseInstructions.length - 1}"/>
		</block>
	</block>
	<block className="SimpleTooltip">
		<block className="SimpleTooltipTemplate">
			<styleClass value="$DefaultTooltipBehaviour"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="hint_panel" type="native">
				<style>
					<position value="absolute"/>
				</style>
				<styleClass value="$Fullsize"/>
			</block>
			<block type="text">
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="style" value="'leading'; tooltipText.length &gt; 40 ? 0 : -3"/>
				<style>
					<maxWidth value="300"/>
				</style>
				<bind name="text" value="tooltipText"/>
			</block>
		</block>
	</block>
	<block className="SubTextTooltip">
		<block className="SubTextTooltipTemplate">
			<styleClass value="$DefaultTooltipBehaviour"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="hint_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<block type="text">
					<styleClass value="$TextHeaderBold"/>
					<style>
						<leading value="-3"/>
						<maxWidth value="260"/>
					</style>
					<bind name="text" value="tooltipText"/>
				</block>
				<block type="text">
					<styleClass value="$TextHeaderBigDefault"/>
					<style>
						<marginTop value="3px"/>
						<leading value="-3"/>
						<maxWidth value="260"/>
					</style>
					<bind name="text" value="tooltipSubText"/>
				</block>
			</block>
		</block>
	</block>
	<block className="SimpleWarningTooltip">
		<styleClass value="$WarningTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="2px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<maxWidth value="240"/>
					<leading value="-3"/>
				</style>
				<bind name="text" value="_text"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="TooltipBackground">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'DeclareBlurLayer'; _isInBattle ?  null : {}"/>
			<bind name="instance" value="'BlurMap'; _isInBattle ? null : {}"/>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="(optionData.contrast == true || _isInBattle == true)"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="!(_isInBattle)"/>
			<block className="hint_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
	</block>
	<block className="TimerTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block type="text">
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<styleClass value="$TextHeader"/>
			<bind name="class" value="'$FontSizeHeader4'"/>
			<bind name="pureText" value="_text"/>
		</block>
	</block>
	<block className="PlayerTooltipInvitationCountdown">
		<bind name="countdown" value="_expirationTime; 'countdownText'; 'mm:ss'"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="4px"/>
				<marginLeft value="7px"/>
				<marginRight value="4px"/>
				<marginBottom value="3px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<marginRight value="6px"/>
				</style>
				<block>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: true, _formationType: _formationType}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
						<maxWidth value="158"/>
						<leading value="-3"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorWhite'"/>
					<bind name="text" value="_text"/>
				</block>
				<block type="text">
					<style>
						<top value="-4px"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<styleClass value="$AlignRight"/>
					<bind name="class" value="'$FontSizeHeader6'"/>
					<bind name="pureText" value="'-' + countdownText"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<css name="$ComplaintMenuListItemBattleMargins">
		<marginLeft value="2px"/>
		<marginRight value="2px"/>
	</css>
	<css name="$ComplaintMenuListItemPostbattleMargins">
		<marginLeft value="1px"/>
		<marginRight value="1px"/>
	</css>
	<block className="MenuTooltipBackground">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'DeclareBlurLayer'; _isInBattle ?  null : {}"/>
			<bind name="instance" value="'BlurMap'; _isInBattle ? null : {}"/>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="(optionData.contrast == true || _isInBattle == true)"/>
			<style>
				<marginTop value="-2px"/>
				<marginBottom value="-2px"/>
			</style>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="!(_isInBattle)"/>
			<style>
				<marginTop value="-1px"/>
				<marginBottom value="-1px"/>
			</style>
			<block className="hint_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
	</block>
	<block className="UIListPlayerContextMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'MenuTooltipBackground'; {_isInBattle: _isBattleStats}"/>
		</block>
		<bind name="watch" value="'isEnemyPlayer'; (_player.relation == 2)"/>
		<bind name="watch" value="'isDynamicDivisionsEnabled'; (((_battleType == BattleTypes.COOPERATIVE_BATTLE) || (_battleType == BattleTypes.RANDOM_BATTLE)) &amp;&amp;
												slimClientData.isFull)"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="class" value="_isBattleStats ? '$ComplaintMenuListItemBattleMargins' : '$ComplaintMenuListItemPostbattleMargins'"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="visible" value="!(_isBattleLoading) &amp;&amp; _complaintsAvailable"/>
				<block>
					<bind name="name" value="'id_complain'"/>
					<styleClass value="$ContextMenuListItem"/>
					<block className="MenuItem">
						<styleClass value="$Fullsize"/>
						<block className="dock_submenu_item" type="native">
							<styleClass value="$FullsizeAbsolute"/>
						</block>
						<block type="text">
							<styleClass value="$TextDefault"/>
							<styleClass value="$MiddleVAligned"/>
							<styleClass value="$ContextMenuListItemContent"/>
							<bind name="text" value="'IDS_COMPLAIN'"/>
						</block>
					</block>
					<block className="button_expand_h" type="native">
						<style>
							<position value="absolute"/>
							<right value="6px"/>
						</style>
						<styleClass value="$MouseDisable"/>
						<styleClass value="$MiddleVAligned"/>
					</block>
					<bind name="tooltip" value="'ComplaintSubMenu'; {_player: _player, _arenaId: _arenaId, _battleType: _battleType, _playerDbId: _playerDbId,
													_isInBattle: _isBattleStats, _isInPBS: _isInPBS}; TooltipBehaviour.submenu"/>
				</block>
				<block>
					<bind name="name" value="'id_praise'"/>
					<styleClass value="$ContextMenuListItem"/>
					<block className="MenuItem">
						<styleClass value="$Fullsize"/>
						<block className="dock_submenu_item" type="native">
							<styleClass value="$FullsizeAbsolute"/>
						</block>
						<block type="text">
							<styleClass value="$TextDefault"/>
							<styleClass value="$MiddleVAligned"/>
							<styleClass value="$ContextMenuListItemContent"/>
							<bind name="text" value="'IDS_PRAISE'"/>
						</block>
					</block>
					<block className="button_expand_h" type="native">
						<style>
							<position value="absolute"/>
							<right value="6px"/>
						</style>
						<styleClass value="$MouseDisable"/>
						<styleClass value="$MiddleVAligned"/>
					</block>
					<bind name="tooltip" value="'PraiseSubMenu'; {_player: _player, _arenaId: _arenaId, _battleType: _battleType, _playerDbId: _playerDbId,
												 _isInBattle: _isBattleStats, _isInPBS: _isInPBS}; TooltipBehaviour.submenu"/>
				</block>
			</block>
			<bind name="serverTime" value="'serverTime'"/>
			<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'dynamicDivisionsData'; 'id'; _selfPlayer.divisionId; 'selfPlayerDivisionData'"/>
			<bind name="watch" value="'isFreePlacesInDivision'; ((selfPlayerDivisionData[0].staff.length + selfPlayerDivisionData[0].inPortParticipantsCount) &lt; 3)"/>
			<bind name="timeFormat" value="(_player.inviteCooldown - serverTime); 'mm:ss'; 'cooldownTimeText'"/>
			<bind name="watch" value="'invitationDisableReason'; (_player.isLeaver)						? 'IDS_INVITATION_DISABLE_REASON_PLAYER_IS_OUT_OF_BATTLE':
												(_player.division != 0)					? 'IDS_INVITATION_DISABLE_REASON_ALREADY_IN_DIVISION' :
												!(_selfPlayer.isAlive)					? 'IDS_DIVISION_MANAGEMENT_LOCKED_FOR_DESTROYED' :
												!(_player.isAlive)						? 'IDS_INVITATION_DISABLE_REASON_DESTROYED' :
												!(isFreePlacesInDivision)				? 'IDS_INVITATION_DISABLE_REASON_NO_FREE_PLACES' :
												!(_player.invitationsEnabled)			? 'IDS_INVITATION_DISABLE_REASON_INVITATIONS_DISABLED' :
												(_player.inviteCooldown &gt; serverTime)	? (tr('IDS_WAIT_TIMEOUT_TO_INVITE_TO_DIVISION')+' '+cooldownTimeText)
																						: 'no_reason'"/>
			<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; _player.name; 'playerInvitationData'"/>
			<bind name="watch" value="'isDivisionControlsEnable';	isDynamicDivisionsEnabled &amp;&amp;
													(_isInPBS != true) &amp;&amp;
													!(isEnemyPlayer) &amp;&amp;
													((_selfPlayer.isDivisionCommander) || (_selfPlayer.divisionId == 0))"/>
			<block>
				<bind name="visible" value="isDivisionControlsEnable"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<bind name="visible" value="_selfPlayer.isDivisionCommander &amp;&amp; _player.isInSameDivision"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="style" value="'alpha'; (_selfPlayer.isAlive) ? 1 : 0.5"/>
					<block>
						<styleClass value="$ContextMenuListItem"/>
						<block className="MenuItem">
							<styleClass value="$Fullsize"/>
							<block className="dock_submenu_item" type="native">
								<styleClass value="$FullsizeAbsolute"/>
							</block>
							<block type="text">
								<styleClass value="$TextDefault"/>
								<styleClass value="$MiddleVAligned"/>
								<styleClass value="$ContextMenuListItemContent"/>
								<bind name="text" value="'IDS_APPOINT_PLAYER_TO_COMMANDER'"/>
							</block>
						</block>
						<bind name="action" value="'click'; 'changeCommander'; {playerId: _player.id}"/>
					</block>
					<block>
						<styleClass value="$ContextMenuListItem"/>
						<block className="MenuItem">
							<styleClass value="$Fullsize"/>
							<block className="dock_submenu_item" type="native">
								<styleClass value="$FullsizeAbsolute"/>
							</block>
							<block type="text">
								<styleClass value="$TextDefault"/>
								<styleClass value="$MiddleVAligned"/>
								<styleClass value="$ContextMenuListItemContent"/>
								<bind name="text" value="'IDS_EXCLUDE_PLAYER_OUT_OF_DIVISION'"/>
							</block>
						</block>
						<bind name="action" value="'click'; 'kickPlayerFromDivision'; {playerId: _player.id}"/>
					</block>
					<block>
						<bind name="visible" value="!(_selfPlayer.isAlive)"/>
						<styleClass value="$FullsizeAbsolute"/>
						<style>
							<backgroundColor value="0x0100000"/>
						</style>
						<bind name="tooltip" value="'SimpleWarningTooltip'; !(_selfPlayer.isAlive) ? {_text: tr('IDS_DIVISION_MANAGEMENT_LOCKED_FOR_DESTROYED'), _isInBattle: _isBattleStats} : null"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="!(_player.isInSameDivision)"/>
					<style>
						<width value="100%"/>
					</style>
					<block>
						<bind name="visible" value="(!(_player.isInSameDivision) &amp;&amp; !(playerInvitationData))"/>
						<bind name="style" value="'alpha'; (invitationDisableReason == 'no_reason') ? 1 : 0.5"/>
						<bind name="tooltip" value="'SimpleWarningTooltip'; (invitationDisableReason != 'no_reason') ? {_text: invitationDisableReason, _isInBattle: _isBattleStats} : null"/>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<styleClass value="$ContextMenuListItem"/>
						<block>
							<styleClass value="$Fullsize"/>
							<bind name="style" value="'hitTest';  (invitationDisableReason == 'no_reason') ? true : false"/>
							<block className="MenuItem">
								<styleClass value="$Fullsize"/>
								<block className="dock_submenu_item" type="native">
									<styleClass value="$FullsizeAbsolute"/>
								</block>
								<block type="text">
									<styleClass value="$TextDefault"/>
									<styleClass value="$MiddleVAligned"/>
									<styleClass value="$ContextMenuListItemContent"/>
									<bind name="text" value="'IDS_INVITE_IN_DIVISION'"/>
								</block>
							</block>
						</block>
						<bind name="action" value="'click'; (invitationDisableReason == 'no_reason') ? 'inviteToDivision' : ''; {playerId: _player.id, playerName: _player.name, inviteType: InviteType.COMMON}"/>
					</block>
					<block>
						<bind name="visible" value="!!(playerInvitationData)"/>
						<styleClass value="$ContextMenuListItem"/>
						<block className="MenuItem">
							<styleClass value="$Fullsize"/>
							<block className="dock_submenu_item" type="native">
								<styleClass value="$FullsizeAbsolute"/>
							</block>
							<block type="text">
								<styleClass value="$TextDefault"/>
								<styleClass value="$MiddleVAligned"/>
								<styleClass value="$ContextMenuListItemContent"/>
								<bind name="text" value="'IDS_RECALL_INVITATION'"/>
							</block>
						</block>
						<bind name="action" value="'click'; 'revokeInvitationToDivision'; {id: playerInvitationData.id}"/>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="(_isBattleStats == true)"/>
				<bind name="name" value="'id_mute'"/>
				<style>
					<width value="100%"/>
				</style>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="action" value="'buttonClick'; _player.mute ? 'unmuteUser' : 'muteUser'; {id: _player.id}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="7px"/>
						<hitTest value="false"/>
					</style>
					<block className="icon_text_chat_small" type="native">
						<style>
							<top value="6px"/>
							<marginRight value="4px"/>
						</style>
						<bind name="gotoAndStop!" value="(_player.mute ? 'muted' : 'on')"/>
					</block>
					<block type="text">
						<style>
							<width value="100%"/>
							<marginBottom value="3px"/>
							<hitTest value="false"/>
							<marginRight value="4px"/>
							<leading value="-3"/>
						</style>
						<styleClass value="$TextDefault"/>
						<bind name="class" value="_player.mute	? '$FontColorUnready'
												: '$FontColorWhite'"/>
						<bind name="text" value="_player.mute ? 'IDS_UNMUTE_PLAYER_TEXT_CHAT' : 'IDS_MUTE_PLAYER_TEXT_CHAT'"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
			<bind name="watch" value="'canBeInChat';	((_battleType == BattleTypes.CLUB_BATTLE) &amp;&amp; VoiceChatState.enabled &amp;&amp; !(isEnemyPlayer)) ||
									((_player.isInSameDivision &amp;&amp; VoiceChatState.enabled) &amp;&amp; ((_battleType == BattleTypes.RANDOM_BATTLE) ||
																							 (_battleType == BattleTypes.COOPERATIVE_BATTLE) ||
																							 (_battleType == BattleTypes.PVE_BATTLE)))"/>
			<block>
				<bind name="visible" value="(canBeInChat &amp;&amp; !(_isInPBS))"/>
				<bind name="name" value="'id_mute_voice'"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="watch" value="'voiceChatMenuText'; 	!(_player.isInVoiceChat) 	? 'IDS_PLAYER_IS_NOT_AVAILABLE_IN_VOICE_CHAT' :
												_player.isMuted				? 'IDS_UNMUTE_PLAYER_VOICE_CHAT'
																			: 'IDS_MUTE_PLAYER_VOICE_CHAT'"/>
				<bind name="watch" value="'state'; 	!(_player.isInVoiceChat)	? 'disabled' :
									_player.isMuted				? 'muted'
																: 'speak'"/>
				<bind name="style" value="'alpha'; !(_player.isInVoiceChat)	? 0.9 : 1"/>
				<bind name="style" value="'hitTest'; !(_player.isInVoiceChat)	? false : true"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="action" value="'buttonClick'; 'toggleVoice'; {playerName: _player.pureName, nickName: _player.name}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="7px"/>
						<hitTest value="false"/>
					</style>
					<block className="icon_voice_chat_small" type="native">
						<style>
							<marginTop value="6px"/>
							<marginRight value="4px"/>
						</style>
						<bind name="gotoAndStop!" value="state"/>
					</block>
					<block type="text">
						<style>
							<width value="100%"/>
							<marginBottom value="3px"/>
							<hitTest value="false"/>
							<marginRight value="4px"/>
							<leading value="-3"/>
						</style>
						<styleClass value="$TextDefault"/>
						<bind name="class" value="	!(_player.isInVoiceChat)	? '$FontColorUnready' :
									_player.isMuted				? '$FontColorUnready'
																: '$FontColorWhite'"/>
						<bind name="text" value="voiceChatMenuText"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value=" !(!(_isBattleLoading) &amp;&amp; _complaintsAvailable) &amp;&amp;
						!(isDivisionControlsEnable &amp;&amp; ((_selfPlayer.isDivisionCommander &amp;&amp; _player.isInSameDivision) || !(_player.isInSameDivision))) &amp;&amp;
						!(_isBattleStats == true) &amp;&amp;
						!(canBeInChat &amp;&amp; !(_isInPBS))"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<marginLeft value="7px"/>
					<marginBottom value="3px"/>
					<hitTest value="false"/>
					<marginRight value="4px"/>
					<leading value="-3"/>
					<alpha value="0.7"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="'IDS_NO_AVAILABLE_ACTIONS'"/>
			</block>
		</block>
	</block>
	<block className="ComplaintSubMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'evaluationLimits'"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<style>
			<width value="270px"/>
		</style>
		<bind name="watch" value="'isEvaluationDisabledReason';	(_battleType == BattleTypes.CLUB_BATTLE)		? 'IDS_COMPLAIN_DISABLED_FOR_CLUB_BATTLES' :
												(_battleType == BattleTypes.TRAINING_BATTLE)	? 'IDS_CUSTOM_ROOM' :
												(evaluationLimits.complain == 0)				? 'IDS_DAY_LIMIT_IS_OFF' :
												_player.isInSameDivisionOnStart					? 'IDS_COMPLAIN_DISABLED_FOR_DIVISION_MEMBERS'
																								: false"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'MenuTooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="class" value="_isInBattle ? '$ComplaintMenuListItemBattleMargins' : '$ComplaintMenuListItemPostbattleMargins'"/>
			<block>
				<bind name="name" value="'id_complain_bot'"/>
				<bind name="style" value="'alpha'; isEvaluationDisabledReason ? 0.5 : 1"/>
				<styleClass value="$ContextMenuListItem"/>
				<bind name="action" value="'buttonClick'; 'sendEvaluation'; _isInPBS ? {type: EvaluationType.DENUNCIATION, topic: EvaluationTopic.BOT, accountDBID: _playerDbId, arenaId: _arenaId}
																	: {type: EvaluationType.DENUNCIATION, topic: EvaluationTopic.BOT, nickname: _player.name, arenaId: _arenaId}"/>
				<block className="dock_submenu_item" type="native">
					<bind name="style" value="'hitTest'; isEvaluationDisabledReason ? false : true"/>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<maxWidth value="252"/>
						<marginLeft value="6px"/>
					</style>
					<text value="IDS_BOT"/>
				</block>
			</block>
			<block>
				<bind name="name" value="'id_complain_bad_player'"/>
				<bind name="style" value="'alpha'; isEvaluationDisabledReason ? 0.5 : 1"/>
				<styleClass value="$ContextMenuListItem"/>
				<bind name="action" value="'buttonClick'; 'sendEvaluation'; _isInPBS ? {type: EvaluationType.DENUNCIATION, topic: EvaluationTopic.PLAY, accountDBID: _playerDbId, arenaId: _arenaId}
																	: {type: EvaluationType.DENUNCIATION, topic: EvaluationTopic.PLAY, nickname: _player.name, arenaId: _arenaId}"/>
				<block className="dock_submenu_item" type="native">
					<bind name="style" value="'hitTest'; isEvaluationDisabledReason ? false : true"/>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<maxWidth value="252"/>
						<marginLeft value="6px"/>
					</style>
					<text value="IDS_BAD_PLAYER"/>
				</block>
			</block>
			<block>
				<bind name="name" value="'id_complain_bad_behaviour'"/>
				<bind name="style" value="'alpha'; isEvaluationDisabledReason ? 0.5 : 1"/>
				<styleClass value="$ContextMenuListItem"/>
				<bind name="action" value="'buttonClick'; 'sendEvaluation'; _isInPBS ? {type: EvaluationType.DENUNCIATION, topic: EvaluationTopic.CHAT, accountDBID: _playerDbId, arenaId: _arenaId}
																	: {type: EvaluationType.DENUNCIATION, topic: EvaluationTopic.CHAT, nickname: _player.name, arenaId: _arenaId}"/>
				<block className="dock_submenu_item" type="native">
					<bind name="style" value="'hitTest'; isEvaluationDisabledReason ? false : true"/>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<maxWidth value="252"/>
						<marginLeft value="6px"/>
					</style>
					<text value="IDS_BAD_BEHAVIOUR"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="name" value="'id_complain_day_limit'"/>
			<bind name="visible" value="evaluationLimits.complain &gt; 0 &amp;&amp; !isEvaluationDisabledReason"/>
			<style>
				<marginLeft value="9px"/>
				<marginBottom value="6px"/>
			</style>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="4px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<maxWidth value="252"/>
					<marginLeft value="1px"/>
				</style>
				<bind name="text" value="tr('IDS_DAY_LIMIT') + ' ' + evaluationLimits.complain"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="isEvaluationDisabledReason"/>
			<style>
				<marginLeft value="9px"/>
				<marginBottom value="6px"/>
			</style>
			<block className="icon_warning_red" type="native">
				<style>
					<marginTop value="4px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorCompareNegative'"/>
				<style>
					<maxWidth value="230"/>
					<marginLeft value="1px"/>
				</style>
				<bind name="text" value="isEvaluationDisabledReason"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="PraiseSubMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'evaluationLimits'"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<style>
			<width value="270px"/>
		</style>
		<bind name="watch" value="'isEvaluationDisabledReason';	(_battleType == BattleTypes.CLUB_BATTLE)		? 'IDS_PRAISE_DISABLED_FOR_CLUB_BATTLES' :
												(_battleType == BattleTypes.TRAINING_BATTLE)	? 'IDS_CUSTOM_ROOM' :
												evaluationLimits.praise == 0 					? 'IDS_DAY_LIMIT_IS_OFF' :
												_player.isInSameDivisionOnStart					? 'IDS_PRAISE_DISABLED_FOR_DIVISION_MEMBERS'
																								: false"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'MenuTooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="class" value="_isInBattle ? '$ComplaintMenuListItemBattleMargins' : '$ComplaintMenuListItemPostbattleMargins'"/>
			<block>
				<bind name="name" value="'id_praise_good_player'"/>
				<bind name="style" value="'alpha'; isEvaluationDisabledReason ? 0.5 : 1"/>
				<bind name="action" value="'buttonClick'; 'sendEvaluation'; _isInPBS ? {type: EvaluationType.PRAISE, topic: EvaluationTopic.PLAY, accountDBID: _playerDbId, arenaId: _arenaId}
																	: {type: EvaluationType.PRAISE, topic: EvaluationTopic.PLAY, nickname: _player.name, arenaId: _arenaId}"/>
				<styleClass value="$ContextMenuListItem"/>
				<block className="dock_submenu_item" type="native">
					<bind name="style" value="'hitTest'; isEvaluationDisabledReason ? false : true"/>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<maxWidth value="252"/>
						<marginLeft value="6px"/>
					</style>
					<text value="IDS_GOOD_PLAYER"/>
				</block>
			</block>
			<block>
				<bind name="name" value="'id_praise_helped_in_chat'"/>
				<bind name="style" value="'alpha'; isEvaluationDisabledReason ? 0.5 : 1"/>
				<bind name="action" value="'buttonClick'; 'sendEvaluation'; _isInPBS ? {type: EvaluationType.PRAISE, topic: EvaluationTopic.CHAT, accountDBID: _playerDbId, arenaId: _arenaId}
																	: {type: EvaluationType.PRAISE, topic: EvaluationTopic.CHAT, nickname: _player.name, arenaId: _arenaId}"/>
				<styleClass value="$ContextMenuListItem"/>
				<block className="dock_submenu_item" type="native">
					<bind name="style" value="'hitTest'; isEvaluationDisabledReason ? false : true"/>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<maxWidth value="252"/>
						<marginLeft value="6px"/>
					</style>
					<text value="IDS_HELPED_IN_CHAT"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="name" value="'id_praise_day_limit'"/>
			<bind name="visible" value="evaluationLimits.praise &gt; 0 &amp;&amp; !isEvaluationDisabledReason"/>
			<style>
				<marginLeft value="9px"/>
				<marginBottom value="6px"/>
			</style>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="4px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<maxWidth value="252"/>
					<marginLeft value="1px"/>
				</style>
				<bind name="text" value="tr('IDS_DAY_LIMIT') + ' ' + evaluationLimits.praise"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="isEvaluationDisabledReason"/>
			<style>
				<marginLeft value="9px"/>
				<marginBottom value="6px"/>
			</style>
			<block className="icon_warning_red" type="native">
				<style>
					<marginTop value="4px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorCompareNegative'"/>
				<style>
					<maxWidth value="230"/>
					<marginLeft value="1px"/>
				</style>
				<bind name="text" value="isEvaluationDisabledReason"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="UIListVoiceTextChatIcons">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
		<bind name="watch" value="'playerCanBeInChat';	((_battleType == BattleTypes.CLUB_BATTLE) &amp;&amp; VoiceChatState.enabled) ||
										((_isInSameDivision &amp;&amp; VoiceChatState.enabled) &amp;&amp;	((_battleType == BattleTypes.RANDOM_BATTLE) ||
																							(_battleType == BattleTypes.COOPERATIVE_BATTLE) ||
																							(_battleType == BattleTypes.PVE_BATTLE)))"/>
		<bind name="watch" value="'selfCanBeInChat';	((_battleType == BattleTypes.CLUB_BATTLE) &amp;&amp; _isSelf) ||
									((_isSelf &amp;&amp; _selfPlayerDivisionId) &amp;&amp;  ((_battleType == BattleTypes.RANDOM_BATTLE) ||
																			(_battleType == BattleTypes.COOPERATIVE_BATTLE) ||
																			(_battleType == BattleTypes.PVE_BATTLE)))"/>
		<bind name="watch" value="'canBeInChat'; (playerCanBeInChat || selfCanBeInChat)"/>
		<block>
			<bind name="visible" value="canBeInChat"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="transition" value="canBeInChat &amp;&amp; _isTextChatMuted &amp;&amp; (_isSpeaking || _isVoiceChatMuted || !(_isInVoiceChat)); 0.15; {alpha: 1, top: 9}; {alpha: 1, top: 3}; {alpha: 1, top: 9}; 1"/>
			<bind name="watch" value="'state';	!(_isInVoiceChat)	? 'disabled' :
								_isVoiceChatMuted	? 'muted' :
								_isSpeaking			? 'speak'
													: null"/>
			<block>
				<bind name="transition" value="state; 0.1; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1"/>
				<block className="icon_voice_chat_small" type="native">
					<bind name="gotoAndStop!" value="state"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="transition" value="canBeInChat &amp;&amp; _isTextChatMuted &amp;&amp; (_isSpeaking || _isVoiceChatMuted || !(_isInVoiceChat)); 0.15; {alpha: 1, top: 8}; {alpha: 1, top: 14}; {alpha: 1, top: 8}; 1"/>
			<block>
				<bind name="transition" value="_isTextChatMuted; 0.1; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1"/>
				<block className="icon_text_chat_small" type="native">
					<bind name="gotoAndStop!" value="'muted')"/>
				</block>
			</block>
		</block>
	</block>
	<block className="DropdownInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<style>
			<width value="1px"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '100px'"/>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-9px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-19px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="_dropdownContentElement; { _menuScope: _menuScope }"/>
		</block>
	</block>
	<block className="InstructionParagraph">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<style>
				<width value="100%"/>
				<alpha value="0.9"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 220"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="InstructionMultiParagraph">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
		</style>
		<block className="icon_instruction" type="native">
			<bind name="gotoAndStop!" value="_type"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-3px"/>
			</style>
			<bind name="repeat" value="_instructionArray; 'InstructionParagraph'"/>
		</block>
	</block>
	<block className="InstructionWarning">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$WarningTextOrange"/>
				<style>
					<width value="100%"/>
					<alpha value="0.9"/>
				</style>
				<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 280"/>
				<bind name="text" value="_instructionText"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="MouseInstruction">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="visible" value="_type!='no_icon'"/>
			<block className="icon_mouse" type="native">
				<bind name="gotoAndStop!" value="_type"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="style" value="'marginLeft'; (_type=='no_icon') ? '0px' : '4px'"/>
			<style>
				<marginTop value="-2px"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 180"/>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="MouseInstructionRepeater">
		<bind name="style" value="'marginBottom'; $index != _lastIndex ? '6px' : '0px'"/>
		<bind name="instance" value="'MouseInstruction'; { _type: _type, _instructionText: _instructionText, _maxWidth: _maxWidth }"/>
	</block>
	<block className="InstructionBigTech">
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 500"/>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="DockTopMenuLinkText">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<block type="text">
			<styleClass value="$TextDockNano"/>
			<bind name="class" value="rollOver &amp;&amp; !(mouseDown) ? '$FontColorDefault' : '$None'"/>
			<bind name="text" value="_label"/>
		</block>
	</block>
	<block className="EmptyStatusParagraph">
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="_sizeClass ? _sizeClass : '$FontSizeLarge'"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 250"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="InvertableTextLine">
		<block type="text">
			<bind name="name" value="_name"/>
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.35"/>
				<top value="1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.1"/>
				<top value="-1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.2"/>
				<left value="1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.2"/>
				<left value="-1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _invertedClass : _normalClass"/>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="ResizeFrame">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<bind name="visible" value="!(restrict.up)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="6px"/>
				<top value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_top"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="6px"/>
				<bottom value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_bottom"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="6px"/>
				<height value="100%"/>
				<left value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="6px"/>
				<height value="100%"/>
				<right value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_right"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.up || restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<top value="-5px"/>
				<left value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_top_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.up || restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<top value="-5px"/>
				<right value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_top_right"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down || restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<bottom value="-5px"/>
				<left value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_bottom_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down || restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<bottom value="-5px"/>
				<right value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_bottom_right"/>
			</params>
		</block>
	</block>
	<css name="$WarningTextRed">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$WarningTextOrange">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<block className="WarningMessage">
		<bind name="appear" value="'addedToStage'; 0.15; _delay; {alpha: 0, top: _startTop ? _startTop : 10}; {alpha: 1, top: 0}; 2"/>
		<block type="text">
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 280"/>
			<bind name="class" value="_highWarning ? '$WarningTextRed' : '$WarningTextOrange'"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="WrongTextInputNotification">
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: _startTop ? _startTop : 10}; {alpha: 1, top: 0}; 2"/>
		<style>
			<width value="100%"/>
			<marginRight value="-1px"/>
			<marginLeft value="-1px"/>
		</style>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="1px"/>
				<marginBottom value="0px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="8px"/>
				<marginBottom value="7px"/>
			</style>
			<bind name="instance" value="'WarningMessage'; true	? { _delay: 0.07, _startTop: _startTop, _messageHiglight: _messageHiglight, _maxWidth: _maxWidth, _text: _text}
												: null"/>
		</block>
	</block>
	<block className="MultiParagraphHelpTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="330px"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : 330"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="GUIContrast">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block className="icon_question_mark" type="native">
				<style>
					<marginRight value="6px"/>
					<marginTop value="4px"/>
				</style>
			</block>
			<block type="text">
				<bind name="style" value="'maxWidth'; _width ? _width - 60 : 270"/>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="_tooltipHeader"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block>
				<style>
					<marginLeft value="12px"/>
					<marginRight value="12px"/>
					<marginTop value="9px"/>
					<marginBottom value="3px"/>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="_multiParagraphArray; 'RepeatParagraphItem'; {_maxWidth: _width - 24}"/>
			</block>
		</block>
	</block>
	<block className="RepeatParagraphItem">
		<bind name="style" value="'marginBottom'; _marginBottom ? _marginBottom : '6px'"/>
		<bind name="class" value="_middleAligned ? '$MiddleAligned' : ''"/>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="_class"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<bind name="style" value="'textAlign'; _textAlign ? _textAlign : 'left'"/>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 300"/>
			<bind name="text" value="(_toUpperCase ? toUpperCase(tr(_paragraphText)) : _paragraphText)"/>
			<bind name="substitute" value="	_substitute.mapName ? _substitute.mapName : '';
							_substitute.imageOffset ? _substitute.imageOffset : 0;
							_substitute.map ? _substitute.map : {}"/>
		</block>
	</block>
	<block className="GUIContrast">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
	</block>
	<block className="CheckBox">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<block className="checkbox_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="selected" value="switchProperty"/>
		</block>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<style>
				<marginLeft value="23px"/>
				<marginTop value="-3px"/>
				<hitTest value="false"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxTfWidth ? _maxTfWidth : 300"/>
			<bind name="transition" value="rollOver &amp;&amp; !mouseDown; 0.15; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<bind name="text" value="label"/>
		</block>
	</block>
	<block className="IconSlimClient">
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _isEventLike ? 'IDS_ENTER_IN_FULL_VERSION_FOR_ANNOUNCE_SHIPS' : 'IDS_ENTER_IN_FULL_VERSION_FOR_SHIPS'}"/>
		<block className="game_downloading" type="native"/>
	</block>
	<block className="ShipTitleWithIconAndSilhouette">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<block>
			<block>
				<bind name="instance" value="'ShipTitleWithIconAndLevel'; {_shipID : _shipID}"/>
			</block>
			<block>
				<style>
					<width value="122px"/>
					<height value="22px"/>
					<marginLeft value="12px"/>
					<marginTop value="-2px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathTinyIcon"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ShipTitleWithIconAndLevel">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<block>
			<style>
				<height value="27px"/>
			</style>
			<block className="icon_wreath" type="native">
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
					<top value="-1px"/>
				</style>
				<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
				<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
								shipInfo.isPremium 	? 'premium'
													: 'elite'"/>
			</block>
			<block>
				<style>
					<marginLeft value="5px"/>
					<marginTop value="7px"/>
				</style>
				<block className="icon_ship" type="native">
					<styleClass value="$MouseDisable"/>
					<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial 	? shipInfo.subtype + '_P'
																				: shipInfo.subtype"/>
				</block>
			</block>
			<block>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="-2px"/>
				</style>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial	? '$FontShipnameGolden'
																		: '$FontShipnameWhite'"/>
					<bind name="text" value="shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS))"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CharCounter">
		<bind name="transition" value="_string.length &gt; 0; 0.15; {alpha: 0, top:10}; {alpha: 1, top:0}; {alpha: 0, top:10}; 1; 0"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CHARS_LEFT'}"/>
		<style>
			<backgroundColor value="0x01000000"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="_string.length &gt; _maxChars ? '$FontColorUnready' : '$FontColorDefault'"/>
			<bind name="style" value="'alpha'; _string.length &gt; _maxChars ? 1 : 0.6"/>
			<bind name="text" value="_maxChars - _string.length"/>
		</block>
	</block>
	<block className="BusyIndicator">
		<bind name="fade" value="_showBusyIndicator; 0.15; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1; 0.3"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="indicator_busy_small" type="native"/>
		<block type="text">
			<bind name="visible" value="_label.length &gt; 0"/>
			<styleClass value="$TextDefaultTech"/>
			<bind name="class" value="'$Bold'"/>
			<style>
				<marginLeft value="6px"/>
				<marginTop value="-2px"/>
			</style>
			<bind name="text" value="toUpperCase(tr(_label))"/>
		</block>
	</block>
	<block className="FormationPlayerIcon">
		<style>
			<width value="15px"/>
		</style>
		<block className="formation_player_status" type="native">
			<bind name="gotoAndStop!" value="_isEmptySlot				?	('empty_slot_' + _formationType) :
							isOtherDivision				?	(isCommander	? 'player_ready_other_division_commander'
																			: 'player_ready_other_division') :
							isInBattle &amp;&amp; _isWardog		?	('player_in_battle_' + _formationType + '_merc') :
							isInBattle					?	('player_in_battle_' + _formationType) :
							_isWardog &amp;&amp; isReady		?	('player_ready_' + _formationType + '_merc') :
							_isWardog &amp;&amp; !isReady		?	('player_not_ready_' + _formationType + '_merc') :
							isCommander &amp;&amp; isReady		?	('commander_' + _formationType) :
							isCommander &amp;&amp; !isReady		?	('commander_not_ready_' +_formationType) :
							!isCommander &amp;&amp; isReady		?	('player_ready_' + _formationType) :
							!isCommander &amp;&amp; !isReady	?	('player_not_ready_' + _formationType)
														:	'empty_slot_division'"/>
			<style>
				<marginTop value="3px"/>
			</style>
		</block>
	</block>
	<css name="$TextBackBtn">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<block className="BackButton">
		<style>
			<height value="30px"/>
		</style>
		<block className="button_dock" type="native">
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _text}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="dispatch" value="'buttonClick'; _event ? _event : null ; _eventData ? _eventData : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<params>
				<param name="focusable" value="false"/>
			</params>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<hitTest value="false"/>
			</style>
			<block className="icon_navigate" type="native">
				<bind name="gotoAndStop!" value="'left'"/>
				<style>
					<marginLeft value="6px"/>
				</style>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="2px"/>
					<marginRight value="7px"/>
				</style>
				<block>
					<style>
						<marginTop value="-4px"/>
					</style>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.4"/>
							<top value="1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<top value="-1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<left value="1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<left value="-1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="_text"/>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="NationFlagsBig">
		<style>
			<backgroundStretchY value="true"/>
			<backgroundStretchX value="true"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '694px' "/>
		<bind name="style" value="'height'; _height ? _height : '426px' "/>
		<bind name="style" value="'alpha'; _alpha ? _alpha : '1' "/>
		<bind name="style" value="'backgroundImage'; 'url:../nation_flags/big/flag_' + shipCountry + '.png'"/>
	</block>
	<block className="NationFlagsSmall">
		<style>
			<backgroundStretchY value="true"/>
			<backgroundStretchX value="true"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '117px' "/>
		<bind name="style" value="'height'; _height ? _height : '72px' "/>
		<bind name="style" value="'alpha'; _alpha ? _alpha : '1' "/>
		<bind name="style" value="'backgroundImage'; 'url:../nation_flags/small/flag_' + shipCountry + '.png'"/>
	</block>
	<block className="NationFlagsTiny">
		<style>
			<backgroundStretchY value="true"/>
			<backgroundStretchX value="true"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '33px' "/>
		<bind name="style" value="'height'; _height ? _height : '21px' "/>
		<bind name="style" value="'alpha'; _alpha ? _alpha : '1' "/>
		<bind name="style" value="'backgroundImage'; 'url:../nation_flags/tiny/flag_' + shipCountry + '.png'"/>
	</block>
	<block className="ShipExtendedTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_EXPLORE + shipId; 'shipExplorePrice'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + shipId; 'shipBuyPrice'"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<bind name="style" value="'userData'; { rightOffset: _hOffset }"/>
		<styleClass value="$ShipTreeTooltipBehaviour"/>
		<params>
			<param name="name" value="upgrade_tree_Ship_info"/>
		</params>
		<style>
			<width value="300px"/>
		</style>
		<styleClass value="$MouseDisable"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'ShipInfoTabHeader'; {	_isNotMyShip: _isNotMyShip, _inSideCompare: inSideCompare, shipId: shipId }"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="-40px"/>
					<marginBottom value="-20px"/>
					<width value="214px"/>
					<height value="126px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathPreview"/>
			</block>
			<block>
				<bind name="visible" value="(inSideCompare != true) &amp;&amp; !(inIntromissionWindow)"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<bind name="instance" value="'CurrentXPLarge'; playerShipInfo != null	? { _exp: playerShipInfo.exp, _light: true, _label: tr('IDS_SHIP_EXPERIENCE') + tr('IDS_COLON') }
																			: null"/>
				</block>
				<block>
					<bind name="visible" value="!isOwned &amp;&amp; !(_inRewards) &amp;&amp; !(shipInfo.isEventLike) &amp;&amp; !(shipInfo.isSpecial)"/>
					<style>
						<width value="100%"/>
						<marginTop value="12px"/>
					</style>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'PriceInLine'; !(upgradableShipInfo.isExplored)	? { priceInfo: shipExplorePrice.prices[0], _label: 'IDS_RESEARCH_COST',
																						_medium: true, _showDiscountTag: true}
															: null"/>
					</block>
					<block>
						<bind name="style" value="'marginTop'; upgradableShipInfo.isExplored ? '0px' : '9px'"/>
						<style>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'PriceInLine'; 	upgradableShipInfo.isExplored &amp;&amp; isOwned ? null
															:!(isOwned) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true, _showDiscountTag:true}
															: null"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="inSideCompare != true"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<position value="absolute"/>
					<marginBottom value="-1px"/>
					<marginTop value="1px"/>
				</style>
				<styleClass value="$PxHorizontalCorrection"/>
				<styleClass value="$Fullsize"/>
			</block>
			<bind name="instance" value="'ShipDescription'; {_shipNameIDS: shipInfo.nameIDS, _isPaperShip: shipInfo.isPaperShip, _peculiarity: shipInfo.peculiarity}"/>
		</block>
		<block>
			<bind name="visible" value="(shipInfo.isEventLike &amp;&amp; isOwned) || !(shipInfo.isEventLike)"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'marginTop'; (inSideCompare == true) ? '18px' : '0px'"/>
			<bind name="instance" value="'ShipParamsTooltipList'; _testShipParams ?
			{ inSideCompare: inSideCompare, typeList : 'tooltipShipParams', params: _testShipParams, testParams: (nonPlayerShipParams ? nonPlayerShipParams : (playerShipInfo != null ? playerShipInfo.params : shipInfo.params)), testObjectIsBaseForView: 1, testObjectIsBaseForCompare: 0, showCompareWithZero: 1}
			: { typeList : 'tooltipShipParams', params: (playerShipInfo != null ? playerShipInfo.params : shipInfo.params)}"/>
		</block>
		<block>
			<bind name="visible" value="!isOwned &amp;&amp; shipInfo.isEventLike"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<style>
				<width value="100%"/>
			</style>
			<block className="ShowLabelComingSoon">
				<block>
					<style>
						<width value="100%"/>
						<height value="80px"/>
					</style>
					<block className="icon_issued" type="native">
						<style>
							<marginLeft value="150px"/>
							<marginTop value="40px"/>
						</style>
						<bind name="rotation" value="-3"/>
						<innerBind elementName="item.item" name="text" value="toUpperCase(tr('IDS_UNAVAILABLE_TO_DISPLAY_SOON'))"/>
						<bind name="gotoAndPlay!" value="'issued'"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(_inRewards == true) &amp;&amp; (_isPRMP != true)"/>
			<style>
				<width value="100%"/>
				<marginBottom value="9px"/>
			</style>
			<bind name="instance" value="'RewardReasonsList'; _inRewards ? { _rewardReasons: _rewardReasons } : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="class" value="_needService || (_isLocked &amp;&amp; !(playerShipInfo.isInFormation)) ? '$InfoBlockIndent' : '$None'"/>
			<bind name="instance" value="'InstructionWarning';	_needService 									? { _instructionText: 'IDS_SHIP_NEEDS_SERVICE_MESSAGE'} :
												_isLocked &amp;&amp; !(playerShipInfo.isInFormation)	? { _instructionText: 'IDS_SHIP_IN_BATTLE_MESSAGE'}
															: null"/>
		</block>
	</block>
	<css name="$MetaTooltipTextWidth">
		<maxWidth value="250"/>
	</css>
	<block className="SimpleShipParamTooltip">
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<styleClass value="$MetaTooltipTextWidth"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="$parent.nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<styleClass value="$MetaTooltipTextWidth"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="$parent.tooltipIDS"/>
			</block>
		</block>
	</block>
	<block className="SecondLevelShipParamTooltip">
		<style>
			<width value="100%"/>
		</style>
		<bind name="name" value="'secondLevelParamsTooltip_' + $parent.id"/>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<styleClass value="$FullWidth"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="$parent.nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<styleClass value="$FullWidth"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="$parent.tooltipIDS"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$PxHorizontalCorrection"/>
			</block>
			<bind name="instance" value="'ShipParamsListView';{ viewParams:$parent.secondLevel, secondLevelTooltip: true }"/>
		</block>
	</block>
	<block className="ShipParamTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<bind name="class" value="meta ? '$None' : '$DefaultTooltipWidth'"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; _isArmour ? 'dockDefaultValues' : null; 'dockInitData,dockUpdateData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<position value="absolute"/>
			</style>
			<styleClass value="$Fullsize"/>
		</block>
		<block>
			<bind name="class" value="(secondLevel == null || secondLevel.length == 0) ? '$None' : '$FullWidth'"/>
			<bind name="child" value="(secondLevel == null || secondLevel.length == 0) ? 0 : 1;'SimpleShipParamTooltip';'SecondLevelShipParamTooltip'"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-3px"/>
			</style>
			<bind name="visible" value="_hasExcursion || _isArmour"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<bind name="instance" value="'MouseInstruction'; _hasExcursion 	? { _type: 'left', _instructionText: 'IDS_INSTRUCTION_SHIP_COMPONENT_DEMO', _maxWidth: '250'} :
												_isArmour		? { _type: 'left', _instructionText: dockDefaultValues.armourVisibility ? 'IDS_INSTRUCTION_SHIP_ARMOUR_DEMO_OFF' : 'IDS_INSTRUCTION_SHIP_ARMOUR_DEMO_ON', _maxWidth: '250' }
																: null"/>
			</block>
		</block>
	</block>
	<block className="ShipInfoTooltipRow">
		<style>
			<width value="100%"/>
		</style>
		<bind name="height" value="meta ? 27 : $block.measuredHeight"/>
		<block>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
				<bottom value="-1px"/>
			</style>
			<bind name="visible" value="meta"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<left value="1px"/>
				<overflow value="hidden"/>
			</style>
			<bind name="instance" value="'StatValueBar'; meta ? {_width: _width ? _width : 298, _hasDiff: root.hasDiff || inSideCompare, _currentValue: root.values[0], _diffValue: root.diffData[0].value, _isGood: root.diffData[0].isGood, _expand: true, _invert: ident == 'visibility' } : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="12px"/>
				<marginRight value="12px"/>
				<marginTop value="1px"/>
				<marginBottom value="3px"/>
			</style>
			<bind name="style" value="'marginTop'; ($parent.viewParams.list[$index - 1] == null) &amp;&amp; !(meta) ? '5px' : '1px'"/>
			<bind name="style" value="'marginBottom'; $parent.viewParams.list[$index + 1] == null &amp;&amp; !(meta) ? '8px' : '3px'"/>
			<block>
				<block type="text">
					<style>
						<alpha value="0.8"/>
						<leading value="-4"/>
						<maxWidth value="160"/>
					</style>
					<bind name="class" value="meta ? '$TextMetaHeader' : '$TextMetaInfo'"/>
					<bind name="text" value="nameIDS"/>
				</block>
				<block>
					<style>
						<alpha value="0.8"/>
						<marginLeft value="-7px"/>
					</style>
					<bind name="style" value="'marginTop'; title ? '-7px' : '0px'"/>
					<bind name="instance" value="'ParamElement'; title"/>
				</block>
			</block>
			<block>
				<styleClass value="$AlignRight"/>
				<block>
					<bind name="instance" value="'ParamElement'; value"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ShipParamsTooltipList">
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="repeat" value="viewParams.list; 'ShipInfoTooltipRow'; { inSideCompare: inSideCompare }"/>
	</block>
	<block className="ShipParamsTooltipListView">
		<style>
			<width value="100%"/>
		</style>
		<bind name="repeat" value="viewParams.list;'ShipInfoTooltipRow'; { _width: _width }"/>
	</block>
	<block className="ShipSideCompareTooltip">
		<styleClass value="$ShipTreeTooltipBehaviour"/>
		<params>
			<param name="name" value="ShipSideCompareTooltip"/>
		</params>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; _selfPlayerShipId; 'evUpdate'"/>
		<bind name="watchDH" value="'selfPlayerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'showOwnShip'; (userPrefs.showOwnShipInCompare == null) ? false : userPrefs.showOwnShipInCompare "/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="visible" value="showOwnShip || _isSelf"/>
			<style>
				<marginRight value="3px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<style>
					<right value="0px"/>
				</style>
				<text value="IDS_YOUR_SHIP"/>
			</block>
			<block>
				<bind name="instance" value="'ShipExtendedTooltip'; { _isNotMyShip: false, shipId: _selfPlayerShipId, _testShipParams: _isSelf ? null : _nonPlayerShipParams,
													 inSideCompare: true}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(_isSelf)"/>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<style>
					<right value="0px"/>
				</style>
				<bind name="text" value="_nickname"/>
			</block>
			<block>
				<bind name="instance" value="'ShipExtendedTooltip'; relation != 0	? { _isNotMyShip: true, shipId: _shipId, _testShipParams: selfPlayerShipInfo.params,
																		nonPlayerShipParams: _nonPlayerShipParams, inSideCompare: true}
																	: null"/>
			</block>
		</block>
	</block>
	<block className="ClubInfoTooltip">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'name';['entityClub.club.evNameChanged']; entityClub.club.name"/>
		<bind name="watchDH" value="'league';['entityClub.club.evRatingChanged']; entityClub.club.league"/>
		<bind name="watchDH" value="'creationTimeStamp';['entityClub.club.evRatingChanged']; entityClub.club.creatingTime"/>
		<bind name="watchDH" value="'battlesCount';['entityClub.club.evRatingChanged']; entityClub.club.battlesCount"/>
		<bind name="watchDH" value="'winCount';['entityClub.club.evRatingChanged']; entityClub.club.winCount"/>
		<bind name="watchDH" value="'drawCount';['entityClub.club.evRatingChanged']; entityClub.club.drawCount"/>
		<bind name="watchDH" value="'loseCount';['entityClub.club.evRatingChanged']; entityClub.club.loseCount"/>
		<bind name="watchDH" value="'lastBattleTimeStamp';['entityClub.club.evRatingChanged']; entityClub.club.lastBattleTime"/>
		<bind name="watchDH" value="'winRate';['entityClub.club.evRatingChanged']; entityClub.club.winRate"/>
		<bind name="watch" value="'drawRate'; drawCount / battlesCount * 100"/>
		<bind name="watch" value="'loseRate'; loseCount / battlesCount * 100"/>
		<bind name="watch" value="'stats'; [	{label: 'IDS_CLUB_BATTLES_COUNT', rate: 'no_rate',	count: battlesCount},
							{label: 'IDS_VICTORIES'			, rate: winRate,	count: winCount},
							{label: 'IDS_DRAWS'				, rate: drawRate,	count: drawCount},
							{label: 'IDS_DEFEATS'			, rate: loseRate,	count: loseCount}]"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextAccentBold"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="text" value="name"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<style>
					<width value="100%"/>
					<alpha value="0.7"/>
					<marginTop value="-2px"/>
				</style>
				<bind name="text" value="tr('IDS_LEAGUE_'+league)"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="tr('IDS_CLUB_CREATOR')+tr('IDS_COLON')"/>
				</block>
				<block>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="instance" value="'PlayerContactItem'; {_entityAccountId: entityClub.club.creatorEntityId, _isOfflineAlpha: true}"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
					<bottom value="0"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="timeFormat" value="creationTimeStamp; 'dd.MM.yyyy'; 'creationTime'; false"/>
				<bind name="text" value="tr('IDS_CREATION_DATE')+tr('IDS_COLON') + ' ' + creationTime"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="battlesCount &gt; 0"/>
			<bind name="timeFormat" value="lastBattleTimeStamp; 'dd.MM.yyyy'; 'lastBattleDate'; false"/>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="tr('IDS_LAST_BATTLE')+tr('IDS_COLON') + ' ' + lastBattleDate"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="repeat" value="stats; 'ClubTooltipStatRow'"/>
			</block>
		</block>
	</block>
	<block className="ClubTooltipStatRow">
		<style>
			<width value="100%"/>
		</style>
		<bind name="style" value="'marginBottom'; (rate == 'no_rate') ? '4px' : '0px'"/>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="label"/>
		</block>
		<block type="text">
			<bind name="visible" value="rate != 'no_rate'"/>
			<style>
				<alpha value="0.7"/>
				<position value="absolute"/>
				<right value="70"/>
			</style>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="format((rate ? rate : 0), 0) +'%'"/>
		</block>
		<block type="text">
			<styleClass value="$AlignRight"/>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="count"/>
		</block>
	</block>
	<block className="ClubLeagueIconSmall">
		<style>
			<width value="60px"/>
			<height value="60px"/>
		</style>
		<style>
			<backgroundSize value="cover"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'symbol:club_icon_league_' + ((_league != null)	? ((_league &gt; 2)	? '2'
																										: _league)
																					: '-1')"/>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<bind name="child" value="_state ? _state : 'Rating'; { _rating: _rating, _isPartyMember: _isPartyMember, _isCommander: _isCommander}; {	Rating: 'ClubIconRatingSmall',
																																	InBattle: 'ClubIconInBattleSmall',
																																	Party: 'ClubIconPartySmall'}"/>
		</block>
	</block>
	<block className="ClubIconRatingSmall">
		<block type="text">
			<style>
				<marginBottom value="1px"/>
			</style>
			<styleClass value="$TextDefaultBold"/>
			<bind name="text" value="format(_rating, -1)"/>
		</block>
	</block>
	<block className="ClubIconInBattleSmall">
		<block>
			<style>
				<width value="32px"/>
				<height value="29px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; _isPartyMember	? 'symbol:icon_club_status_in_battle_member_small'
														: 'symbol:icon_club_status_in_battle_small'"/>
		</block>
	</block>
	<block className="ClubIconPartySmall">
		<block>
			<style>
				<marginTop value="1px"/>
				<width value="32px"/>
				<height value="29px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; _isCommander	? 'symbol:icon_club_status_party_commander_small' :
										_isPartyMember 	? 'symbol:icon_club_status_party_member_small'
														: 'symbol:icon_club_status_party_small'"/>
		</block>
	</block>
	<block className="ClubLeagueIconSmallSimple">
		<bind name="tooltip" value="'ClubInfoTooltipSimple'; {_teamName: _teamName, _rating: _rating, _league: _league, _isInBattle: _isInBattle}"/>
		<block className="ClubLeagueIconSmall">
			<style>
				<width value="60px"/>
				<height value="60px"/>
			</style>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'symbol:club_icon_league_' + ((_league != null)	? ((_league &gt; 2)	? '2'
																										: _league)
																					: '-1')"/>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<bind name="child" value="_state ? _state : 'Rating'; { _rating: _rating, _isPartyMember: _isPartyMember, _isCommander: _isCommander}; {	Rating: 'ClubIconRatingSmall',
																																	InBattle: 'ClubIconInBattleSmall',
																																	Party: 'ClubIconPartySmall'}"/>
			</block>
		</block>
	</block>
	<block className="ClubInfoTooltipSimple">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="240px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'MenuTooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextAccentBold"/>
				<style>
					<width value="100%"/>
					<marginTop value="-4px"/>
				</style>
				<bind name="text" value="_teamName"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="text" value="tr('IDS_RATING')+tr('IDS_COLON') + ' ' + format(_rating, -1) +', ' + tr('IDS_LEAGUE_'+ _league)"/>
			</block>
		</block>
	</block>
	<block className="ClubHeaderIcon">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'league';['entityClub.club.evRatingChanged']; entityClub.club.league"/>
		<bind name="watch" value="'curLeague';	_fakeLeague		? ((_fakeLeague &gt; 2) ? '2'
																	 : _fakeLeague) :
								league != null	? ((league &gt; 2) ? '2'
																: league)
												: '-1'"/>
		<style>
			<width value="260px"/>
			<height value="330px"/>
		</style>
		<block>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="watch" value="'clubHeaderBgrSymbol'; 'symbol:club_header_bgr_league_' + curLeague"/>
			<bind name="style" value="'backgroundImage'; clubHeaderBgrSymbol"/>
			<bind name="transition" value="_isActiveClubIcon; 0.15; {alpha: 0.65}; {alpha: 1}; {alpha: 0.65}; 0"/>
			<block>
				<bind name="name" value="'clubInfo'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="child" value="_clubIconState ? _clubIconState : 'Party'; {	_clubEntityId: _clubEntityId,
																		_animParams: _animParams,
																		_ratingValue: _ratingValue};

																	{	RatingCounter: 'ClubIconRatingCounter',
																		Rating: 'ClubIconRating',
																		InBattle: 'ClubIconInBattle',
																		Party: 'ClubIconParty'}"/>
			</block>
			<block>
				<style>
					<bottom value="102"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<bind name="appear" value="'CountPoints_0'; 0.2; 0.3; {top: 10, alpha: 0}; {top: 0, alpha: 1}; 1"/>
				<bind name="instance" value="'ClubLeagueLabel'; (curLeague != '-1') ? {	_league: (_fakeLeague	? _fakeLeague : league),
																		_state : (_leagueState ? _leagueState : 'issued')} : null"/>
			</block>
		</block>
		<block>
			<style>
				<backgroundSize value="cover"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="watch" value="'clubLeagueSymbol'; 'symbol:club_header_league_' + curLeague"/>
			<bind name="style" value="'backgroundImage'; clubLeagueSymbol"/>
		</block>
		<block>
			<bind name="visible" value="_isLeader &amp;&amp; (curLeague != '-1')"/>
			<style>
				<marginLeft value="16px"/>
				<marginTop value="26px"/>
				<position value="absolute"/>
			</style>
			<block className="icon_club_leader_big" type="native"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [	{_paragraphText: 'IDS_YOU_ARE_CLUB_LEADER'},
																			{_paragraphText: 'IDS_CLUB_LEADER_DESCRIPTION_0'},
																			{_paragraphText: 'IDS_CLUB_LEADER_DESCRIPTION_1'},
																			{_paragraphText: 'IDS_CLUB_LEADER_DESCRIPTION_2'}],
													_marginBottom: '4px'}"/>
		</block>
	</block>
	<block className="ClubIconRating">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'lastBattleRatingDelta';['entityClub.club.evRatingChanged']; entityClub.club.lastBattleRatingDelta"/>
		<bind name="watchDH" value="'rating';['entityClub.club.evRatingChanged']; entityClub.club.rating"/>
		<bind name="watch" value="'ratingValue'; _clubEntityId ? rating : _ratingValue"/>
		<styleClass value="$Fullsize"/>
		<style>
			<marginTop value="80px"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<bind name="appear" value="'addedToStage'; 0.15; 0.3;	{scaleY: 0.5, scaleX: 0.5, ubScaleY: 0.5, ubScaleX: 0.5, alpha: 0, top: 10};
														{scaleY: 1, scaleX: 1, ubScaleY: 1, ubScaleX: 1, alpha: 1, top: 0}"/>
				<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{_paragraphText: 'IDS_RATING_HINT_0'}, {_paragraphText: 'IDS_RATING_HINT_1'}]}"/>
				<styleClass value="$TextAccentBoldAccountLevel1"/>
				<bind name="text" value="format(ratingValue, -1)"/>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="appear" value="'addedToStage'; 0.15; 0.42; {scaleY: 0.5, alpha: 0, top: 20}; {scaleY: 1, alpha: 1, top: 0}"/>
			<style>
				<marginTop value="-8px"/>
			</style>
			<block>
				<block>
					<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{_paragraphText: 'IDS_RATING_HINT_0'}, {_paragraphText: 'IDS_RATING_HINT_1'}]}"/>
					<block type="text">
						<styleClass value="$TextHeader"/>
						<bind name="class" value="'$Bold'"/>
						<bind name="text" value="toLowerCase(tr('IDS_RATING'))"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="(lastBattleRatingDelta &amp;&amp; (lastBattleRatingDelta != 0))"/>
					<block className="icon_value_changed" type="native">
						<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: lastBattleRatingDelta &gt; 0 ? [{_paragraphText: 'IDS_RATING_UP_LB'}]
																												: [{_paragraphText: 'IDS_RATING_DOWN_LB'}]}"/>
						<style>
							<marginTop value="11px"/>
						</style>
						<bind name="gotoAndStop!" value="lastBattleRatingDelta &gt; 0 	? 'up' 
																	: 'down'"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ClubIconPartyState">
		<style>
			<width value="34px"/>
			<height value="34px"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0.3; {width: 34, height: 34, alpha: 0, top: 20};
											 {width: 68, height: 68, alpha: 1, top: 0}"/>
		<bind name="var" value="{firstChange: true}"/>
		<bind name="dispatch" value="'addedToStage'; 'changePartyStateEv'; false; 0.5"/>
		<bind name="catch" value="'changePartyStateEv'; {firstChange: false}"/>
		<bind name="watch" value="'change';  _isPartyCommander 	? 2 :
							_isPartyMember 		? 1
												: 0"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="change==0; 0.14;	{left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange	? 0 :
																												change==0	? 0.57
																															: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_party'"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="change==1; 0.14;	{left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange	? 0 :
																												change==1	? 0.57
																															: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_party_member'"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="change==2; 0.14; {left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange	? 0 :
																											change==2	? 0.57
																														: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_party_commander'"/>
		</block>
	</block>
	<block className="ClubIconParty">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'partyPlayersCount'; ['entityClub.party.evUpdate']; entityClub.party.playersCount"/>
		<bind name="watchDH" value="'partyPlayersLimit'; ['entityClub.party.evUpdate']; entityClub.party.playersLimit"/>
		<bind name="watchDH" value="'isPartyMember'; ['entityClub.party.evUpdate']; entityClub.party.isMember"/>
		<bind name="watchDH" value="'isPartyCommander'; ['entityClub.party.evUpdate']; entityClub.party.isOwner"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: isPartyMember ? [{_paragraphText: 'IDS_PARTY_UP_FOR_BATTLE'}]
																					: [{_paragraphText: 'IDS_PARTY_UP_FOR_BATTLE'}, {_paragraphText: 'IDS_PROFILE_CLUBS_INSTRUCTION_9_1'}]}"/>
		<style>
			<marginTop value="63px"/>
		</style>
		<styleClass value="$MiddleAligned"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<height value="68px"/>
			</style>
			<bind name="instance" value="'ClubIconPartyState'; {_isPartyCommander: isPartyCommander, _isPartyMember: isPartyMember}"/>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.42; {scaleY: 0.7, alpha: 0, top: 25}; {scaleY: 1, alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<style>
					<marginTop value="-4px"/>
					<alpha value="0.85"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="toLowerCase(tr('IDS_GATHERING_TO_BATTLE'))"/>
			</block>
			<block>
				<style>
					<marginTop value="-4px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<styleClass value="$TextAccentBold"/>
					<style>
						<marginTop value="-4px"/>
					</style>
					<bind name="text" value="partyPlayersCount"/>
				</block>
				<block type="text">
					<styleClass value="$TextAccentBold"/>
					<style>
						<alpha value="0.9"/>
						<marginTop value="-4px"/>
						<marginRight value="-1px"/>
						<marginLeft value="-3px"/>
					</style>
					<text value="/"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontSizeHeader5'"/>
					<style>
						<alpha value="0.9"/>
					</style>
					<bind name="text" value="partyPlayersLimit"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ClubIconBattleState">
		<style>
			<width value="34px"/>
			<height value="34px"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0.3; {width: 34, height: 34, alpha: 0, top: 20};
											 {width: 68, height: 68, alpha: 1, top: 0}"/>
		<bind name="var" value="{firstChange: true}"/>
		<bind name="dispatch" value="'addedToStage'; 'changeBattleStateEv'; false; 0.5"/>
		<bind name="catch" value="'changeBattleStateEv'; {firstChange: false}"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="!(_isPartyMember); 0.14;	{left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange			? 0 :
																														!(_isPartyMember)	? 0.57
																																			: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_in_battle'"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="_isPartyMember; 0.14;	{left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange			? 0 :
																													_isPartyMember		? 0.57
																																		: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_in_battle_member'"/>
		</block>
	</block>
	<block className="ClubIconInBattle">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'isPartyMember'; ['entityClub.party.evUpdate']; entityClub.party.isMember"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{_paragraphText: 'IDS_PARTY_IN_BATTLE'}]}"/>
		<style>
			<marginTop value="75px"/>
		</style>
		<styleClass value="$MiddleAligned"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<height value="68px"/>
			</style>
			<bind name="instance" value="'ClubIconBattleState'; {_isPartyMember: isPartyMember}"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="appear" value="'addedToStage'; 0.15; 0.42; {scaleY: 0.5, alpha: 0, top: 20}; {scaleY: 1, alpha: 1, top: 0}"/>
			<block type="text">
				<style>
					<marginTop value="-8px"/>
					<alpha value="0.9"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="toLowerCase(tr('IDS_IN_BATTLE'))"/>
			</block>
		</block>
	</block>
	<block className="ClubLeagueLabel">
		<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{_paragraphText: 'IDS_CURRENT_LEAGUE_' + _league}]}"/>
		<bind name="watch" value="'label'; toUpperCase(tr('IDS_LEAGUE_'+_league))"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
			</style>
			<block>
				<style>
					<position value="absolute"/>
				</style>
				<block className="icon_issued" type="native">
					<bind name="name" value="'league'"/>
					<innerBind elementName="item.item" name="text" value="label"/>
					<bind name="gotoAndPlay!" value="_state"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ClubLeagueIconTiny">
		<style>
			<width value="35px"/>
			<height value="35px"/>
			<backgroundSize value="cover"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'symbol:club_icon_league_'+(_league != null	? ((_league &gt; 2)	? '2'
																									: _league)
																				: '-1')"/>
	</block>
	<block className="ClubBattleClubsVS">
		<styleClass value="$MiddleAligned"/>
		<block>
			<style>
				<marginBottom value="15px"/>
			</style>
			<block>
				<bind name="visible" value="_alliedClub.clubLeague != null &amp;&amp; _alliedClub.clubLeague == _enemyClub.clubLeague"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.25"/>
					<bottom value="-6"/>
					<hitTest value="false"/>
				</style>
				<bind name="instance" value="'ClubLeagueLabel'; (_alliedClub.clubLeague != '-1') ? {	_league: _alliedClub.clubLeague, _state: 'issued'} : null"/>
			</block>
			<block>
				<bind name="tooltip" value="'ClubInfoTooltipSimple'; {_teamName: _alliedClub.clubName, _rating: format(_alliedClub.clubRating, -1), _league: _alliedClub.clubLeague}"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<position value="absolute"/>
					<right value="105%"/>
				</style>
				<block type="text">
					<styleClass value="$TextAccentBold"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginRight value="6px"/>
						<alpha value="0.85"/>
					</style>
					<bind name="text" value="_alliedClub.clubName"/>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<bind name="visible" value="_alliedClub.clubLeague != _enemyClub.clubLeague"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.25"/>
							<top value="90%"/>
							<left value="10%"/>
							<hitTest value="false"/>
						</style>
						<bind name="instance" value="'ClubLeagueLabel'; (_alliedClub.clubLeague != '-1') ? {	_league: _alliedClub.clubLeague, _state: 'issued'} : null"/>
					</block>
					<block type="text">
						<styleClass value="$TextAccentBold"/>
						<bind name="class" value="'$FontAccentSize2'"/>
						<bind name="text" value="format(_alliedClub.clubRating, -1)"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<width value="30px"/>
					<height value="30px"/>
				</style>
			</block>
			<block>
				<bind name="tooltip" value="'ClubInfoTooltipSimple'; {_teamName: _enemyClub.clubName, _rating: _enemyClub.clubRating, _league: _enemyClub.clubLeague}"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<position value="absolute"/>
					<left value="105%"/>
				</style>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<bind name="visible" value="_alliedClub.clubLeague != _enemyClub.clubLeague"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.25"/>
							<top value="90%"/>
							<right value="10%"/>
							<hitTest value="false"/>
						</style>
						<bind name="instance" value="'ClubLeagueLabel'; (_enemyClub.clubLeague != '-1') ? { _league: _enemyClub.clubLeague, _state: 'issued' } : null"/>
					</block>
					<block type="text">
						<styleClass value="$TextAccentBold"/>
						<bind name="class" value="'$FontAccentSize2'"/>
						<bind name="text" value="format(_enemyClub.clubRating, -1)"/>
					</block>
				</block>
				<block type="text">
					<styleClass value="$TextAccentBold"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="6px"/>
						<alpha value="0.85"/>
					</style>
					<bind name="text" value="_enemyClub.clubName"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="IconRankSmall">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<width value="27px"/>
				<height value="27px"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:' + '../ranks/icons/icon_rank_small_' + (_rankId - 1) + '.png'"/>
		</block>
		<block type="text">
			<style>
				<marginLeft value="-3px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextSecondaryBold"/>
			<bind name="class" value="'$FontSizeNano'"/>
			<bind name="text" value="_rankId &gt; 1 ? _rankId - 1 : ''"/>
		</block>
	</block>
	<block className="RankStars">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<bind name="tooltip" value="'RankStarTooltip'; !(rankInfo.starLossPlace == 0 &amp;&amp; rankInfo.starEarnPlace == 0) ? {_rankId: _rankId} : null"/>
		<bind name="style" value="'width'; _noWidth ? 'auto' : '100%'"/>
		<style>
			<flow value="htile"/>
			<align value="center"/>
		</style>
		<bind name="repeat" value="rankInfo.starsToNext; (_size ? 'RankStarIconSmall' : 'RankStarIcon'); {_starState: (rankedBattlesStats.rank &lt; rankInfo.id)	? 'earned'
																																				: (rankedBattlesStats.rank &gt; rankInfo.id)	? 'not_earned'
																																															: 'unknown', _size: _size}"/>
	</block>
	<block className="TotalEarnedStars">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<flow value="htile"/>
				<align value="center"/>
			</style>
			<bind name="repeat" value="_starsCount; 'RankStarIconSmall'; {_starState: 'earned'}"/>
		</block>
	</block>
	<block className="RankStarIcon">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<block className="icon_rank_star" type="native">
			<style>
				<marginLeft value="5px"/>
				<marginRight value="5px"/>
			</style>
			<bind name="gotoAndStop!" value="(_starState != 'unknown')	? _starState
														: ( $index + 1 &lt;= rankedBattlesStats.stars)	|| (rankedBattlesStats.rank == 2) ? 'earned'
																									: 'not_earned'"/>
		</block>
	</block>
	<block className="RankStarIconSmall">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<block className="icon_rank_star_small" type="native">
			<style>
				<marginLeft value="2px"/>
				<marginRight value="2px"/>
				<marginTop value="1px"/>
				<marginBottom value="1px"/>
			</style>
			<bind name="style" value="'width'; _size == 'small' ? '27px' : 'auto'"/>
			<bind name="style" value="'height'; _size == 'small' ? '27px' : 'auto'"/>
			<bind name="gotoAndStop!" value="(_starState != 'unknown')	? _starState
														: ( $index + 1 &lt;= rankedBattlesStats.stars)	|| (rankedBattlesStats.rank == 2) ? 'earned'
																									: 'not_earned'"/>
		</block>
	</block>
	<block className="RankStarLostNotice">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<bind name="visible" value="rankInfo.starLossPlace != 0"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="icon_star_earn_condition_small" type="native">
				<style>
					<marginLeft value="-2px"/>
				</style>
				<bind name="gotoAndStop!" value="2"/>
			</block>
			<bind name="watch" value="'additionalCondition'; rankInfo.starLossPlace == 2 ? 'IDS_RANKED_BATTLE_STAR_LOSS_PLACE_CONDITION' :
											rankInfo.starLossPlace &gt; 2	? subst('IDS_RANKED_BATTLE_STAR_LOSS_PLACE_RANGE_CONDITION', [], {starLossPlace: rankInfo.starLossPlace})
																		: null"/>
			<block>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="1px"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="228"/>
					</style>
					<styleClass value="$TextHeaderBigWhite"/>
					<bind name="text" value="rankInfo.lossCondition"/>
				</block>
				<block type="text">
					<bind name="visible" value="additionalCondition != null"/>
					<style>
						<maxWidth value="228"/>
						<marginTop value="-6px"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="additionalCondition"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="RankStarEarnCondition">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="icon_star_earn_condition_small" type="native">
				<style>
					<marginLeft value="-2px"/>
				</style>
				<bind name="gotoAndStop!" value="1"/>
			</block>
			<block>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="1px"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="228"/>
					</style>
					<styleClass value="$TextHeaderBigWhite"/>
					<bind name="text" value="rankInfo.earnCondition"/>
				</block>
				<block type="text">
					<bind name="visible" value="rankInfo.starLossPlace == 0"/>
					<style>
						<maxWidth value="228"/>
						<marginTop value="-6px"/>
					</style>
					<styleClass value="$TextDefault"/>
					<text value="IDS_YOU_WILL_NOT_LOSE_STAR"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="RankStarTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="6px"/>
				</style>
				<bind name="instance" value="'RankStarEarnCondition'; {_rankId: _rankId}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'RankStarLostNotice'; {_rankId: _rankId}"/>
			</block>
		</block>
	</block>
	<block className="PlayerRankIcon">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<block className="icons_rank_outer" type="native">
			<bind name="gotoAndStop!" value="rankInfo.id &lt;= 2 ? 'top'
											: rankInfo.leagueId == 1 ? 'big' 
											: rankInfo.leagueId == 2 ? 'medium' : 'small'"/>
			<bind name="style" value="'width'; _small ? '70px' : '98px'"/>
			<bind name="style" value="'height'; _small ? '70px' : '98px'"/>
			<block>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<bind name="style" value="'width'; _small ? '27px' : '35px'"/>
				<bind name="style" value="'height'; _small ? '27px' : '35px'"/>
				<bind name="style" value="'top'; _small ? '23px' : '32px'"/>
				<bind name="style" value="'backgroundImage';  _small ? 'url:' + '../ranks/icons/icon_rank_small_' + (rankInfo.id - 1) + '.png' : 'url:' + '../ranks/icons/icon_rank_big_' + (rankInfo.id - 1) + '.png'"/>
			</block>
		</block>
	</block>
	<block className="PlayerRankIconBig">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<block className="icons_rank_outer_big" type="native">
			<style>
				<width value="146px"/>
				<height value="146px"/>
			</style>
			<bind name="gotoAndStop!" value="rankInfo.id &lt;= 2 ? 'top'
											: rankInfo.leagueId == 1 ? 'big' 
											: rankInfo.leagueId == 2 ? 'medium' : 'small'"/>
			<block>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<style>
					<top value="45px"/>
					<width value="54px"/>
					<height value="54px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + '../ranks/icons/icon_rank_big_' + (rankInfo.id - 1) + '.png'"/>
			</block>
		</block>
	</block>
	<css name="$DynamicDivisionsItemSize">
		<width value="230px"/>
		<height value="128px"/>
	</css>
	<css name="$NoSize">
		<width value="0px"/>
		<height value="0px"/>
	</css>
	<block className="DynamicDivisions">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'DeclareBlurLayer'; _isBattleLoading ? {} : null"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<flow value="htile"/>
				<align value="center"/>
				<width value="690px"/>
			</style>
			<bind name="repeat" value="divisions; 'DivisionSlot'; {_divisions: divisions, _selfPlayer: selfPlayer, _isBattleStats: _isBattleStats}"/>
		</block>
		<block>
			<bind name="visible" value="(divisions[gameInfo.maxDivisions-1].id &amp;&amp; (divisions[gameInfo.maxDivisions-1].id != -1))"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="16px"/>
			</style>
			<bind name="instance" value="'StatusLineWithIcon'; { _text: 'IDS_MAX_DIVISIONS_CREATED', _maxWidth: 900, _large: true}"/>
		</block>
	</block>
	<block className="DivisionSlot">
		<bind name="style" value="'colorMatrixFilter'; _selfPlayer.isAlive ? '0 0 0 0' : '0 -100 0 0'"/>
		<bind name="style" value="'alpha'; _selfPlayer.isAlive ? 1 : 0.7"/>
		<bind name="watch" value="'state';	(id == -1) ? 'Creation' : 'Division'"/>
		<styleClass value="$DynamicDivisionsItemSize"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="child" value="state ? state : 'Creation'; {	_data: _divisions[$index], _selfPlayer: _selfPlayer,
													_isBattleStats: _isBattleStats, _isBattleLoading: _isBattleLoading};
												 {Creation: 'CreateDynamicDivision', Division: 'DynamicDivisionItem'}"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="!(_selfPlayer.isAlive)"/>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="tooltip" value="'MouseInstructionTooltip';	_selfPlayer.isAlive	? null
																		: {_multiParagraphArray: [{_paragraphText: 'IDS_DIVISION_MANAGEMENT_LOCKED_FOR_DESTROYED'}], _isInBattle: _isBattleStats}"/>
		</block>
	</block>
	<block className="CreateDynamicDivision">
		<styleClass value="$DynamicDivisionsItemSize"/>
		<bind name="appear" value="'addedToStage'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
		<block>
			<style>
				<width value="220px"/>
				<height value="118px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled &amp;&amp; _isBattleLoading"/>
				<block className="mc_blurmap5" type="native">
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'DynamicDivisionHeader'; {	_isCommander: false,
														_isPlayersDivision: false,
														_newDivision: true,
														_isBattleStats: _isBattleStats}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="3; 'JoinDynamicDivisionItem'; {_isBattleStats: _isBattleStats}"/>
			</block>
		</block>
	</block>
	<block className="EmptyDynamicDivision">
		<bind name="visible" value="false"/>
	</block>
	<block className="DynamicDivisionItem">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'playersInvitedToDivision'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'invitationsToDivision'; 'id'; _data.id; 'selfPlayerInvitedToDivisionCollection'"/>
		<bind name="watch" value="'invitedPlayers'; isPlayersDivision ? playersInvitedToDivision : []"/>
		<bind name="watch" value="'isSelfInvitedToThisDivision'; (selfPlayerInvitedToDivisionCollection.length &gt; 0)"/>
		<bind name="appear" value="'addedToStage'; 0.3; 0.0; {alpha: 0}; {alpha: 1}"/>
		<styleClass value="$DynamicDivisionsItemSize"/>
		<bind name="watch" value="'isCurPlayerCommander'; (_selfPlayer.id == _data.ownerId)"/>
		<bind name="watch" value="'isPlayersDivision'; (_data.id == _selfPlayer.divisionId)"/>
		<bind name="watch" value="'reservedPlacesCounter'; isPlayersDivision ? ((_data.inPortParticipantsCount - invitedPlayers.length) &lt; 0) 	? 0
																																		: (_data.inPortParticipantsCount - invitedPlayers.length)
															: (isSelfInvitedToThisDivision	&amp;&amp;	(_data.inPortParticipantsCount &gt; 0)) 	? (_data.inPortParticipantsCount - 1)
																																		: _data.inPortParticipantsCount)"/>
		<block>
			<bind name="style" value="'alpha'; _data.locked &amp;&amp; !isPlayersDivision ? 0.6 : 1"/>
			<style>
				<width value="220px"/>
				<height value="118px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled &amp;&amp; !(_isBattleStats)"/>
				<block className="mc_blurmap5" type="native">
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'DynamicDivisionHeader'; {	_isCommander: isCurPlayerCommander,
														_isPlayersDivision: isPlayersDivision,  
														_newDivision: false,
														_name: _data.name,  
														_locked: _data.locked,
														_isBattleStats: _isBattleStats}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="repeat" value="_data.staff; 'DynamicDivisionPlayerItem'; {	_isPlayersDivision: isPlayersDivision, _selfPlayer: _selfPlayer,
																			_isCurPlayerCommander: isCurPlayerCommander,
																			_commanderId: _data.ownerId, _isBattleStats: _isBattleStats}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="repeat" value="invitedPlayers; 'DynamicDivisionInvitedPlayerItem'; {	_selfPlayer: _selfPlayer, _isCurPlayerCommander: isCurPlayerCommander,
																					_isBattleStats: _isBattleStats}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="visible" value="!(isPlayersDivision)"/>
					<block>
						<bind name="visible" value="!(isSelfInvitedToThisDivision)"/>
						<style>
							<width value="100%"/>
						</style>
						<bind name="repeat" value="3 - (_data.staff.length + _data.inPortParticipantsCount); 'JoinDynamicDivisionItem'; {	_divisionId: _data.id, _locked: _data.locked,
																															_isBattleStats: _isBattleStats}"/>
					</block>
					<block>
						<bind name="visible" value="isSelfInvitedToThisDivision"/>
						<style>
							<width value="100%"/>
						</style>
						<bind name="repeat" value="3 - (_data.staff.length + _data.inPortParticipantsCount - 1); 'ApplyDivisionInvitation'; { _invitationData: selfPlayerInvitedToDivisionCollection[0],
																															 _isBattleStats: _isBattleStats}"/>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="repeat" value="reservedPlacesCounter; 'DynamicDivisionReservedItem'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ApplyDivisionInvitation">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="countdown" value="_invitationData.expirationTime; 'countdownText'; 'mm:ss'"/>
		<bind name="action" value="'click'; 'acceptDivisionInvitation'; {id: _invitationData.id}"/>
		<style>
			<height value="27px"/>
			<width value="100%"/>
		</style>
		<block className="dock_submenu_item_bg" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<bind name="transition" value="rollOver; 0.15; {alpha: 0}; {alpha: 1}"/>
			<bind name="tooltip" value="'TimerTooltip'; {_text: '-' + countdownText, _isInBattle: _isBattleStats}"/>
		</block>
		<block>
			<style>
				<marginLeft value="13px"/>
				<marginRight value="6px"/>
				<marginTop value="2px"/>
				<hitTest value="false"/>
			</style>
			<block className="icon_plus" type="native">
				<styleClass value="$MiddleVAligned"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginLeft value="2px"/>
				</style>
				<text value="IDS_ACCEPT_INVITATION"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="JoinDynamicDivisionItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'enterDivisionCooldownData'"/>
		<bind name="watch" value="'joinTimeOut'; enterDivisionCooldownData.finishTime"/>
		<bind name="style" value="'alpha'; joinTimeOut &gt; 0 ? 0.7 : 1"/>
		<bind name="catch" value="'timeoutEvent'; {joinTimeOut : 0}"/>
		<bind name="countdown" value="joinTimeOut; 'joinTimeOutText'; 'mm:ss'; 'timeoutEvent'"/>
		<bind name="action" value="'click'; joinTimeOut &gt; 0	? null :
								_divisionId	? 'joinDivision'
											: 'createDivision'; joinTimeOut &gt; 0 ? {} :
																_divisionId	? {divisionId: _divisionId}
																			: {}"/>
		<style>
			<height value="27px"/>
			<width value="100%"/>
		</style>
		<block className="dock_submenu_item_bg" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<bind name="transition" value="rollOver &amp;&amp; !(joinTimeOut &gt; 0); 0.15; {alpha: 0}; {alpha: 1}"/>
			<bind name="style" value="'hitTest'; _locked ? false : true"/>
			<bind name="tooltip" value="'MouseInstructionTooltip';	joinTimeOut &gt; 0 ? { _multiParagraphArray: [{_paragraphText: tr('IDS_WAIT_TIMEOUT_TO_JOIN_DIVISION') + ' ' + joinTimeOutText}],
																		_mouseInstructions: null,
																		_maxWidth: 250, _isInBattle: _isBattleStats} :
													_divisionId		? {	_multiParagraphArray: [{_paragraphText: 'IDS_JOIN_DYNAMIC_DIVISION_HINT'}],
																		_mouseInstructions:  [{_type: 'left', _instructionText: 'IDS_JOIN_DYNAMIC_DIVISION_MOUSE_HINT'}],
																		_maxWidth: 250, _isInBattle: _isBattleStats}
																	: {	_multiParagraphArray: [{_paragraphText: 'IDS_CREATE_NEW_DIVISION_HINT'}],
																		_mouseInstructions:  [{_type: 'left', _instructionText: 'IDS_CREATE_NEW_DIVISION_MOUSE_HINT'}],
																		_maxWidth: 250, _isInBattle: _isBattleStats}"/>
		</block>
		<block>
			<style>
				<marginLeft value="13px"/>
				<marginRight value="6px"/>
				<marginTop value="2px"/>
				<hitTest value="false"/>
			</style>
			<block className="icon_plus" type="native">
				<styleClass value="$MiddleVAligned"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginLeft value="2px"/>
				</style>
				<text value="IDS_JOIN_DIVISION"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="DynamicDivisionReservedItem">
		<style>
			<height value="27px"/>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<marginLeft value="11px"/>
				<marginRight value="6px"/>
				<hitTest value="false"/>
				<height value="100%"/>
			</style>
			<block className="icon_player_lock" type="native">
				<style>
					<marginTop value="3px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginLeft value="1px"/>
				</style>
				<text value="IDS_PLACE_IS_LOCKED"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="DynamicDivisionHeader">
		<style>
			<width value="100%"/>
			<height value="36px"/>
		</style>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<marginLeft value="6px"/>
				<marginRight value="6px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<block className="icon_formation" type="native">
				<style>
					<position value="absolute"/>
					<marginLeft value="-2px"/>
				</style>
				<bind name="gotoAndStop!" value=" _isCommander	? 'commander_division'
												: 'not_commander_division'"/>
				<bind name="tooltip" value="'MouseInstructionTooltip';	_isPlayersDivision	? {_multiParagraphArray: (_isCommander	? [{_paragraphText: 'IDS_YOU_ARE_COMMANDER'}]
																													: [{_paragraphText: 'IDS_YOU_ARE_MEMBER_DIVISION_IN_BATTLE'}]),
																														_maxWidth: 250, _isInBattle: _isBattleStats}
																													: null"/>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block>
					<bind name="visible" value="!(_newDivision)"/>
					<bind name="tooltip" value="'MouseInstructionTooltip'; 	_isCommander	? {	_multiParagraphArray: 	[{_paragraphText: _locked	? 'IDS_DIVISION_IS_LOCKED_COMMANDER'
																																	: 'IDS_DIVISION_IS_NOT_LOCKED_COMMANDER'}],
																				_mouseInstructions:  [{_type: 'left', _instructionText: (_locked ? 'IDS_UNLOCK_DIVISION'
																																		: 'IDS_LOCK_DIVISION')}],
																				maxWidth: 250, _isInBattle: _isBattleStats}
																			: { _multiParagraphArray: 	[{_paragraphText: _locked	? 'IDS_DIVISION_IS_LOCKED'
																																	: 'IDS_DIVISION_IS_NOT_LOCKED'}],
																				_mouseInstructions: null, maxWidth: 250, _isInBattle: _isBattleStats}"/>
					<block className="button_lock" type="native">
						<bind name="visible" value="_isCommander || (!(_isCommander) &amp;&amp; _locked)"/>
						<bind name="action" value="'click'; _isCommander ? (_locked	? 'unlockDivision'
																	: 'lockDivision')
														: null; {id: id}"/>
						<bind name="selected" value="_locked"/>
						<bind name="enabled" value="_isCommander"/>
					</block>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="tooltip" value="'MouseInstructionTooltip';	_isPlayersDivision	? { _mouseInstructions: [{_type: 'right', _instructionText: 'IDS_HINT_RIGHT_CLICK_FOR_CONTEXT_MENU'}],
																					_maxWidth: 250, _isInBattle: _isBattleStats}
																				: null"/>
					<bind name="menu" value="'DivisionHeaderRightClickBattleMenu'; _isPlayersDivision ? {_isCommander: _isCommander, _isInBattle: _isBattleStats} : null"/>
					<block type="text">
						<styleClass value="$TextHeaderWhiteBold"/>
						<bind name="class" value="_isPlayersDivision ? '$FontColorGolden': '$None'"/>
						<bind name="text" value="_newDivision	? toUpperCase(tr('IDS_NEW_DIVISION'))
												: toUpperCase(tr('IDS_DIVISION')) + ' ' + _name"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="tooltip" value="'MouseInstructionTooltip'; { _multiParagraphArray:  [{_paragraphText: 'IDS_LEAVE_DIVISION'}],
													_maxWidth: 250, _isInBattle: _isBattleStats}"/>
			<bind name="visible" value="_isPlayersDivision == true"/>
			<style>
				<position value="absolute"/>
				<right value="8px"/>
				<marginTop value="9px"/>
			</style>
			<block className="button_close" type="native">
				<bind name="action" value="'buttonClick'; 'leaveDivision'"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="DynamicDivisionInvitedPlayerItem">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'players in battle'; 'name'; name; 'playerInDivisionCollection'"/>
		<bind name="watch" value="'player'; playerInDivisionCollection[0]"/>
		<bind name="watch" value="'_isCurrentPlayer'; (_selfPlayer.id == player.id)"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<style>
			<height value="27px"/>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<block className="dock_submenu_item_bg" type="native">
			<bind name="transition" value="rollOver; 0.15; {alpha: 0}; {alpha: 1.0}"/>
			<bind name="tooltip" value="'BattlePlayerTooltip'; {	_isInBattle: _isBattleStats, _battleType: gameInfo.battleType,
												_player: player, _selfPlayer: _selfPlayer}"/>
			<bind name="menu" value="'UIListPlayerContextMenu'; {	_player: player, _selfPlayer: _selfPlayer, _battleType: gameInfo.battleType,
													_complaintsAvailable: true, _isBattleLoading: !(_isBattleStats), _isBattleStats: _isBattleStats}
												; null; 'contextMenuVisible'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<bind name="selected" value="contextMenuVisible"/>
		</block>
		<block className="button_cross" type="native">
			<bind name="tooltip" value="'MouseInstructionTooltip'; { _multiParagraphArray:  [{_paragraphText: 'IDS_RECALL_INVITATION'}],
													_maxWidth: 250, _isInBattle: _isBattleStats}"/>
			<bind name="visible" value="rollOver &amp;&amp; _isCurPlayerCommander"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
				<right value="6px"/>
			</style>
			<bind name="action" value="'buttonClick'; 'revokeInvitationToDivision'; {id: id}"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="13px"/>
				<hitTest value="false"/>
			</style>
			<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: true, _formationType: 'division'}"/>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="1px"/>
				<width value="160px"/>
				<multiline value="false"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$TextDefaultBold"/>
			<bind name="text" value="name"/>
		</block>
	</block>
	<block className="DynamicDivisionPlayerItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'players in battle'; 'id'; $value; 'playerInDivisionCollection'"/>
		<bind name="watch" value="'player'; playerInDivisionCollection[0]"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'ships'; 'id'; player.shipId; 'shipsCollection'"/>
		<bind name="watch" value="'shipInfo'; shipsCollection[0]"/>
		<bind name="watch" value="'_isCurrentPlayer'; (_selfPlayer.id == player.id)"/>
		<bind name="watch" value="'_isCommander'; (_commanderId == player.id)"/>
		<style>
			<height value="27px"/>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<block className="inner_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="_isCurrentPlayer"/>
			<bind name="tooltip" value="'BattlePlayerTooltip'; _isCurrentPlayer	? {	_isInBattle: _isBattleStats,
																	_player: player, _selfPlayer: _selfPlayer,
																	_battleType: gameInfo.battleType}
																: null"/>
		</block>
		<block className="dock_submenu_item_bg" type="native">
			<bind name="style" value="'hitTest'; !(_isCurrentPlayer)"/>
			<styleClass value="$FullsizeAbsolute"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<bind name="transition" value="rollOver &amp;&amp; !(_isCurrentPlayer); 0.15; {alpha: 0}; {alpha: 1.0}"/>
			<bind name="tooltip" value="'BattlePlayerTooltip'; !(_isCurrentPlayer) 	? {	_isInBattle: _isBattleStats,
																		_player: player, _selfPlayer: _selfPlayer,
																		_battleType: gameInfo.battleType}
																	: null"/>
			<bind name="menu" value="'UIListPlayerContextMenu'; {	_player: player, _selfPlayer: _selfPlayer, _battleType: gameInfo.battleType,
													_complaintsAvailable: true, _isBattleLoading: !(_isBattleStats), _isBattleStats: _isBattleStats}
												; null; 'contextMenuVisible'"/>
			<bind name="selected" value="contextMenuVisible"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
				<right value="2px"/>
			</style>
			<bind name="visible" value="_isCurPlayerCommander &amp;&amp; !(_isCurrentPlayer) &amp;&amp; rollOver"/>
			<block className="button_cross" type="native">
				<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray:  [{_paragraphText: 'IDS_EXCLUDE_PLAYER_OUT_OF_DIVISION'}],
														_maxWidth: 250, _isInBattle: _isBattleStats}"/>
				<bind name="action" value="'click'; 'kickPlayerFromDivision'; {playerId: player.id}"/>
			</block>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
				<marginLeft value="13px"/>
				<marginRight value="6px"/>
			</style>
			<block>
				<style>
					<position value="absolute"/>
					<top value="-1"/>
					<marginLeft value="-11px"/>
					<hitTest value="false"/>
				</style>
				<bind name="instance" value="'UIListVoiceTextChatIcons'; {_isSelf: _isCurrentPlayer, _isInSameDivision: _isPlayersDivision, _selfPlayerDivisionId: _selfPlayer.divisionId,
														 _isTextChatMuted: player.mute, _isSpeaking: player.isSpeaking, _battleType: gameInfo.battleType,
														 _isVoiceChatMuted: player.isMuted, _isInVoiceChat: player.isInVoiceChat}"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'FormationPlayerIcon'; {isCommander: _isCommander, isReady: true, isInBattle: false,
													isOtherDivision: !(_isPlayersDivision), _formationType: 'division', _isWardog: false}"/>
			</block>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="1px"/>
					<width value="70px"/>
					<multiline value="false"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="	!(player.isAlive) &amp;&amp; !(_isCurrentPlayer)	? '$FontColorAlmostBlack' :
							player.tkStatus								? '$FontColorTeamkiller' :
							_isPlayersDivision 							? '$FontColorGolden'
																		: '$None'"/>
				<bind name="class" value="(player.isAlive || _isCurrentPlayer) ? '$None' : '$FontDropShadowWhite'"/>
				<bind name="class" value="_isCurrentPlayer ? '$Bold' : '$None'"/>
				<bind name="text" value="player.name"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<block className="icon_ship" type="native">
					<style>
						<marginTop value="6px"/>
					</style>
					<bind name="gotoAndStop!" value="!(player.isAlive)	? shipInfo.subtype + '_U'
														: shipInfo.subtype"/>
				</block>
				<block type="text">
					<style>
						<width value="88px"/>
						<multiline value="false"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="_isCurrentPlayer ? '$Bold' : '$None'"/>
					<bind name="class" value="'$LetterSpacingSmall'"/>
					<bind name="class" value="	_isCurrentPlayer	?	'$FontColorGolden' :
								!(player.isAlive) 	?	'$FontColorAlmostBlack'
													: '$None'"/>
					<bind name="class" value="(player.isAlive || _isCurrentPlayer) ? '$None' : '$FontDropShadowWhite'"/>
					<bind name="text" value="shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="DivisionHeaderRightClickBattleMenu">
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'MenuTooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$ContextMenuListItem"/>
			<bind name="visible" value="_isCommander"/>
			<block className="dock_submenu_item" type="native">
				<bind name="action" value="'buttonClick'; 'dismissDivision'"/>
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<styleClass value="$Fullsize"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_DISMISS_DIVISION'"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<bind name="action" value="'buttonClick'; 'leaveDivision'"/>
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<styleClass value="$Fullsize"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_LEAVE_DIVISION'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="BattleStats">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'battleModeInfo'; 'battleModeInfo,updateBattleModeInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'; 'initGameInfo,GameInfoUpdateFragsCount'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="controller" value="lesta.dialogs.battle_window_controllers.uss_controllers.ControllerBattleStats"/>
		<bind name="visible" value="!!(isVisible); true"/>
		<styleClass value="$Fullsize"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="gradient_liner_1" type="native">
				<styleClass value="$Fullsize"/>
				<style>
					<alpha value="0.8"/>
				</style>
			</block>
		</block>
		<bind name="watch" value="'topOffset'; (10 + (stageHeight-720)/2.2)"/>
		<bind name="watch" value="'isDynamicDivisionsEnabled'; (((gameInfo.battleType == BattleTypes.COOPERATIVE_BATTLE) || (gameInfo.battleType == BattleTypes.RANDOM_BATTLE)) &amp;&amp;
												slimClientData.isFull)"/>
		<bind name="watch" value="'isVoiceChatEnabled';	(gameInfo.battleType == BattleTypes.CLUB_BATTLE) ||
										((selfPlayer.divisionId != 0) &amp;&amp; ((gameInfo.battleType == BattleTypes.RANDOM_BATTLE) ||
																		  (gameInfo.battleType == BattleTypes.COOPERATIVE_BATTLE) ||
																		  (gameInfo.battleType == BattleTypes.PVE_BATTLE)))"/>
		<bind name="watch" value="'showTabBar'; (isDynamicDivisionsEnabled || (gameInfo.gameModeId == GameMode.PVE))"/>
		<bind name="watch" value="'validTabIndex';	((gameInfo.gameModeId == GameMode.TUTORIAL) 								? 0 :
									((battleModeInfo.tabIndex == 1) &amp;&amp; !(isDynamicDivisionsEnabled))			? 0 :
									((battleModeInfo.tabIndex == 2) &amp;&amp; (gameInfo.gameModeId != GameMode.PVE))	? 0
																												: battleModeInfo.tabIndex)"/>
		<block>
			<bind name="style" value="'top'; topOffset"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<bind name="visible" value="showTabBar"/>
				<bind name="appear" value="'startShow'; 0.3; 1.2; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<styleClass value="$MiddleAligned"/>
				<block className="tab_bar_bg" type="native">
					<style>
						<position value="absolute"/>
						<marginLeft value="-2px"/>
						<marginRight value="-2px"/>
						<width value="100%"/>
						<height value="29px"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="gameInfo.gameModeId == GameMode.PVE"/>
					<block className="MainTabNew">
						<block className="tab_bar_item" type="native">
							<bind name="name" value="'itemTab_'+2"/>
							<style>
								<width value="160px"/>
								<height value="29px"/>
							</style>
							<bind name="selected" value="validTabIndex == 2"/>
							<bind name="action" value="'buttonClick'; 'changeLoadingInsetInStats'; { tabIndex: 2 }"/>
							<bind name="label" value="toUpperCase(tr('IDS_SCENARIO_TASKS_TAB'))"/>
						</block>
						<bind name="tooltip" value="'MouseInstructionTooltip'; { _multiParagraphArray:  [{_paragraphText: 'IDS_TOOLTIP_SCENARIO_TASKS_TAB'}], _maxWidth: 250, _isInBattle: true}"/>
					</block>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<top value="2px"/>
						</style>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<block className="MainTabNew">
						<block className="tab_bar_item" type="native">
							<bind name="name" value="'itemTab_'+0"/>
							<style>
								<width value="160px"/>
								<height value="29px"/>
							</style>
							<bind name="selected" value="validTabIndex == 0"/>
							<bind name="action" value="'buttonClick'; 'changeLoadingInsetInStats'; { tabIndex: 0 }"/>
							<bind name="label" value="toUpperCase(tr('IDS_TEAM_STRUCTURE'))"/>
						</block>
						<bind name="tooltip" value="'MouseInstructionTooltip'; { _multiParagraphArray:  [{_paragraphText: 'IDS_TOOLTIP_TAB_TEAM_STRUCTURE'}], _maxWidth: 250, _isInBattle: true}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="isDynamicDivisionsEnabled"/>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<top value="2px"/>
						</style>
					</block>
					<block className="MainTabNew">
						<block className="tab_bar_item" type="native">
							<bind name="name" value="'itemTab_'+1"/>
							<style>
								<width value="160px"/>
								<height value="29px"/>
							</style>
							<bind name="selected" value="validTabIndex == 1"/>
							<bind name="action" value="'buttonClick'; 'changeLoadingInsetInStats'; { tabIndex: 1 }"/>
							<bind name="label" value="toUpperCase(tr('IDS_DIVISIONS'))"/>
						</block>
						<bind name="tooltip" value="'MouseInstructionTooltip'; { _multiParagraphArray:  [{_paragraphText: 'IDS_TOOLTIP_TAB_DIVISIONS'}], _maxWidth: 250, _isInBattle: true}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<width value="810px"/>
				</style>
				<bind name="stageSizeOld"/>
				<bind name="watch" value="'instructionsOffsetX'; (26 + (stageWidth - 1280) / 16)"/>
				<bind name="style" value="'marginTop'; showTabBar ? (4 + topOffset/60) : '4sh'"/>
				<block>
					<bind name="visible" value="validTabIndex == 0"/>
					<bind name="transition" value="(validTabIndex == 0); 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: 10}; 1; 0.1"/>
					<style>
						<width value="210px"/>
						<height value="290px"/>
						<position value="absolute"/>
						<top value="20px"/>
					</style>
					<bind name="style" value="'left'; -(210 + instructionsOffsetX)"/>
					<block type="text">
						<styleClass value="$TextDefaultBold"/>
						<style>
							<marginBottom value="3px"/>
							<right value="6px"/>
						</style>
						<bind name="text" value="toUpperCase(tr('IDS_QUICK_COMMANDS'))"/>
					</block>
					<block className="quick_command_help_panel_v" type="native"/>
				</block>
				<bind name="child" value="validTabIndex; {	_isBattleStats: true, gameInfo: gameInfo, battleModeInfo: battleModeInfo,
											selfPlayer: selfPlayer, enemies: enemies, allies: allies, divisions: divisions,
											_isDynamicDivisionsEnabled: isDynamicDivisionsEnabled}
										; 'TeamBattlePage'; 'DynamicDivisions'; 'ScenarioBattleStats'"/>
				<block>
					<style>
						<width value="210px"/>
						<position value="absolute"/>
						<top value="20px"/>
					</style>
					<bind name="style" value="'right';	-(210 + instructionsOffsetX)"/>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'RightPanelInfo'; validTabIndex == 0	? {	_headerText: 'IDS_ACTIONS_WITH_PLAYERS_HEADER',
																				_infoText: 'IDS_ACTIONS_WITH_PLAYERS_HINT'}
																			: null"/>
						<bind name="instance" value="'RightPanelInfo'; validTabIndex == 1	? {	_headerText: 'IDS_DIVISIONS_IN_BATTLE_HEADER',
																				_infoText: 'IDS_DYNAMIC_DIVISIONS_INFO'}
																			: null"/>
					</block>
					<block>
						<bind name="visible" value="(selfPlayer.shipTypeIdent != 'AirCarrier')"/>
						<bind name="transition" value="(validTabIndex != 2); 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: 10}; 1"/>
						<style>
							<width value="100%"/>
						</style>
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'userPrefsInBattleStats'"/>
						<bind name="var" value="{showCursor: (userPrefsInBattleStats.showCursorInBattleStats == null) ? true : userPrefsInBattleStats.showCursorInBattleStats}"/>
						<block>
							<style>
								<width value="100%"/>
							</style>
							<bind name="catch" value="'switchShowCursorInBattleStats'; { showCursor: !showCursor }"/>
							<block>
								<style>
									<marginTop value="6px"/>
									<marginLeft value="2px"/>
								</style>
								<bind name="instance" value="'CheckBox'; {switchProperty: showCursor, label: 'IDS_SHOW_CURSOR_IN_STATS_PANEL', _maxTfWidth: 180}"/>
								<bind name="action" value="'click'; 'setUserPref' ; {value: !showCursor, name: 'showCursorInBattleStats'}"/>
								<bind name="dispatch" value="'click'; 'switchShowCursorInBattleStats'"/>
								<bind name="tooltip" value="'TooltipWithKeyIcon'; {}"/>
							</block>
						</block>
						<block>
							<bind name="transition" value="showCursor; 0.15; {alpha: 1, top: 0, ubScaleY: 1}; {alpha: 0, top: 10, ubScaleY: 0}"/>
							<block type="text">
								<style>
									<maxWidth value="210"/>
								</style>
								<styleClass value="$TextHeaderBigDefault"/>
								<bind name="text" value="'IDS_HINT_HOLD_CTRL_FOR_CURSOR'"/>
								<bind name="substitute" value="''; 3; {'[KEY_CONTROL]':'[CONTROL]'}"/>
							</block>
						</block>
					</block>
					<block>
						<style>
							<width value="100%"/>
							<marginLeft value="2px"/>
						</style>
						<bind name="instance" value="'VoiceChatRightPanelControl'; isVoiceChatEnabled	? {_isBattleStats: true, _battleType: gameInfo.battleType}
																						: null"/>
					</block>
					<block>
						<style>
							<width value="100%"/>
							<marginLeft value="2px"/>
						</style>
						<bind name="instance" value="'InvitationsToDivisionRightPanelControl'; isDynamicDivisionsEnabled	? {_selfPlayer: selfPlayer, _isBattleStats: true}
																										: null"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="watch" value="'bottomOffset'; 17+(stageHeight-720)/3"/>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'bottom'; bottomOffset"/>
			<block>
				<bind name="transition" value="	(	(gameInfo.gameModeId == GameMode.AWESOME) ||
									(gameInfo.gameModeId == GameMode.STANDARD_DOMINATION) ||
									(gameInfo.gameModeId == GameMode.FORTS) ||
									(gameInfo.gameModeId == GameMode.ASSAULT_DEFENSE) ||
									(gameInfo.gameModeId == GameMode.EPICENTER)) &amp;&amp; (validTabIndex == 0);
								0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: 10}; 1; (validTabIndex == 0) ? 0.2 : 0.1"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="9px"/>
				</style>
				<bind name="instance" value="'PointsCharge';  {_battleModeInfo: battleModeInfo}"/>
			</block>
			<block>
				<style>
					<marginTop value="16px"/>
					<width value="100%"/>
				</style>
				<block className="icon_battletype" type="native">
					<styleClass value="$MiddleAligned"/>
					<style>
						<marginTop value="0px"/>
					</style>
					<bind name="gotoAndStop!" value="(gameInfo.battleType == BattleTypes.RANKED_BATTLE)	? 'RankedBattle_active' :
									(gameInfo.battleType == BattleTypes.CLUB_BATTLE)	? 'ClubBattle_active' :
									(gameInfo.battleType == BattleTypes.PVE_BATTLE) 	? 'PVEBattle_active'
																						: gameInfo.battleType"/>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<block type="text">
						<bind name="class" value="'$FontSizeLargeHeader'"/>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$TextAccentBold"/>
						<bind name="text" value="toUpperCase(tr(battleModeInfo.mapName))"/>
					</block>
					<block type="text">
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$TextHeader"/>
						<style>
							<marginTop value="-6px"/>
						</style>
						<bind name="text" value="toUpperCase(tr('IDS_')) + gameInfo.gameMode + toUpperCase(tr('_TITLE'))"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<styleClass value="$BottomMenu"/>
			<block>
				<style>
					<marginLeft value="10px"/>
					<marginTop value="4px"/>
					<width value="19px"/>
					<height value="17px"/>
				</style>
				<bind name="instance" value="'VoiceChatOutgoingIcon'; {_isInBattle: true, _isSpeaking: selfPlayer.isSpeaking}"/>
			</block>
		</block>
		<block>
			<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'invitationsToDivision'; 'InvitationsToDivision'"/>
			<bind name="style" value="'bottom'; bottomOffset"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="repeat" value="InvitationsToDivision; 'BattleDivisionInvitationItem'; {_isBattleStats: true}"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="TooltipWithKeyIcon">
		<block>
			<styleClass value="$DefaultTooltipBehaviour"/>
			<style>
				<width value="250px"/>
			</style>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="instance" value="'TooltipBackground'; {_isInBattle: true}"/>
			</block>
			<block type="text">
				<styleClass value="$InfoBlockIndent"/>
				<styleClass value="$TextHeaderBigDefault"/>
				<text value="IDS_SHOW_CURSOR_IN_STATS_PANEL_HINT"/>
				<bind name="substitute" value="''; 3; {'[KEY_CONTROL]':'[CONTROL]'}"/>
			</block>
		</block>
	</block>
	<block className="RightPanelInfo">
		<bind name="appear" value="'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefaultBold"/>
			<bind name="text" value="toUpperCase(tr(_headerText))"/>
		</block>
		<block type="text">
			<style>
				<maxWidth value="210"/>
				<marginTop value="2px"/>
				<leading value="1"/>
			</style>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="tr(_infoText)"/>
		</block>
	</block>
	<block className="VoiceChatOutgoingIcon">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
		<bind name="transition" value="VoiceChatState.outgoing; 0.15; {alpha: 0}; {alpha: 1}"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; VoiceChatState.outgoing ?	{	_multiParagraphArray:  [{_paragraphText: 'IDS_VOICE_CHAT_OUTGOING_STATE_HINT'}],
													_maxWidth: 250, _isInBattle: _isInBattle} : null"/>
		<block>
			<bind name="transition" value="_isSpeaking; 0.15; {alpha: 0.6}; {alpha: 1}"/>
			<block className="icon_voice_chat" type="native"/>
		</block>
	</block>
	<block className="BattleLoadingMinimap">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'capturePoints'; 'capturePointsCollection'"/>
		<bind name="collectionDH" value="CC.building; 'forts'"/>
		<style>
			<width value="1px"/>
			<height value="1px"/>
		</style>
		<bind name="var" value="{minimapSize: 360}"/>
		<bind name="style" value="'width'; minimapSize + 'px'"/>
		<bind name="style" value="'height'; minimapSize + 'px'"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundStretchY value="true"/>
				<backgroundStretchX value="true"/>
				<alpha value="0.7"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:' + _battleModeInfo.minimapWaterPath"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundStretchY value="true"/>
				<backgroundStretchX value="true"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:' + _battleModeInfo.minimapPath"/>
		</block>
		<block className="minimap_grid" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<right value="-30px"/>
			</style>
			<bind name="repeat" value="['A','B','C','D','E','F','G','H','I','J']; 'MinimapSectorLabel'; { size: minimapSize / 10}"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="-30px"/>
				<flow value="horizontal"/>
			</style>
			<bind name="repeat" value="[1,2,3,4,5,6,7,8,9,10]; 'MinimapSectorLabel'; { size: minimapSize / 10}"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="repeat" value="capturePointsCollection; 'MinimapCircleItem'; { minimapSize: minimapSize}"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="repeat" value="capturePointsCollection; 'MinimapPointItem'; { minimapSize: minimapSize, modeId: _battleModeInfo.modeId }"/>
			<bind name="repeat" value="forts; 'MinimapFortsItem'; {minimapSize: minimapSize}"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="repeat" value="_allies; 'MinimapShipItem'; { minimapSize: minimapSize }"/>
		</block>
	</block>
	<block className="MinimapShipItem">
		<style>
			<position value="absolute"/>
		</style>
		<bind name="tooltip" value="'SimpleTooltip'; relation == 0	? {tooltipText: 'IDS_MY_SHIP'}
													: {tooltipText: tr('IDS_ALLY') + ' ' + ((shipTypeIdent == ShipTypes.Auxiliary)	?	toLowerCase(tr('IDS_SHIP'))
																																	:	toLowerCase(tr('IDS_' + toUpperCase(shipTypeIdent))))}"/>
		<bind name="left" value="worldPos.x * minimapSize"/>
		<bind name="top" value="worldPos.z * minimapSize"/>
		<block className="icon_ships_minimap" type="native">
			<bind name="gotoAndStop!" value="relation == 0 ? 'Player' 
										: isInSameDivision ? shipTypeIdent + '_division'
										: tkStatus ? shipTypeIdent + '_teamkiller' : shipTypeIdent"/>
			<bind name="rotation" value="worldYaw * 180 / 3.14"/>
		</block>
	</block>
	<block className="MinimapCircleItem">
		<style>
			<position value="absolute"/>
			<alpha value="1"/>
		</style>
		<bind name="left" value="posX * minimapSize"/>
		<bind name="top" value="posY * minimapSize"/>
		<block className="lesta.display.CapturePointShape" type="native">
			<bind name="radius" value="radius * minimapSize"/>
			<bind name="innerRadius" value="innerRadius * minimapSize"/>
			<bind name="maxRadius" value="maxRadius * minimapSize"/>
			<bind name="relation" value="ownerRelation"/>
			<bind name="visible" value="visible"/>
		</block>
	</block>
	<block className="MinimapPointItem">
		<style>
			<position value="absolute"/>
		</style>
		<bind name="left" value="posX * minimapSize"/>
		<bind name="top" value="posY * minimapSize"/>
		<bind name="visible" value="visible &amp;&amp; active"/>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; ownerRelation == 1 	? {tooltipText: 'IDS_ALLY_BASE'}
															: ownerRelation == 2 ? {tooltipText: 'IDS_ENEMY_BASE'} : null"/>
			<bind name="visible" value="(type == CapturePointType.BASE || type == CapturePointType.MEGABASE) &amp;&amp; active"/>
			<block className="icon_base_minimap" type="native">
				<bind name="gotoAndStop!" value="type == CapturePointType.BASE ? ownerRelation : ownerRelation+3"/>
			</block>
		</block>
		<block>
			<bind name="left" value="linkIndex * 40"/>
			<bind name="var" value="{ capturePointName: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'] }"/>
			<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: (type == CapturePointType.BASE_WITH_POINTS) 	? (ownerRelation == 1) ? 'IDS_ALLY_BASE' : 'IDS_ENEMY_BASE'
																									: tr('IDS_CAPTURE_POINT') + ' ' + capturePointName[id] }"/>
			<bind name="visible" value="(type == CapturePointType.CONTROL || type == CapturePointType.BASE_WITH_POINTS) &amp;&amp; active"/>
			<block className="icon_capture_point_minimap" type="native">
				<bind name="gotoAndStop!" value="type == CapturePointType.BASE_WITH_POINTS ? 11 + ownerRelation : (id + 1)"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="type == CapturePointType.BUILDING_CP"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: tr('IDS_CAPTURE_SECTOR') + ' ' + (id + 1)}"/>
			<block className="icon_capture_sector_minimap" type="native">
				<bind name="gotoAndStop!" value="'relation_' + ownerRelation"/>
			</block>
			<block type="text">
				<style>
					<position value="absolute"/>
					<top value="-12px"/>
					<left value="-6px"/>
				</style>
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="ownerRelation == 1 ? '$FontColorComparePositive' :
						 ownerRelation == 2 ? '$FontColorCompareNegative'
											: '$FontColorWhite'"/>
				<bind name="text" value="id + 1"/>
			</block>
		</block>
	</block>
	<block className="MinimapFortsItem">
		<bind name="entityDH" value="'mapFortPoint'; id"/>
		<bind name="watchDH" value="'relation'; ['mapFortPoint.relation.evChanged']; mapFortPoint.relation.value"/>
		<bind name="watchDH" value="'mapVisible'; ['mapFortPoint.visibility.evChanged']; mapFortPoint.visibility.mapVisible"/>
		<style>
			<position value="absolute"/>
		</style>
		<bind name="visible" value="mapVisible"/>
		<bind name="left" value="mapVisible ? mapFortPoint.mapPosition.position.x * minimapSize : 0"/>
		<bind name="top" value="mapVisible ? mapFortPoint.mapPosition.position.y * minimapSize : 0"/>
		<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: tr(toUpperCase('IDS_' + relation + '_' + mapFortPoint.building.type))}"/>
		<block>
			<block className="icon_forts_minimap" type="native">
				<bind name="gotoAndStop!" value="mapFortPoint.building.type + relation"/>
			</block>
		</block>
	</block>
	<block className="MinimapSectorLabel">
		<style>
			<height value="1px"/>
			<width value="1px"/>
		</style>
		<bind name="style" value="'width'; size + 'px'"/>
		<bind name="style" value="'height'; size + 'px'"/>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextSecondaryBold"/>
			<bind name="text" value="$value"/>
		</block>
	</block>
	<block className="PointsCharge">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="visible" value="_battleModeInfo.captureRewards.length &gt; 0"/>
			<style>
				<marginRight value="20px"/>
			</style>
			<block>
				<block type="text">
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$BattleLoadingDescriptionSmall"/>
					<bind name="text" value="'IDS_CAPTURING'"/>
				</block>
				<block>
					<bind name="repeat" value="_battleModeInfo.captureRewards; 'CapturePointReward'"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_battleModeInfo.holdRewards.length &gt; 0"/>
			<style>
				<marginRight value="38px"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<text value="IDS_HOLDING_BASE"/>
			</block>
			<block>
				<bind name="repeat" value="_battleModeInfo.holdRewards; 'HoldPointReward'"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="_battleModeInfo.buildingRewardList.length &gt; 0 || _battleModeInfo.buildingPenaltyList.length &gt; 0"/>
			<style>
				<marginRight value="42px"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<text value="IDS_SUPPRESSION"/>
			</block>
			<block>
				<block>
					<bind name="repeat" value="_battleModeInfo.buildingRewardList; 'BuildingSuppressionRewardItem'"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="repeat" value="_battleModeInfo.buildingPenaltyList; 'BuildingSuppressionPenaltyItem'"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="_battleModeInfo.shipRewardList.length &gt; 0"/>
			<style>
				<marginRight value="42px"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<text value="IDS_ENEMY_DESTROY"/>
			</block>
			<block>
				<bind name="repeat" value="_battleModeInfo.shipRewardList; 'EnemiesDestructionItem'"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="_battleModeInfo.shipPenaltyList.length &gt; 0"/>
			<style>
				<height value="92px"/>
			</style>
			<block type="text">
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<styleClass value="$MiddleAligned"/>
				<text value="IDS_ALLY_LOSS"/>
			</block>
			<block>
				<bind name="repeat" value="_battleModeInfo.shipPenaltyList; 'AllyLossItem'"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="CapturePointReward">
		<style>
			<width value="70px"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="visible" value="pointType != CapturePointType.BUILDING_CP"/>
			<block className="icon_capture_base" type="native">
				<bind name="gotoAndStop!" value="(pointType == CapturePointType.BASE_WITH_POINTS) ? 'flags' 
								: (pointType == CapturePointType.EPICENTER_CP) ? 'epicenter'
								: 'letters'"/>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="visible" value="pointType == CapturePointType.BUILDING_CP"/>
			<block className="icon_capture_fort_object" type="native"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="-4px"/>
			</style>
			<block type="text">
				<style>
					<maxWidth value="80"/>
					<leading value="-2"/>
					<textAlign value="center"/>
				</style>
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<bind name="text" value="message"/>
			</block>
		</block>
	</block>
	<block className="HoldPointReward">
		<style>
			<width value="100px"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="visible" value="pointType != CapturePointType.BUILDING_CP"/>
			<block className="icon_hold_base" type="native">
				<bind name="gotoAndStop!" value="(pointType == CapturePointType.BASE_WITH_POINTS) ? 'flags' 
								: (pointType == CapturePointType.EPICENTER_CP) ? 'epicenter'
								: 'letters'"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="pointType == CapturePointType.BUILDING_CP"/>
			<styleClass value="$MiddleAligned"/>
			<block className="icon_hold_fort_object" type="native"/>
		</block>
		<block>
			<style>
				<marginTop value="-4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<style>
					<maxWidth value="100"/>
					<leading value="-2"/>
					<textAlign value="center"/>
				</style>
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<bind name="text" value="message"/>
			</block>
		</block>
	</block>
	<block className="EnemiesDestructionItem">
		<style>
			<width value="38px"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<height value="44px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block className="icon_ship_reward" type="native">
					<bind name="gotoAndStop!" value="shipType"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<bind name="text" value="'+' + number"/>
			</block>
		</block>
	</block>
	<block className="AllyLossItem">
		<style>
			<width value="38px"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<height value="44px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block className="icon_ship_penalty" type="native">
					<bind name="gotoAndStop!" value="shipType"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<bind name="text" value="number"/>
			</block>
		</block>
	</block>
	<block className="BuildingSuppressionRewardItem">
		<style>
			<width value="38px"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<height value="44px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block className="icon_building_suppress_reward" type="native">
					<bind name="gotoAndStop!" value="buildingType"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<bind name="text" value="'+' + number"/>
			</block>
		</block>
	</block>
	<block className="BuildingSuppressionPenaltyItem">
		<style>
			<width value="40px"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<height value="44px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block className="icon_building_suppress_penalty" type="native">
					<bind name="gotoAndStop!" value="buildingType"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<bind name="text" value="number"/>
			</block>
		</block>
	</block>
	<block className="BattleLoadingPVETasks">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-4px"/>
				<marginRight value="12px"/>
				<marginBottom value="22px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontSizeHeader6'"/>
				<style>
					<width value="100%"/>
					<leading value="1"/>
				</style>
				<text value="IDS_HALLOWEEN_LOADING_DESCRIPTION"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'PVETasksList'; {_primaryTasks: _primaryTasks, _secondaryTasks: _secondaryTasks}"/>
		</block>
	</block>
	<block className="PVETasksList">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="_primaryTasks.length &gt; 0"/>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="4px"/>
				</style>
				<bind name="instance" value="'PVETasksHeader'; {_headerText: 'IDS_PRIMARYHEADER'}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="15px"/>
					<marginBottom value="12px"/>
				</style>
				<bind name="repeat" value="_primaryTasks; 'PVETaskItem'"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="_secondaryTasks.length &gt; 0"/>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="4px"/>
				</style>
				<bind name="instance" value="'PVETasksHeader'; {_headerText: 'IDS_SECONDARYHEADER'}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="15px"/>
				</style>
				<bind name="repeat" value="_secondaryTasks; 'PVETaskItem'"/>
			</block>
		</block>
	</block>
	<block className="PVETasksHeader">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$TextDefaultBold"/>
			<bind name="class" value="'$FontSizeHeader4'"/>
			<bind name="class" value="'$FontColorDefault'"/>
			<bind name="text" value="_headerText"/>
		</block>
	</block>
	<block className="PVETaskItem">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
			<marginBottom value="4px"/>
		</style>
		<block>
			<style>
				<marginRight value="8px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_task_status" type="native">
				<bind name="gotoAndStop!" value="status == 2		? 'success' :
								status == 0 ? 'not_started' :
								status == 1	? 'not_started'
																		: 'fail'"/>
			</block>
		</block>
		<bind name="watch" value="'taskText'; '&lt;body&gt;' + tr('IDS_BATTLE_TASK_TEXT_' + name) + ((type != null &amp;&amp; type == 1)	? ('&lt;h3&gt; ('+ progressValue + '/' + progressMax + ')&lt;/h3&gt;&lt;/body&gt;')
																																: '&lt;/body&gt;')"/>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="'$FontSizeHeader6'"/>
			<style>
				<width value="100%f"/>
				<leading value="-3"/>
				<styleSheet value="h3{color: #9CBABA}"/>
			</style>
			<bind name="text" value="taskText"/>
		</block>
		<block>
			<bind name="visible" value="	(status != 0) &amp;&amp;
						(status != 1)"/>
			<style>
				<marginLeft value="10px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontSizeHeader6'"/>
				<bind name="class" value="(status == 2 ? '$FontColorHealth' : '$FontColorUnready')"/>
				<bind name="text" value="(status == 2 ? 'IDS_DONE' : 'IDS_FAILED')"/>
			</block>
		</block>
	</block>
	<css name="$TextPriceDefault">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceDefaultGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceDefaultFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceDefaultDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextPriceLarge">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceLargeGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceLargeFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceMedium">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceMediumGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceMediumFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceMediumDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextPriceLargeDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextPriceSmall">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceSmallGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceSmallFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceSmallDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<block className="PriceTag">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="visible" value="priceInfo.basePrice != null &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) &amp;&amp; (_showDiscountTag == true)"/>
			<bind name="tooltip" value="'DiscountTooltip'; { priceInfo: priceInfo, _customLabel: _customLabel, _isExternal: _isExternal }"/>
			<bind name="name" value="'icon_discount_' + priceInfo.id"/>
			<block className="icon_discount" type="native">
				<style>
					<marginTop value="4px"/>
					<marginRight value="-3px"/>
				</style>
				<bind name="gotoAndStop!" value="_large || _medium ? 'large' : 'normal'"/>
			</block>
		</block>
		<block>
			<bind name="name" value="'price_' + priceInfo.id"/>
			<bind name="instance" value="'InvertableTextLine'; { _name: _name,
												_text: (_isNextPriceInARow ? (tr('IDS_AND') + ' ') : '') + format(priceInfo.finalPrice, -1) + (priceInfo.currency == 'money' ? ' ' + tr(priceInfo.currencyIds) : ''), 
												_invert: _deficit &gt; 0, 
												_normalClass:
															_large		?	(priceInfo.currency == 'gold' ? '$TextPriceLargeGold' : priceInfo.currency == 'freexp' ? '$TextPriceLargeFreeExp' : '$TextPriceLarge')
															: _medium 	? 	(priceInfo.currency == 'gold' ? '$TextPriceMediumGold' : priceInfo.currency == 'freexp' ? '$TextPriceMediumFreeExp' : '$TextPriceMedium')
															: _small		?	(priceInfo.currency == 'gold' ? '$TextPriceSmallGold' : priceInfo.currency == 'freexp' ? '$TextPriceSmallFreeExp' : '$TextPriceSmall')
															: (priceInfo.currency == 'gold' ? '$TextPriceDefaultGold' : priceInfo.currency == 'freexp' ? '$TextPriceDefaultFreeExp' :'$TextPriceDefault'), 
												_invertedClass:
															_large		?	'$TextPriceLargeDeficit' 
															: _medium	?	'$TextPriceMediumDeficit'
															: _small	?	'$TextPriceSmallDeficit' 
															: '$TextPriceDefaultDeficit' }"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'Currency'; (priceInfo.currency != 'money') ? { _currency: priceInfo.currency, _large: _large, _medium: _medium } : null"/>
		</block>
	</block>
	<block className="Currency">
		<bind name="style" value="'marginBottom'; _large || _medium ? '1px' : '0px'"/>
		<block className="icon_currency" type="native">
			<bind name="gotoAndStop!" value="_large || _medium ? _currency + '_large' : _currency"/>
		</block>
	</block>
	<block className="AlterablePriceTag">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate,freeExpUpdate'"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="visible" value="(_prices[_selectedPriceIndex].basePrice != null) &amp;&amp; (_prices[_selectedPriceIndex].finalPrice != _prices[_selectedPriceIndex].basePrice) &amp;&amp; _showDiscountTag == true"/>
			<bind name="tooltip" value="'DiscountTooltip'; { priceInfo: _prices[_selectedPriceIndex] }"/>
			<block className="icon_discount" type="native">
				<style>
					<marginRight value="-6px"/>
				</style>
				<bind name="gotoAndStop!" value="_large || _medium ? 'large' : 'normal'"/>
			</block>
		</block>
		<block className="button_dock" type="native">
			<style>
				<flow value="horizontal"/>
			</style>
			<bind name="style" value="'mouseEnabled'; _prices.length &gt; 1"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; ( _tooltipText != null )	? { _multiParagraphArray:  [{_paragraphText: _tooltipText}],
																				_mouseInstructions:	[{_type: 'left', _instructionText: 'IDS_HINT_CURRENCY_CHOICE'} ], _maxWidth: 250 }
																			: { _mouseInstructions:	[{_type: 'left', _instructionText: 'IDS_HINT_CURRENCY_CHOICE'} ], _maxWidth: 250 }"/>
			<bind name="tooltip" value="'PriceSelectionMenu'; {_prices: _prices, _showDiscountTag: _showDiscountTag, _selectedPriceIndex: _selectedPriceIndex, _large: _large}; TooltipBehaviour.verticalInfoWidget"/>
			<block>
				<style>
					<marginTop value="0px"/>
					<marginBottom value="3px"/>
					<marginLeft value="3px"/>
					<marginRight value="1px"/>
					<hitTest value="false"/>
				</style>
				<bind name="instance" value="'PriceTag'; { 	priceInfo: _prices[_selectedPriceIndex], _showDiscountTag: false, 
											_small: _small, _medium: _medium, _large: _large, 
											_deficit: _prices[_selectedPriceIndex].finalPrice - accountResourceInfo[_prices[_selectedPriceIndex].currency] }"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MouseDisable"/>
				<bind name="visible" value="_prices.length &gt; 1"/>
				<style>
					<marginRight value="3px"/>
					<hitTest value="false"/>
				</style>
				<block className="icon_navigate" type="native">
					<bind name="gotoAndStop!" value="'down'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="PriceSelectionMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-9px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-19px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<bind name="repeat" value="_prices; 'PriceSelectionMenuItem'; { _showDiscountTag: _showDiscountTag, _selectedPriceIndex: _selectedPriceIndex, _large: _large }"/>
	</block>
	<block className="PriceSelectionMenuItem">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate,freeExpUpdate'"/>
		<bind name="style" value="'width'; _large ? '140px' : '100px'"/>
		<bind name="style" value="'height'; _large ? '36px' : '24px'"/>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<params>
				<param name="soundSet" value="dropmenu_button"/>
			</params>
			<bind name="selected" value="_selectedPriceIndex == $index"/>
			<bind name="dispatch" value="'buttonClick'; 'selectedPriceChanged'; { selectedPriceIndex: $index }"/>
			<bind name="name" value="'selectablePrice_' + $index"/>
			<bind name="tooltip" value="'DiscountTooltip'; (basePrice != null) &amp;&amp; (finalPrice != basePrice) ? { priceInfo: {	currency: currency, finalPrice: finalPrice,
																											basePrice: basePrice, till: till,
																											discountEventName: discountEventName}}
																							: null"/>
		</block>
		<block>
			<styleClass value="$MouseDisable"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<right value="3px"/>
			</style>
			<bind name="instance" value="'PriceTag'; { priceInfo: { 	currency: currency,
													finalPrice: finalPrice,
													basePrice: basePrice,
													till: till,
													discountEventName: discountEventName }, 
									_deficit: finalPrice - accountResourceInfo[currency],
									_showDiscountTag: _showDiscountTag, _large: _large }"/>
		</block>
	</block>
	<block className="PriceDeficit">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_warning_red" type="native">
				<bind name="style" value="'marginTop'; _large ? '5px' : '0px'"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextDefault"/>
			<bind name="class" value="	_large ? '$FontSizeHeader6':
						_medium ? '$FontSizeLarge' :
						_small ? '$FontSizeSmall' : '$None'"/>
			<bind name="class" value="'$FontColorCompareNegative'"/>
			<text value="IDS_NOT_ENOUGH"/>
		</block>
		<block type="text">
			<bind name="style" value="'marginLeft'; _large ? '2px' : '0px'"/>
			<styleClass value="$TextDefaultBold"/>
			<bind name="class" value="'$FontColorCompareNegative'"/>
			<bind name="class" value="	_large ? '$FontSizeHeader6':
						_medium ? '$FontSizeLarge' :
						_small ? '$FontSizeSmall' : '$None'"/>
			<bind name="text" value="format(_deficit, -1)"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="style" value="'marginLeft'; _large ? '-2px' : '0px'"/>
			<bind name="instance" value="'Currency'; (priceInfo.currency != 'money') ? { _currency: priceInfo.currency, _large: _large, _medium: _medium } : null"/>
		</block>
	</block>
	<block className="PriceInLine">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="	_large ? '$FontSizeHeader6':
							_medium ? '$FontSizeLarge' :
							_small ? '$FontSizeSmall' : '$None'"/>
				<bind name="text" value="_customLabel 	? _customLabel
										: priceInfo.currency == 'credits' || priceInfo.currency == 'gold' ? 'IDS_PURCHASE_COST'
										: 'IDS_RESEARCH_COST'"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$AlignRight"/>
				<bind name="instance" value="'PriceTag'; { priceInfo: priceInfo, _deficit: _deficit, _showDiscountTag: _showDiscountTag, _medium: _medium }"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="priceInfo.finalPrice != priceInfo.basePrice "/>
			<bind name="countdown" value="priceInfo.till; 'timeLeft'; 'HIGHEST'; ''; ''; 'rawTimeLeft'"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<maxWidth value="175"/>
					<leading value="-3"/>
				</style>
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="rawTimeLeft &gt; 0 ? tr('IDS_SHARE_ENDS_IN') + ' ' + timeLeft : tr('IDS_SHARE_IS_EXPIRING_WARNING')"/>
			</block>
			<block>
				<bind name="visible" value="priceInfo.basePrice != 0"/>
				<styleClass value="$AlignRight"/>
				<bind name="style" value="'right'; _medium ? '23px' : '15px'"/>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="format(priceInfo.basePrice, -1)"/>
				</block>
				<block className="icon_price_strikethrough" type="native">
					<style>
						<width value="110%"/>
						<height value="40%"/>
						<top value="60%"/>
						<marginTop value="-50%"/>
						<position value="absolute"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="PriceTagWithLabel">
		<block>
			<style>
				<flow value="horizontal"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="	_large ? '$FontSizeHeader3':
							_medium ? '$FontSizeLarge' :
							_small ? '$FontSizeSmall' : '$None'"/>
				<bind name="class" value="_techText ? '$FontColorBlueish' : '$None'"/>
				<bind name="class" value="_bold ? '$FontFamilyDefaultBold' : '$None'"/>
				<bind name="text" value="_label"/>
			</block>
			<block>
				<style>
					<marginLeft value="4px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'PriceTag'; { priceInfo: priceInfo, _deficit: _deficit , _large: _large, _medium: _medium, _small: _small, _showDiscountTag: _showDiscountTag}"/>
			</block>
		</block>
	</block>
	<block className="DiscountTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<styleClass value="$DefaultTooltipWidth"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<position value="absolute"/>
			</style>
			<styleClass value="$Fullsize"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block className="icon_discount" type="native">
				<styleClass value="$MiddleVAligned"/>
				<bind name="gotoAndStop!" value=" _large ? 'large':'normal'"/>
			</block>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontColorGolden'"/>
				<bind name="text" value="priceInfo.discountEventName ? priceInfo.discountEventName : 'IDS_SHARE'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<style>
				<marginTop value="0px"/>
			</style>
			<bind name="instance" value="'PriceInLine'; { priceInfo: priceInfo, _showDiscountTag: _showDiscountTag, _customLabel: _customLabel }"/>
		</block>
		<block>
			<bind name="visible" value="(_isExternal == true)"/>
			<styleClass value="$InfoBlockIndent"/>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="-5px"/>
					<marginLeft value="-12px"/>
					<marginRight value="-12px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="'IDS_HINT_REDIRECT_TO_STORE'"/>
			</block>
		</block>
	</block>
	<block className="BranchTypeLabel">
		<style>
			<position value="absolute"/>
			<width value="1px"/>
		</style>
		<bind name="left" value="x * $parent.blockWidth"/>
		<bind name="width" value="$parent.blocHalfWidth * 2"/>
		<styleClass value="$MiddleVAligned"/>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="nameIDS == 'IDS_PREMIUM' ? '$FontColorGolden' : '$None'"/>
			<style>
				<textAlign value="center"/>
				<width value="100%"/>
			</style>
			<bind name="text" value="nameIDS"/>
		</block>
	</block>
	<block className="BranchTypeLabelDark">
		<style>
			<position value="absolute"/>
			<width value="1px"/>
		</style>
		<bind name="left" value="x * $parent.blockWidth"/>
		<bind name="width" value="$parent.blocHalfWidth * 2"/>
		<styleClass value="$MiddleVAligned"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextSecondaryNoFilter"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
					<alpha value="0.35"/>
					<top value="1px"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondaryNoFilter"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
					<alpha value="0.1"/>
					<top value="-1px"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondaryNoFilter"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
					<alpha value="0.15"/>
					<left value="1px"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondaryNoFilter"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
					<alpha value="0.15"/>
					<left value="-1px"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondaryNoFilter"/>
				<bind name="class" value="'$FontColorAlmostBlack'"/>
				<style>
					<maxWidth value="110"/>
					<textAlign value="center"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondaryNoFilter"/>
				<bind name="class" value="'$FontColorAlmostBlack'"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
		</block>
	</block>
	<block className="CurrentFreeXP">
		<styleClass value="$InfoLineBoundaries"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<params>
			<param name="name" value="upgrade_tree_CurrentFreeXP"/>
		</params>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="text" value="_label"/>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultBold"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="class" value="'$FontSizeLarge'"/>
			<bind name="class" value="'$FontColorFreeExp'"/>
			<bind name="text" value="format(_freeXP, -1)"/>
		</block>
		<block className="icon_exp_free" type="native">
			<style>
				<marginBottom value="-2px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
		</block>
	</block>
	<block className="CurrentXP">
		<styleClass value="$InfoLineBoundaries"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<params>
			<param name="name" value="upgrade_tree_CurrentShipXP"/>
		</params>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="class" value="_light ? '$None' : '$FontColorBlueish'"/>
			<bind name="class" value="_light ? '$None' : '$Bold'"/>
			<bind name="text" value="_label"/>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultBold"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="class" value="'$FontSizeLarge'"/>
			<bind name="class" value="'$FontColorExp'"/>
			<bind name="text" value="format(_exp, -1)"/>
		</block>
		<block className="icon_exp" type="native">
			<style>
				<marginBottom value="-2px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
		</block>
	</block>
	<block className="CurrentXPLarge">
		<styleClass value="$InfoLineBoundaries"/>
		<style>
			<flow value="horizontal"/>
			<marginBottom value="-6px"/>
		</style>
		<params>
			<param name="name" value="upgrade_tree_CurrentShipXP"/>
		</params>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="'$FontSizeHeader6'"/>
			<bind name="class" value="_light ? '$None' : '$FontColorBlueish'"/>
			<bind name="class" value="_light ? '$None' : '$Bold'"/>
			<bind name="text" value="_label"/>
		</block>
		<block>
			<style>
				<marginTop value="3px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="class" value="'$FontSizeHeader3'"/>
				<bind name="class" value="'$FontColorExp'"/>
				<bind name="text" value="format(_exp, -1)"/>
			</block>
			<block className="icon_exp" type="native">
				<styleClass value="$MiddleVAligned"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="StatusLineBig">
		<block>
			<block type="text">
				<style>
					<maxWidth value="300"/>
					<textAlign value="center"/>
				</style>
				<styleClass value="$TextHeader"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="class" value="_positive ? '$FontColorComparePositive' : '$FontColorUnready'"/>
				<bind name="text" value="_text"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="StatusLineMedium">
		<block type="text">
			<style>
				<maxWidth value="300"/>
				<textAlign value="center"/>
			</style>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="'$FontColorUnready'"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="StatusLineWithIcon">
		<block>
			<block className="icon_warning_orange" type="native">
				<bind name="style" value="'top'; _small 	? '4'
										: _large ? '7' : '6'"/>
				<style>
					<marginRight value="2px"/>
				</style>
			</block>
			<block type="text">
				<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 264"/>
				<bind name="class" value="_large ? '$TextHeaderBigDefault' 
								:_small ? '$TextSecondary' : '$TextDefault'"/>
				<bind name="class" value="_positive ? '$FontColorComparePositive' : '$FontColorUnready'"/>
				<bind name="class" value="_bold ? '$Bold' : '$None'"/>
				<bind name="text" value="_text"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ModuleStatus">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'ModuleStatusIcon'; _count.Installed &gt; 0																			? { _state: 'installed' } :
											!(_isExplored) &amp;&amp; !(_isStock)																	? { _state: 'action' } :
											(_count.Available &gt; 0) &amp;&amp; (_count.toPurchase &gt; 0)											 	? { _state: 'not_enough' } :
											_count.toPurchase &gt; 0 || (_unableToInstallIncompatibles.length &gt; 0 &amp;&amp; _count.toPurchase == 0)	? { _state: 'action' } :
											!(_unableToInstallIncompatibles)																? { _state: 'explored' }			
																																			: null "/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="_count.Installed &gt; 0 	? '$FontColorGolden'
												: _count.Available &gt; 0 	? '$FontColorWhite'
																		: _isExplored 	? '$FontColorUnready'
																						: _isStock 	? '$FontColorDefault'
																									: '$FontColorUnready'"/>
				<bind name="text" value="_count.Installed &gt; 0 	? 'IDS_INSTALLED'
												: _isExplored 	? 	(_count.Available &gt; 0 	? (_count.toPurchase &gt; 0 	? 'IDS_IN_STOCK_Q'
																														: 'IDS_IN_STOCK')
																							: 'IDS_NOT_PURCHASED'
																	)
																: _isStock 	? 'IDS_STOCK'
																			: 'IDS_NOT_RESEARCHED' "/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="_count.Installed &gt; 0 	? '$FontColorGolden'
												: _count.Available &gt; 0 	? '$FontColorWhite'
																		: _isExplored 	? '$FontColorDefault'
																						: '$FontColorExp'"/>
				<bind name="text" value="_count.Installed &gt; 0 	? ''
												: _isExplored	? 	((_count.Available &gt; 0) &amp;&amp; (_count.toPurchase &gt; 0) 	? _count.Available + 0
																														: ''
																	)
																: '' "/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorCompareNegative'"/>
				<style>
					<marginLeft value="3px"/>
				</style>
				<bind name="text" value="(_count.Available &gt; 0) &amp;&amp; (_count.toPurchase &gt; 0) 	? 'IDS_TO_BUY_Q'
																			: '' "/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorCompareNegative'"/>
				<bind name="text" value="(_count.Available &gt; 0) &amp;&amp; (_count.toPurchase &gt; 0) 	? _count.toPurchase
																			: '' "/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ModuleStatusIcon">
		<block className="icon_module_state" type="native">
			<bind name="gotoAndStop!" value="_state"/>
		</block>
	</block>
	<block className="ShipHeaderModuleTree">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate,freeExpUpdate,slotsNumUpdate'"/>
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="34px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<top value="-5px"/>
			</style>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap_h_no_right" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="tooltip" value="'ShipExtendedTooltip'; { shipId: _shipId }; 0"/>
			<style>
				<marginTop value="5px"/>
				<marginLeft value="3px"/>
			</style>
			<block className="icon_wreath" type="native">
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
					<top value="-6px"/>
				</style>
				<bind name="visible" value="_isElite || _isPremium || _uiSpecial"/>
				<bind name="gotoAndStop!" value="_uiSpecial	? 'special' :
								_isPremium 	? 'premium'
											: 'elite'"/>
			</block>
			<block className="icon_ship" type="native">
				<styleClass value="$MouseDisable"/>
				<style>
					<marginLeft value="5px"/>
					<marginTop value="2px"/>
				</style>
				<bind name="gotoAndStop!" value="_isPremium || _uiSpecial	? _subtype + '_P'
											: _unavailable 	? _subtype + '_U'
															: _subtype"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="3px"/>
				</style>
				<bind name="class" value="_unavailable ? '$BlockGlowFilterBright' : '$GlowDisabler'"/>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<style>
						<position value="absolute"/>
						<alpha value="0.25"/>
						<top value="1px"/>
					</style>
					<bind name="visible" value="_unavailable"/>
					<bind name="class" value="'$FontGlowFilterBright'"/>
					<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
					<bind name="text" value="_levelRome + ' ' + tr(_shipName)"/>
				</block>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<style>
						<position value="absolute"/>
						<alpha value="0.15"/>
						<top value="-1px"/>
					</style>
					<bind name="visible" value="_unavailable"/>
					<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
					<bind name="text" value="_levelRome + ' ' + tr(_shipName)"/>
				</block>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
					<bind name="class" value="_isPremium || _uiSpecial 	? '$FontShipnameGolden'
										: _unavailable 	? '$FontShipnameBlack' : '$FontShipnameWhite'"/>
					<bind name="text" value="_levelRome + ' ' + tr(_shipName)"/>
				</block>
			</block>
			<block className="icon_check" type="native">
				<style>
					<marginLeft value="-2px"/>
					<marginTop value="-4px"/>
				</style>
				<bind name="visible" value="_isOwned"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="!_isDownloaded"/>
			<style>
				<marginTop value="-3px"/>
			</style>
			<bind name="instance" value="'IconSlimClient'; !_isDownloaded ? { _isEventLike: _eventShips } : null"/>
		</block>
		<block>
			<style>
				<marginLeft value="6px"/>
				<marginTop value="-1px"/>
				<right value="12"/>
				<position value="absolute"/>
			</style>
			<block>
				<style>
					<marginLeft value="6px"/>
				</style>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_SHIP_EXPERIENCE'}"/>
				<bind name="instance" value="'CurrentXP'; _isOwned ? { _exp: _shipExp} : null "/>
				<bind name="name" value="'AvailableExpBalanceModuleTreeHeader'"/>
			</block>
			<block>
				<style>
					<marginLeft value="9px"/>
				</style>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_FREE_EXPERIENCE_C'}"/>
				<bind name="feature" value="5; ''"/>
				<bind name="visible" value="feature_5 != 'locked' &amp;&amp; _isOwned"/>
				<bind name="instance" value="'CurrentFreeXP'; { _freeXP: accountResourceInfo.freeExp }"/>
				<bind name="name" value="'freeExpBalanceModuleTreeHeader'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<bind name="watch" value="'defaultButtonCostSmallData'; _isOwned 	? null
																: !(_dependencyResearched || _isExplored) ? null
																: !(_isExplored) &amp;&amp; (_expDeficit &lt;= 0) &amp;&amp; (_group == 'upgradeable' || _group == 'upgradeableExclusive')? { _label: toUpperCase(tr('IDS_DO_RESEARCH')), priceInfo: (_totalCostXP == $parent.shipExplorePrice.prices[0].finalPrice ? $parent.shipExplorePrice.prices[0] : { finalPrice: _totalCostXP, currency: 'exp' }), _action: 'researchShip', _actionParams: { shipId: _shipId }, _enabled: true, _showDiscountTag:true }
																: (_isExplored) &amp;&amp; (_creditsDeficit &lt;= 0) &amp;&amp; !(_isPremium) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: $parent.shipBuyPrice.prices[0], _action: 'purchaseShip', _actionParams: { shipId: _shipId }, _enabled: (_creditsDeficit &lt;= 0), _showDiscountTag:true }
																: _isExplored &amp;&amp; _isPremium  &amp;&amp; (accountResourceInfo.gold - $parent.shipBuyPrice.prices[0].finalPrice) &gt;= 0 ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: $parent.shipBuyPrice.prices[0], _action: 'purchaseShip', _actionParams: { shipId: _shipId }, _enabled: ((accountResourceInfo.gold - _costGold) &gt;= 0), _showDiscountTag:true }
																: null "/>
		<bind name="watch" value="'priceTagWithLabelData'; _isOwned ? null
													: (!(_isExplored) &amp;&amp; !(_dependencyResearched)) || (!(_isExplored) &amp;&amp; _expDeficit &gt; 0)? { priceInfo: { finalPrice: _totalCostXP, currency: 'exp' }, _label: 'IDS_RESEARCH_COST', _small : true}
													: _isExplored &amp;&amp; _creditsDeficit &gt; 0 &amp;&amp; !(_isPremium) ? { priceInfo: $parent.shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _small : true}
													: _isExplored &amp;&amp; _isPremium &amp;&amp; (accountResourceInfo.gold - $parent.shipBuyPrice.prices[0].finalPrice)  &lt; 0 ? {priceInfo: $parent.shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _small : true }
													: null"/>
		<bind name="watch" value="'statusLineWithIconData'; _dependencyResearched || _isExplored ? null
											: { _text: 'IDS_RESEARCH_PREVIOUS_SHIPS', _positive: false, _small: true, _maxWidth: 300}"/>
		<bind name="watch" value="'priceDeficitData'; _isOwned ? null
											: !(_dependencyResearched) ? null
											: !(_isExplored) &amp;&amp; _expDeficit &gt; 0 ? { priceInfo: { finalPrice: _totalCostXP, currency: 'exp' }, _small : true, _tooltipText: 'IDS_TOOLTIP_NO_XP', _deficit: _expDeficit}
											: _isExplored &amp;&amp; _creditsDeficit &gt; 0 &amp;&amp; !(_isPremium) ? { priceInfo: $parent.shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _small : true, _tooltipText: 'IDS_TOOLTIP_NO_CREDITS', _deficit: _creditsDeficit}
											: _isExplored &amp;&amp; _isPremium &amp;&amp; (accountResourceInfo.gold - $parent.shipBuyPrice.prices[0].finalPrice)  &lt; 0 ? {priceInfo: $parent.shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: -(accountResourceInfo.gold - $parent.shipBuyPrice.prices[0].finalPrice), _tooltipText: 'IDS_TOOLTIP_NO_GOLD', _small : true }
											: null"/>
		<block>
			<bind name="visible" value="!_eventShips"/>
			<style>
				<right value="6px"/>
				<position value="absolute"/>
				<marginTop value="2px"/>
			</style>
			<block>
				<bind name="visible" value="!!defaultButtonCostSmallData"/>
				<bind name="name" value="'ButtonShipResearchOrPurchaseSmall'"/>
				<style>
					<right value="0px"/>
				</style>
				<bind name="instance" value="'DefaultButtonCostSmall'; !!defaultButtonCostSmallData ? defaultButtonCostSmallData : null"/>
			</block>
			<block>
				<bind name="visible" value="!defaultButtonCostSmallData"/>
				<style>
					<marginTop value="-8px"/>
				</style>
				<block>
					<bind name="visible" value="!!priceTagWithLabelData"/>
					<style>
						<right value="0px"/>
					</style>
					<bind name="instance" value="'PriceTagWithLabel'; !!priceTagWithLabelData ? priceTagWithLabelData : null"/>
				</block>
				<block>
					<bind name="visible" value="!!statusLineWithIconData"/>
					<style>
						<right value="0px"/>
						<marginTop value="-5px"/>
					</style>
					<bind name="instance" value="'StatusLineWithIcon'; !!statusLineWithIconData ? statusLineWithIconData : null"/>
				</block>
				<block>
					<bind name="visible" value="!!priceDeficitData"/>
					<style>
						<right value="0px"/>
						<marginTop value="-5px"/>
					</style>
					<bind name="instance" value="'PriceDeficit'; !!priceDeficitData ? priceDeficitData: null"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_eventShips &amp;&amp; !_isOwned"/>
			<style>
				<width value="80px"/>
				<right value="0px"/>
				<position value="absolute"/>
			</style>
			<block className="icon_issued_small" type="native">
				<style>
					<marginTop value="12px"/>
					<marginLeft value="30px"/>
				</style>
				<bind name="rotation" value="-3"/>
				<innerBind elementName="item.item" name="text" value="toUpperCase(tr('IDS_UNAVAILABLE_TO_DISPLAY_SOON'))"/>
				<bind name="gotoAndPlay!" value="'issued'"/>
			</block>
		</block>
	</block>
	<block className="LevelItem">
		<style>
			<height value="80px"/>
			<width value="100%"/>
		</style>
		<bind name="height" value="$parent.blockHeight"/>
		<bind name="style" value="'backgroundColor'; ($index + 1) % 2 == 0 ? '0x00000000' : '0x10000000'"/>
		<block className="icon_level_elite" type="native">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="35px"/>
				<alpha value="0.2"/>
			</style>
			<bind name="gotoAndStop!" value="$index + 1"/>
		</block>
	</block>
	<block className="IncompatiblesBlock">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="7px"/>
					<marginLeft value="12px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<marginTop value="3px"/>
					<marginBottom value="6px"/>
					<marginLeft value="2px"/>
					<marginRight value="12px"/>
				</style>
				<text value="IDS_INSTALL_COMPATIBLE_MODULE"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block>
				<block className="icon_warning_red" type="native">
					<style>
						<marginTop value="7px"/>
						<marginLeft value="12px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextSecondary"/>
					<bind name="class" value="'$FontColorCompareNegative'"/>
					<style>
						<marginTop value="3px"/>
						<marginLeft value="2px"/>
						<marginRight value="12px"/>
					</style>
					<text value="IDS_MODULE_INCOMPATIBLE_WITH"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="3px"/>
				</style>
				<bind name="repeat" value="_incompatibleModules; 'DependencyRepeatItem'; {_type: _type}"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
	</block>
	<block className="ModuleDependenciesBlock">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<flow value="horizontal"/>
				<width value="100%"/>
				<marginLeft value="12px"/>
				<marginRight value="12px"/>
				<marginTop value="8px"/>
				<marginBottom value="3px"/>
			</style>
			<block>
				<bind name="instance" value="'PriceTagWithLabel'; 	_type[1] == 'research' ? { priceInfo: _priceInfo, _label: 'IDS_RESEARCH_COST', _techText:true, _showDiscountTag:true}
													: _type[1] == 'purchase' ? { priceInfo:_priceInfo, _label: 'IDS_PURCHASE_COST', _techText:true, _showDiscountTag:true}
													: null"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="_type[1] == 'mount' ? 'IDS_HAVE_TO_BE_MOUNTED' : ''"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="visible" value="_type[1] != 'mount'"/>
				<style>
					<marginTop value="4px"/>
					<marginLeft value="12px"/>
					<marginRight value="12px"/>
				</style>
				<bind name="text" value="_type[1] == 'research' ? 'IDS_WILL_BE_ALSO_RESEARCHED' 
												: _type[1] == 'purchase' 	? 'IDS_HAVE_TO_BE_PURCHASED' 
																			: ''"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="3px"/>
				</style>
				<bind name="repeat" value="_dependentModules;  'DependencyRepeatItem' ; {_type: _type}"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-1px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="DependencyRepeatItem">
		<style>
			<width value="100%"/>
			<marginLeft value="12px"/>
			<marginRight value="12px"/>
			<marginTop value="3px"/>
			<marginBottom value="3px"/>
		</style>
		<bind name="child" value="_type[0]; {dataArray:dataArray};'ResearchDependenciesListItem'; 'PurchaseDependenciesListItem'; 'MountDependenciesListItem'"/>
	</block>
	<block className="ResearchDependenciesListItem">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_EXPLORE + dataArray[1]; 'moduleExplorePrice'"/>
		<style>
			<width value="100%"/>
			<height value="40px"/>
			<flow value="horizontal"/>
		</style>
		<block className="icon_tree_module_states" type="native">
			<styleClass value="$MouseDisable"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="44px"/>
				<height value="44px"/>
			</style>
			<bind name="gotoAndStop!" value="dataArray[3] + '_P'"/>
		</block>
		<block>
			<block type="text">
				<style>
					<marginTop value="3px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorExp'"/>
				<bind name="text" value="toUpperCase(dataArray[2])"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginTop value="-4px"/>
				</style>
				<bind name="text" value="dataArray[4]"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!($parent.$parent._incompatibleModules)"/>
			<styleClass value="$AlignRight"/>
			<bind name="instance" value="'PriceTag'; { priceInfo: moduleExplorePrice.prices[0], _showDiscountTag:true}"/>
		</block>
	</block>
	<block className="PurchaseDependenciesListItem">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + dataArray[2]; 'moduleBuyPrice'"/>
		<style>
			<width value="100%"/>
			<height value="40px"/>
			<flow value="horizontal"/>
		</style>
		<block className="icon_tree_module_states" type="native">
			<styleClass value="$MouseDisable"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="gotoAndStop!" value="dataArray[3] + '_P'"/>
		</block>
		<block>
			<block type="text">
				<style>
					<marginTop value="1px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="dataArray[0]"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginTop value="-5px"/>
				</style>
				<bind name="text" value="dataArray[4]"/>
			</block>
		</block>
		<block>
			<styleClass value="$AlignRight"/>
			<block>
				<bind name="visible" value="dataArray[1] &gt; 1"/>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorWhite'"/>
					<bind name="text" value="dataArray[1] + ' x'"/>
				</block>
			</block>
			<block>
				<bind name="instance" value="'PriceTag'; { priceInfo: moduleBuyPrice.prices[0], _showDiscountTag:true}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="MountDependenciesListItem">
		<style>
			<width value="100%"/>
			<height value="40px"/>
			<flow value="horizontal"/>
		</style>
		<block className="icon_tree_module_states" type="native">
			<styleClass value="$MouseDisable"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="44px"/>
				<height value="44px"/>
			</style>
			<bind name="gotoAndStop!" value="dataArray[1] + '_P'"/>
		</block>
		<block>
			<block type="text">
				<style>
					<marginTop value="1px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="dataArray[0]"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginTop value="-5px"/>
				</style>
				<bind name="text" value="'IDS' + toUpperCase(dataArray[1])"/>
			</block>
		</block>
	</block>
	<block className="IncompatibleListItem">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="30px"/>
			<marginLeft value="12px"/>
			<marginRight value="12px"/>
		</style>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextDefault"/>
			<bind name="text" value="dataArray[0]"/>
		</block>
	</block>
	<block className="PremiumShipPointsItem">
		<block type="text">
			<style>
				<maxWidth value="480"/>
			</style>
			<styleClass value="$TextDefault"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="CostSmallTransparent">
		<bind name="controller" value="lesta.unbound.core.UbController"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<styleClass value="$InfoLineBoundaries"/>
		<params>
			<param name="name" value="upgrade_tree_CostXP"/>
		</params>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="text" value="_label"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block type="text">
				<styleClass value="$FontCostNormal"/>
				<bind name="class" value="_deficit ? '$FontColorDefault' : '$FontColorAlmostBlack'"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.35"/>
					<top value="1px"/>
				</style>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
			<block type="text">
				<styleClass value="$FontCostNormal"/>
				<bind name="class" value="_deficit ? '$FontColorDefault' : '$FontColorAlmostBlack'"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.1"/>
					<top value="-1px"/>
				</style>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
			<block type="text">
				<styleClass value="$FontCostNormal"/>
				<bind name="class" value="_deficit ? '$FontColorDefault' : '$FontColorAlmostBlack'"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.15"/>
					<left value="1px"/>
				</style>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
			<block type="text">
				<styleClass value="$FontCostNormal"/>
				<bind name="class" value="_deficit ? '$FontColorDefault' : '$FontColorAlmostBlack'"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.15"/>
					<left value="-1px"/>
				</style>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
			<block type="text">
				<bind name="class" value="_deficit ? '$FontCostBlack' : '$FontCostNormal'"/>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_costXP != null"/>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_exp_small" type="native"/>
		</block>
		<block>
			<bind name="visible" value="_costCR != null"/>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_credit_small" type="native"/>
		</block>
	</block>
	<block className="ShipTreeMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="visible" value="slimClientData.isFull"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<bind name="feature" value="'17'; ''"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="name" value="'ShipContextMenu'"/>
		<block>
			<bind name="visible" value="isOwned"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Primary'"/>
				<bind name="request" value="'buttonClick'; 'primaryThisShip'; {shipId: shipId}"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<bind name="text" value="playerShipInfo.isPrimary ? 'IDS_REMOVE_PRIMARY' : 'IDS_ASSIGN_PRIMARY'"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="feature_17 != 'locked'"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Modules'"/>
				<bind name="action" value="'buttonClick'; 'selectShipUpgrade' ; {shipId : shipId}"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<text value="IDS_MODULES"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="	feature_17 != 'locked' &amp;&amp;
						isOwned &amp;&amp;
						playerShipInfo.sellable &amp;&amp;
						(playerShipInfo.timeRent == 0) &amp;&amp;
						!(playerShipInfo.isLocked || playerShipInfo.isNeedRepair || playerShipInfo.isInFormation)"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Sell'"/>
				<bind name="request" value="'buttonClick'; 'sellShipWindow'; {shipName: shipInfo.fullName, shipId: shipId}"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<text value="IDS_SELL"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="	feature_17 != 'locked' &amp;&amp;
						(!isOwned || (playerShipInfo.timeRent != 0)) &amp;&amp;
						upgradableShipInfo.isExplored &amp;&amp;
						shipInfo.canBuy"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Purchase'"/>
				<bind name="action" value="'buttonClick'; 'purchaseShip'; { shipId: shipId}"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<text value="IDS_DO_PURCHASE"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="	feature_17 != 'locked'&amp;&amp;
						!(upgradableShipInfo.isExplored) 
						&amp;&amp; upgradableShipInfo.dependencyResearched 
						&amp;&amp; upgradableShipInfo.expDeficit &lt;= 0 
						&amp;&amp; !shipInfo.isEventLike"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Research'"/>
				<bind name="action" value="'buttonClick'; 'researchShip'; { shipId: shipId }"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<text value="IDS_DO_RESEARCH"/>
			</block>
		</block>
	</block>
	<block className="ArmourOnlyBlock">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<style>
			<width value="100%"/>
			<height value="0px"/>
		</style>
		<bind name="transition" value="dockDefaultValues.armourVisibility; 0.15; {height: 0, alpha: 0}; {height: 110, alpha: 1}"/>
		<block>
			<bind name="visible" value="dockDefaultValues.armourVisibility"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'ArmourPickerControls'; dockDefaultValues.armourVisibility ? {shipId: shipId} : null"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="0"/>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="CrewAndArmourBlock">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<bind name="feature" value="13; 'noEvent'"/>
		<style>
			<width value="100%"/>
			<height value="75px"/>
		</style>
		<bind name="style" value="'height'; feature_13 == 'locked' ? 0 : 75"/>
		<bind name="transition" value="dockDefaultValues.armourVisibility; 0.15; {height: feature_13 != 'locked' ? 75 : 0}; {height: 110}"/>
		<block>
			<bind name="visible" value="dockDefaultValues.armourVisibility"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'ArmourPickerControls'; dockDefaultValues.armourVisibility ? {shipId: shipId} : null"/>
		</block>
		<bind name="watch" value="'crewVisible'; feature_13 != 'locked' &amp;&amp; (playerShipInfo != null)"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="transition" value="dockDefaultValues.armourVisibility; 0.15; {alpha: 1, top: 0}; {alpha: 0, top: 5}"/>
			<bind name="instance" value="'CrewShipElementWrapper'; crewVisible &amp;&amp; !(dockDefaultValues.armourVisibility) ? {playerShipInfo: playerShipInfo, crew: crew} : null"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="0"/>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<css name="$TextShipHeaderNameNormal">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextShipHeaderNameGolden">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipHeaderNameBlack">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<block className="ShipInfoTabHeader">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
				<alpha value="0.6"/>
			</style>
			<bind name="instance" value="'NationFlagsBig'; {_width: '300px', _height: '184px', _alpha: 0.8, shipCountry: shipInfo.flagName}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block>
				<style>
					<marginBottom value="3px"/>
				</style>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HELP_SHIP_NAME'}; 0"/>
				<bind name="instance" value="'InvertableTextLine'; { _text: toUpperCase(tr(shipInfo.nameIDS + '_FULL')), 
													_invert: _fromCrew ? !isOwned : false, 
													_normalClass: (shipInfo.isPremium || shipInfo.uiSpecial) &amp;&amp; !_isNotMyShip ? '$TextShipHeaderNameGolden' : '$TextShipHeaderNameNormal', 
													_invertedClass: '$TextShipHeaderNameBlack',
													_letterSpacing: 0.8}"/>
			</block>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_CLASS'}; 0"/>
				<style>
					<marginLeft value="2px"/>
					<height value="20px"/>
				</style>
				<block className="icon_wreath" type="native">
					<styleClass value="$MiddleVAligned"/>
					<style>
						<position value="absolute"/>
						<left value="-3px"/>
					</style>
					<bind name="visible" value="(upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial) &amp;&amp; !_isNotMyShip"/>
					<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
									shipInfo.isPremium 	? 'premium'
														: 'elite'"/>
				</block>
				<block className="icon_ship" type="native">
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="2px"/>
					</style>
					<bind name="gotoAndStop!" value="_fromCrew 	? (isOwned ? (shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype) : shipInfo.subtype + '_U')
												: inSideCompare &amp;&amp; _isNotMyShip ? shipInfo.subtype
												: (shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype)"/>
				</block>
				<block>
					<style>
						<marginLeft value="4px"/>
						<marginTop value="-2px"/>
					</style>
					<bind name="instance" value="'InvertableTextLine'; { _text: shipInfo.shipTypeIDS,
														_invert: _fromCrew ? !isOwned : false, 
														_normalClass: (shipInfo.isPremium || shipInfo.uiSpecial) &amp;&amp; !_isNotMyShip ? '$TextShipLinePremium' : '$TextShipLineNormal', 
														_invertedClass: '$TextShipLineBlack' }"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_LEVEL'}; 0"/>
				<style>
					<position value="absolute"/>
					<right value="0"/>
					<bottom value="0"/>
					<height value="20px"/>
				</style>
				<block>
					<style>
						<marginTop value="-2px"/>
					</style>
					<bind name="instance" value="'InvertableTextLine'; { _text: 'IDS_LEVEL', 
														_invert: _fromCrew ? !isOwned : false, 
														_normalClass: (shipInfo.isPremium || shipInfo.uiSpecial) &amp;&amp; !_isNotMyShip ? '$TextShipLinePremium' : '$TextShipLineNormal', 
														_invertedClass: '$TextShipLineBlack' }"/>
				</block>
				<block>
					<style>
						<marginLeft value="3px"/>
						<marginRight value="3px"/>
						<marginTop value="-2px"/>
					</style>
					<bind name="instance" value="'InvertableTextLine'; { _text: shipInfo.levelRome,
														_invert: _fromCrew ? !isOwned : false, 
														_normalClass: (shipInfo.isPremium || shipInfo.uiSpecial) &amp;&amp; !_isNotMyShip ? '$TextShipLinePremiumBold' : '$TextShipLineNormalBold', 
														_invertedClass: '$TextShipLineBlackBold' }"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<css name="$TextShipLineNormal">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextShipLineNormalAccent">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextShipLinePremium">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipLinePremiumAccent">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipLineBlack">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextShipLineBlackAccent">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextShipLineNormalBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextShipLinePremiumBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipLineBlackBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<block className="ShipLineItem">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; _shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="style" value="'marginTop'; _large ? '7px' : '1px'"/>
			<block className="icon_wreath" type="native">
				<style>
					<position value="absolute"/>
					<left value="-5px"/>
					<top value="-8px"/>
				</style>
				<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
				<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
								shipInfo.isPremium 	? 'premium'
													: 'elite'"/>
			</block>
			<block className="icon_ship" type="native">
				<bind name="gotoAndStop!" value="shipInfo.subtype + (!isOwned ? '_U' : (shipInfo.isPremium || shipInfo.uiSpecial ? '_P' : '')) "/>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-5px"/>
				<marginLeft value="3px"/>
			</style>
			<bind name="instance" value="'InvertableTextLine'; { _text: shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS)),
												_invert: !isOwned, 
												_normalClass: (shipInfo.isPremium || shipInfo.uiSpecial ? (_large ? '$TextShipLinePremiumAccent': '$TextShipLinePremium') : (_large ? '$TextShipLineNormalAccent' : '$TextShipLineNormal')), 
												_invertedClass: (_large ? '$TextShipLineBlackAccent': '$TextShipLineBlack'),
												_width: _width ? _width : '110px',
												_letterSpacing: 0.8}"/>
		</block>
	</block>
	<css name="$TextMetaHeader">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextMetaInfo">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$ShipParamTitleWidth">
		<width value="160px"/>
	</css>
	<css name="$ShipParamOnePieceTitleWidth">
		<maxWidth value="160"/>
	</css>
	<block className="TitleDefaultMockup">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<leading value="-4"/>
				<maxWidth value="184"/>
				<marginRight value="9px"/>
			</style>
			<bind name="class" value="meta ? '$TextMetaHeader' : '$TextMetaInfo'"/>
			<bind name="style" value="'alpha'; meta ? 1 : 0.7"/>
			<bind name="text" value="tr(nameIDS) + ' ' + (title.data.items ? tr(title.data.items[0].textValue) : '')"/>
		</block>
	</block>
	<block className="TitleVertMockup">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<styleClass value="$TextMetaInfo"/>
			<style>
				<leading value="-4"/>
				<width value="184px"/>
				<marginRight value="9px"/>
			</style>
			<bind name="style" value="'alpha'; meta ? 1 : 0.7"/>
			<bind name="text" value="nameIDS"/>
		</block>
		<block type="text">
			<style>
				<leading value="-4"/>
				<maxWidth value="184"/>
				<marginRight value="9px"/>
			</style>
			<styleClass value="$TextMetaInfo"/>
			<style>
				<alpha value="0.7"/>
				<marginTop value="-7px"/>
			</style>
			<bind name="text" value="title.data.items[0].textValue"/>
		</block>
	</block>
	<block className="ShipInfoTabRow">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<bind name="watch" value="'id'; id"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="name" value="'param_' + id"/>
		<bind name="dispatch" value="'click'; dockDefaultValues.armourVisibility &amp;&amp; !(excursionOff) ? null : 'onParamRowClicked'; index"/>
		<bind name="tooltip" value="'ShipParamTooltip';{id: id, meta:meta, secondLevel:secondLevel, tooltipIDS:tooltipIDS, nameIDS:nameIDS, _hasExcursion: (!excursionOff &amp;&amp; !(dockDefaultValues.armourVisibility)), _isArmour: id == 'armour'}"/>
		<bind name="action" value="'click'; id == 'armour' ? (dockDefaultValues.armourVisibility ? 'hideArmour' : 'showArmour') : null"/>
		<bind name="fade" value="!empty &amp;&amp; (isRoot || (!(parent.empty) &amp;&amp; parent.state.active)); 0.15; {alpha: 0, ubScaleY: 0.0}; {alpha: 1, ubScaleY: 1.0}"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="inner_panel" type="native">
			<styleClass value="$Fullsize"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<styleClass value="$MouseDisable"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="visible" value="!(isRoot)"/>
		</block>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$Fullsize"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'alpha'; (!(isRoot) &amp;&amp; !(excursionOff) &amp;&amp; !(dockDefaultValues.armourVisibility)) || (id == 'armour') ? 1 : 0"/>
			<bind name="selected" value="state.selected"/>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<styleClass value="$MouseDisable"/>
			<style>
				<position value="absolute"/>
				<left value="1px"/>
			</style>
			<bind name="instance" value="'StatValueBar'; meta ? {_width: 310,	 						_hasDiff: root.hasDiff,
												_currentValue: root.values[0], 			_diffValue: root.diffData[0].value,
												_isGood: root.diffData[0].isGood, 		_expand: state.active,
												_invert: ident == 'visibility',			rollOver: rollOver,
												viewParams: viewParams} : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
				<bottom value="-1px"/>
			</style>
			<styleClass value="$MouseDisable"/>
			<bind name="visible" value="meta"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MouseDisable"/>
			<style>
				<width value="100%"/>
				<marginLeft value="26px"/>
				<marginRight value="12px"/>
				<marginTop value="1px"/>
				<marginBottom value="3px"/>
			</style>
			<bind name="style" value="'marginLeft'; secondLevelTooltip ? '12px' : '20px'"/>
			<bind name="style" value="'marginTop'; (viewParams.list[$index - 1].meta || viewParams.list[$index - 1] == null) &amp;&amp; !(meta) ? '5px' : '1px'"/>
			<bind name="style" value="'marginBottom'; viewParams.list[$index + 1].meta || viewParams.list[$index + 1] == null ? '8px' : '3px'"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'TitleDefaultMockup';(title == null || titleMockup == 0) ? {meta:meta, isRoot:isRoot, nameIDS:nameIDS,title:title} : null"/>
				<bind name="instance" value="'TitleVertMockup';(title != null &amp;&amp; titleMockup == 1) ? {meta:meta, isRoot:isRoot, nameIDS:nameIDS,title:title} : null"/>
			</block>
			<block>
				<block>
					<style>
						<right value="0"/>
						<position value="absolute"/>
					</style>
					<block>
						<bind name="visible" value="secondLevel.hasDiff ? true : false"/>
						<block type="text">
							<styleClass value="$TextParams"/>
							<style>
								<marginTop value="-1px"/>
								<alpha value="0.55"/>
							</style>
							<text value="("/>
						</block>
						<block className="icon_warning_orange" type="native">
							<styleClass value="$MiddleVAligned"/>
							<style>
								<marginLeft value="-2px"/>
								<marginRight value="-2px"/>
							</style>
						</block>
						<block type="text">
							<styleClass value="$TextParams_tight_left"/>
							<style>
								<marginTop value="-1"/>
							</style>
							<text value=")"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<bind name="instance" value="'ParamElement'; value"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block>
				<bind name="fade" value="!(isRoot) &amp;&amp; !(excursionOff) &amp;&amp; !(dockDefaultValues.armourVisibility); 0.3; {alpha: 0}; {alpha: 1}"/>
				<style>
					<position value="absolute"/>
					<left value="-15px"/>
					<top value="7px"/>
				</style>
				<block className="icon_camera_off" type="native">
					<style>
						<position value="absolute"/>
					</style>
					<bind name="fade" value="!(state.selected); 0.3; {alpha: 0}; {alpha: 1}"/>
				</block>
				<block className="icon_camera_on" type="native">
					<style>
						<position value="absolute"/>
					</style>
					<bind name="fade" value="state.selected; 0.3; {alpha: 0}; {alpha: 1}"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="id == 'armour'"/>
				<style>
					<position value="absolute"/>
					<left value="-17px"/>
					<top value="6px"/>
				</style>
				<block className="button_armour_switcher_small" type="native">
					<bind name="selected" value="dockDefaultValues.armourVisibility"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="button_expand" type="native">
			<bind name="selected" value="state.active"/>
			<bind name="visible" value="expandable"/>
			<params>
				<param name="toggle" value="true"/>
				<param name="soundSet" value="dropmenu_button"/>
				<param name="focusable" value="false"/>
			</params>
			<style>
				<position value="absolute"/>
				<height value="24px"/>
				<width value="100%"/>
				<marginLeft value="3px"/>
			</style>
		</block>
	</block>
	<block className="ShipDescription">
		<styleClass value="$InfoBlockIndent"/>
		<block>
			<bind name="visible" value="_peculiarity == 'default'"/>
			<style>
				<width value="100%"/>
				<marginTop value="-3px"/>
			</style>
			<block>
				<block type="text">
					<styleClass value="$TextSecondary"/>
					<bind name="text" value="(_isPaperShip ? tr('IDS_PROJECT_YEAR') : tr('IDS_RELEASE_YEAR')) + tr('IDS_COLON')"/>
				</block>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="text" value="_shipNameIDS + '_YEAR'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<styleClass value="$AlignRight"/>
				<bind name="visible" value="_isPaperShip != true"/>
				<block type="text">
					<styleClass value="$TextSecondary"/>
					<bind name="text" value="tr('IDS_SHIPS_IN_SERIES') + tr('IDS_COLON')"/>
				</block>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="text" value="_shipNameIDS + '_NUMBER'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block type="text">
			<bind name="style" value="'marginTop'; (_peculiarity == 'default') ? '3px' : '-2px' "/>
			<styleClass value="$TextSecondaryBold"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="text" value="_shipNameIDS + '_DESCR'"/>
		</block>
	</block>
	<block className="ShipParamsList">
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="repeat" value="viewParams.list; 'ShipInfoTabRow'; {secondLevelTooltip: secondLevelTooltip, viewParams: viewParams, _excursionOff: _excursionOff}"/>
	</block>
	<block className="ShipParamsListView">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="appear" value="'hideParams'; 0.45; 0.0; {alpha: 1.0}; {alpha: 0.0}"/>
			<bind name="appear" value="'showParams'; 0.3; 0.10; {alpha: 0.0}; {alpha: 1.0}"/>
			<block className="stat_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="appear" value="'hideParams'; 0.45; 0.0; {alpha: 1.0, top: 0}; {alpha: 0.0, top: -10}"/>
			<bind name="appear" value="'showParams'; 0.3; 0.10; {alpha: 0.0, top: 10}; {alpha: 1.0, top: 0}"/>
			<bind name="repeat" value="viewParams.list;'ShipInfoTabRow'; {secondLevelTooltip: secondLevelTooltip, viewParams: viewParams}"/>
		</block>
	</block>
	<block className="ShipSilhouetteRightAligned">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<style>
			<width value="122px"/>
			<height value="22px"/>
		</style>
		<bind name="style" value="'right'; (shipInfo.subtype == ShipTypes.Destroyer)	? '-26px'
																		:	(shipInfo.subtype ==  ShipTypes.Cruiser)	? '-12px'
																														: '0px'"/>
		<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathTinyIcon"/>
	</block>
	<block className="ShipPanel">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<bind name="primaryEntityDH" value="'crewEntity'; CC.crew; playerShipInfo.crewId"/>
		<bind name="watchDH" value="'crew'; ['crewEntity.crew.evBasketChanged', 'crewEntity.crew.evLevelUp', 'crewEntity.crew.evExpChanged', 'crewEntity.crew.evShipChanged', 'crewEntity.crew.evSkillsChanged', 'crewEntity.crew.evResetCostChanged', 'crewEntity.crew.evAdaptationUpdated']; crewEntity.crew"/>
		<bind name="watchDH" value="'crew'+'Retraining'; ['crewEntity.crew.evRetrainingUpdated']; crewEntity.retraining"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate,freeExpUpdate,slotsNumUpdate'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_EXPLORE + shipId; 'shipExplorePrice'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + shipId; 'shipBuyPrice'"/>
		<params>
			<param name="name" value="panelShipStats"/>
		</params>
		<bind name="watch" value="'showPanel'; _crewInset != 1 &amp;&amp; ((isOwned &amp;&amp; (_dockInset == LobbyConstants.DOCK)) || _dockInset == LobbyConstants.SHIP_MODULES || _dockInset == LobbyConstants.SHIP_EXTERIOR)"/>
		<bind name="fade" value="showPanel; showPanel ? 0.3 : 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'addedToStage'; 0.3; 0.2; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
		<styleClass value="$ShipTechStats"/>
		<style>
			<top value="92px"/>
		</style>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'carouselRows'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="watch" value="'isSmallCarouselView'; (userPrefs.isSmallCarouselView == null) ? false : userPrefs.isSmallCarouselView"/>
		<bind name="style" value="'marginBottom'; isSmallCarouselView	?	(carouselRows == 1) ? '353px' :
															(carouselRows == 2) ? '416px'
																				: '290px'
														: '290px'"/>
		<block>
			<style>
				<height value="100%f"/>
				<width value="100%"/>
			</style>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<block className="notification_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="stat_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'ShipInfoTabHeader'; { shipId: shipId }"/>
				</block>
				<block>
					<bind name="visible" value="!isOwned"/>
					<styleClass value="$MiddleAligned"/>
					<style>
						<marginTop value="-40px"/>
						<marginBottom value="-20px"/>
						<width value="214px"/>
						<height value="126px"/>
					</style>
					<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathPreview"/>
				</block>
				<block>
					<bind name="visible" value="!shipInfo.isEventLike"/>
					<bind name="style" value="'marginTop'; isOwned ? '-15px' : 0px'"/>
					<style>
						<width value="100%"/>
					</style>
					<block className="ShipResearchBlock">
						<styleClass value="$InfoBlockIndent"/>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="instance" value="'PriceTagWithLabel'; isOwned ? null
														: (!(upgradableShipInfo.isExplored) &amp;&amp; !(upgradableShipInfo.dependencyResearched)) || (!(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0)? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _label: 'IDS_RESEARCH_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice &lt; 0) ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true }
														: null"/>
						</block>
						<block>
							<style>
								<width value="50%"/>
								<marginLeft value="-50%"/>
								<left value="50%"/>
							</style>
							<bind name="instance" value="'DefaultButtonCostMedium'; isOwned ? null
													: !(upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0) &amp;&amp; ((shipInfo.group == 'upgradeable') || (shipInfo.group == 'upgradeableExclusive')) ? { _label: toUpperCase(tr('IDS_DO_RESEARCH')), priceInfo: (upgradableShipInfo.totalCostXP == shipExplorePrice.prices[0].finalPrice ? shipExplorePrice.prices[0] : { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }), _action: 'researchShip', _actionParams: { shipId: shipInfo.id}, _enabled: ( upgradableShipInfo.dependencyResearched &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0)), _showDiscountTag:true, _name: 'ButtonShipResearch' }
													: (upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.creditsDeficit &lt;= 0) &amp;&amp; !(shipInfo.isPremium) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: (upgradableShipInfo.creditsDeficit &lt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium  &amp;&amp; (accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice &gt;= 0) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: ((accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice) &gt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: null "/>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="instance" value="'StatusLineWithIcon'; upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored 	? null
																												: { _text: 'IDS_RESEARCH_PREVIOUS_SHIPS', _positive: false} "/>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="instance" value="'PriceDeficit'; isOwned 	? null
													: !(upgradableShipInfo.dependencyResearched) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0 ? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _deficit: upgradableShipInfo.expDeficit,  _tooltipText: 'IDS_TOOLTIP_NO_XP'}
													: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: upgradableShipInfo.creditsDeficit, _tooltipText: 'IDS_TOOLTIP_NO_CREDITS'}
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice)  &lt; 0 ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: -(accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice), _tooltipText: 'IDS_TOOLTIP_NO_GOLD' }
													: null"/>
						</block>
						<block>
							<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_EXPERIENCE_USAGE'}; 0"/>
							<bind name="instance" value="'CurrentXPLarge'; isOwned ? { _exp: playerShipInfo.exp, _light: true, _label: tr('IDS_SHIP_EXPERIENCE') + tr('IDS_COLON') } : null "/>
						</block>
					</block>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="feature" value="13; ''"/>
					<bind name="instance" value="'CrewAndArmourBlock'; isOwned &amp;&amp; (feature_13 != 'locked')	? {	playerShipInfo: playerShipInfo,
																								crew: crew,
																								shipId: shipId} : null"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<height value="30px"/>
					</style>
					<bind name="instance" value="'ArmourDisplaySwitcher'; {}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'ArmourOnlyBlock'; !isOwned || feature_13 == 'locked' ? {shipId: shipId} : null"/>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="0"/>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="primaryEntityDH" value="'compareItemEntity'; CC.compareItem; 'testShipParams'"/>
				<bind name="watchDH" value="'testShipParams'; ['compareItemEntity.compareItem.evUpdate']; compareItemEntity.dataComponent.data"/>
				<bind name="watch" value="'excursionOff'; (testShipParams != null || (isOwned &amp;&amp; playerShipInfo.isLocked) || !(shipInfoSlim.isDownloaded))"/>
				<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams; 450.0; shipId; 'fullShipParams'; playerShipInfo != null ? playerShipInfo.params : shipInfo.params; testShipParams; 1; 0; null; 0; 1; 1; excursionOff"/>
				<style>
					<height value="100%f"/>
					<width value="100%"/>
					<overflow value="scroll"/>
				</style>
				<styleClass value="$DefaultScrollBar"/>
				<bind name="instance" value="'ShipParamsListView'; (shipInfo.isEventLike) &amp;&amp; !isOwned ? null : { viewParams: viewParams }"/>
			</block>
			<block>
				<bind name="visible" value="(shipInfo.isEventLike) &amp;&amp; !isOwned"/>
				<style>
					<width value="100%"/>
				</style>
				<block className="ShowLabelComingSoon">
					<block>
						<style>
							<width value="100%"/>
							<height value="80px"/>
						</style>
						<block className="icon_issued" type="native">
							<style>
								<marginLeft value="150px"/>
								<marginTop value="40px"/>
							</style>
							<bind name="rotation" value="-3"/>
							<innerBind elementName="item.item" name="text" value="toUpperCase(tr('IDS_UNAVAILABLE_TO_DISPLAY_SOON'))"/>
							<bind name="gotoAndPlay!" value="'issued'"/>
						</block>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="ShowLabelComingSoon">
		<block>
			<style>
				<width value="100%"/>
				<height value="80px"/>
			</style>
			<block className="icon_issued" type="native">
				<style>
					<marginLeft value="150px"/>
					<marginTop value="40px"/>
				</style>
				<bind name="rotation" value="-3"/>
				<innerBind elementName="item.item" name="text" value="toUpperCase(tr('IDS_UNAVAILABLE_TO_DISPLAY_SOON'))"/>
				<bind name="gotoAndPlay!" value="'issued'"/>
			</block>
		</block>
	</block>
	<block className="ShipResearchBlock">
		<styleClass value="$InfoBlockIndent"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'PriceTagWithLabel'; isOwned ? null
														: (!(upgradableShipInfo.isExplored) &amp;&amp; !(upgradableShipInfo.dependencyResearched)) || (!(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0)? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _label: 'IDS_RESEARCH_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice &lt; 0) ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true }
														: null"/>
		</block>
		<block>
			<style>
				<width value="50%"/>
				<marginLeft value="-50%"/>
				<left value="50%"/>
			</style>
			<bind name="instance" value="'DefaultButtonCostMedium'; isOwned ? null
													: !(upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0) &amp;&amp; ((shipInfo.group == 'upgradeable') || (shipInfo.group == 'upgradeableExclusive')) ? { _label: toUpperCase(tr('IDS_DO_RESEARCH')), priceInfo: (upgradableShipInfo.totalCostXP == shipExplorePrice.prices[0].finalPrice ? shipExplorePrice.prices[0] : { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }), _action: 'researchShip', _actionParams: { shipId: shipInfo.id}, _enabled: ( upgradableShipInfo.dependencyResearched &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0)), _showDiscountTag:true, _name: 'ButtonShipResearch' }
													: (upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.creditsDeficit &lt;= 0) &amp;&amp; !(shipInfo.isPremium) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: (upgradableShipInfo.creditsDeficit &lt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium  &amp;&amp; (accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice &gt;= 0) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: ((accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice) &gt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: null "/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'StatusLineWithIcon'; upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored 	? null
																												: { _text: 'IDS_RESEARCH_PREVIOUS_SHIPS', _positive: false} "/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'PriceDeficit'; isOwned 	? null
													: !(upgradableShipInfo.dependencyResearched) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0 ? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _deficit: upgradableShipInfo.expDeficit,  _tooltipText: 'IDS_TOOLTIP_NO_XP'}
													: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: upgradableShipInfo.creditsDeficit, _tooltipText: 'IDS_TOOLTIP_NO_CREDITS'}
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice)  &lt; 0 ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: -(accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice), _tooltipText: 'IDS_TOOLTIP_NO_GOLD' }
													: null"/>
		</block>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_EXPERIENCE_USAGE'}; 0"/>
			<bind name="instance" value="'CurrentXPLarge'; isOwned ? { _exp: playerShipInfo.exp, _light: true, _label: tr('IDS_SHIP_EXPERIENCE') + tr('IDS_COLON') } : null "/>
		</block>
	</block>
	<css name="$TextGoldenBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$BattleLoadingHeader">
		<fontFamily value="$WWSDefaultFontBold"/>
		<marginBottom value="3px"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="23"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$BattleLoadingDescription">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$BattleLoadingDescriptionSmall">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TableHeaderIconSize">
		<width value="30px"/>
		<marginTop value="4px"/>
		<height value="21px"/>
	</css>
	<block className="BattleLoading">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'battleModeInfo'; 'updateBattleTime,battleModeInfo,updateBattleModeInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'; 'initGameInfo,GameInfoUpdateFragsCount,GameVersion'"/>
		<bind name="controller" value="lesta.dialogs.battle_window_controllers.uss_controllers.ControllerBattleStats"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; selfPlayer.shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="watch" value="'isDynamicDivisionsEnabled'; (((gameInfo.battleType == BattleTypes.COOPERATIVE_BATTLE) || (gameInfo.battleType == BattleTypes.RANDOM_BATTLE)) &amp;&amp;
												slimClientData.isFull)"/>
		<bind name="watch" value="'isVoiceChatEnabled';	(gameInfo.battleType == BattleTypes.CLUB_BATTLE) ||
										((selfPlayer.divisionId != 0) &amp;&amp; ((gameInfo.battleType == BattleTypes.RANDOM_BATTLE) ||
																		  (gameInfo.battleType == BattleTypes.COOPERATIVE_BATTLE) ||
																		  (gameInfo.battleType == BattleTypes.PVE_BATTLE)))"/>
		<bind name="watch" value="'validTabIndex'; 	(gameInfo.gameModeId == GameMode.TUTORIAL)							? 0 :
									((battleModeInfo.tabIndex == 2) &amp;&amp; !(isDynamicDivisionsEnabled))	? 0
																										: battleModeInfo.tabIndex"/>
		<styleClass value="$Fullsize"/>
		<block className="lesta.utils.resourceLoading.BitmapDataResourceDisplay" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="display!" value="battleModeInfo.bitmapId"/>
		</block>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block type="text">
			<bind name="appear" value="'startShowContent'; 0.15; 0.15; {alpha: 1, top: 0}; {alpha: 0, top: 10}"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextAccentBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<top value="33%"/>
				<hitTest value="false"/>
				<position value="absolute"/>
			</style>
			<bind name="text" value="toUpperCase(tr('IDS_WAITING_SCREEN_LOADING_DATA'))"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="dispatch" value="'addedToStage'; 'startShowContent'"/>
			<bind name="appear" value="'startShowContent'; 0.15; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block>
				<bind name="visible" value="(gameInfo.gameModeId != GameMode.TUTORIAL)"/>
				<bind name="appear" value="'startShow'; 0.3; 1.2; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<style>
					<top value="40px"/>
				</style>
				<block className="tab_bar_bg" type="native">
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<marginLeft value="-2px"/>
						<marginRight value="-2px"/>
						<height value="29px"/>
					</style>
				</block>
				<block className="MainTabNew">
					<block className="tab_bar_item" type="native">
						<bind name="name" value="'itemTab_'+0"/>
						<style>
							<width value="160px"/>
							<height value="29px"/>
						</style>
						<bind name="selected" value="validTabIndex == 0"/>
						<bind name="action" value="'buttonClick'; 'changeLoadingInset'; { tabIndex: 0 }"/>
						<bind name="label" value="toUpperCase(tr('IDS_TEAM_TASKS'))"/>
					</block>
					<bind name="tooltip" value="'MouseInstructionTooltip'; { _multiParagraphArray:  [{_paragraphText: 'IDS_TOOLTIP_TAB_TASKS'}], _maxWidth: 250, _isInBattle: false}"/>
				</block>
				<block>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<top value="2px"/>
						</style>
					</block>
					<block className="MainTabNew">
						<block className="tab_bar_item" type="native">
							<bind name="name" value="'itemTab_'+1"/>
							<style>
								<width value="160px"/>
								<height value="29px"/>
							</style>
							<bind name="selected" value="validTabIndex == 1"/>
							<bind name="action" value="'buttonClick'; 'changeLoadingInset'; { tabIndex: 1 }"/>
							<bind name="label" value="toUpperCase(tr('IDS_TEAM_STRUCTURE'))"/>
						</block>
						<bind name="tooltip" value="'MouseInstructionTooltip'; { _multiParagraphArray:  [{_paragraphText: 'IDS_TOOLTIP_TAB_TEAM_STRUCTURE'}], _maxWidth: 250, _isInBattle: false}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="isDynamicDivisionsEnabled"/>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<top value="2px"/>
						</style>
					</block>
					<block className="MainTabNew">
						<block className="tab_bar_item" type="native">
							<bind name="name" value="'itemTab_'+2"/>
							<style>
								<width value="160px"/>
								<height value="29px"/>
							</style>
							<bind name="selected" value="validTabIndex == 2"/>
							<bind name="action" value="'buttonClick'; 'changeLoadingInset'; { tabIndex: 2 }"/>
							<bind name="label" value="toUpperCase(tr('IDS_DIVISIONS'))"/>
						</block>
						<bind name="tooltip" value="'MouseInstructionTooltip'; { _multiParagraphArray:  [{_paragraphText: 'IDS_TOOLTIP_TAB_DIVISIONS'}], _maxWidth: 250, _isInBattle: false}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<maxWidth value="1280"/>
					<top value="15sh"/>
				</style>
				<bind name="style" value="'width'; validTabIndex == 0 ? '97sw': '810px'"/>
				<styleClass value="$MiddleAligned"/>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="child" value="validTabIndex;
							{	_isBattleLoading: true, gameInfo: gameInfo, battleModeInfo: battleModeInfo,
								selfPlayer: selfPlayer, enemies: enemies, allies: allies, divisions: divisions,
								_isDynamicDivisionsEnabled: isDynamicDivisionsEnabled};
							'Tasks'; 'TeamBattlePage'; 'DynamicDivisions'"/>
				</block>
				<block>
					<bind name="stageSize"/>
					<bind name="watch" value="'instructionsOffsetX'; (26 + (stageWidth - 1280) / 16)"/>
					<style>
						<width value="210px"/>
						<position value="absolute"/>
						<top value="20px"/>
					</style>
					<bind name="style" value="'right';	-(210 + instructionsOffsetX)"/>
					<bind name="child" value="validTabIndex; {	_selfPlayer: selfPlayer, _battleType: gameInfo.battleType,
											_isDynamicDivisionsEnabled: isDynamicDivisionsEnabled, _isVoiceChatEnabled: isVoiceChatEnabled};
										'EmptyItem'; 'TeamBattleLoadingRightPanel'; 'DynamicDivisionsRightPanel'"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<style>
					<height value="180px"/>
					<bottom value="40px"/>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<block className="indicator_busy_battletype" type="native">
					<styleClass value="$MiddleAligned"/>
					<style>
						<marginTop value="0px"/>
					</style>
					<bind name="gotoAndStop!" value="gameInfo.gameModeId == GameMode.TUTORIAL	? 'TutorialBattle' :
								gameInfo.gameModeId == GameMode.PVE			? 'PVEBattle'
																			: gameInfo.battleType"/>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<block type="text">
						<bind name="name" value="'mapName'"/>
						<bind name="class" value="'$FontSizeLargeHeader'"/>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$TextAccentBold"/>
						<bind name="text" value="toUpperCase(tr(battleModeInfo.mapName))"/>
					</block>
					<block type="text">
						<bind name="name" value="'battleType'"/>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$TextHeader"/>
						<style>
							<marginTop value="-6px"/>
							<alpha value="0.85"/>
						</style>
						<bind name="text" value="toUpperCase(tr('IDS_')) + gameInfo.gameMode + toUpperCase(tr('_TITLE'))"/>
					</block>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<bind name="fade" value="battleModeInfo.loadingProgress &lt; 1; 0.15; {alpha: 0, top: 10}; {alpha: 1, top:0 }; {alpha: 0, top: -10}; 1; 0.15"/>
					<block>
						<styleClass value="$MiddleAligned"/>
						<block className="indicator_progress_bar" type="native">
							<styleClass value="$MiddleAligned"/>
							<style>
								<marginTop value="12px"/>
							</style>
							<bind name="value" value="(battleModeInfo.loadingProgress)*10"/>
						</block>
						<block>
							<style>
								<width value="100%"/>
							</style>
							<block type="text">
								<styleClass value="$MiddleAligned"/>
								<styleClass value="$BattleLoadingDescription"/>
								<style>
									<marginTop value="12px"/>
									<maxWidth value="1100"/>
									<textAlign value="center"/>
								</style>
								<bind name="text" value="battleModeInfo.helpText"/>
								<bind name="substitute" value="'KEYS'; 5"/>
							</block>
						</block>
					</block>
				</block>
				<block>
					<bind name="fade" value="battleModeInfo.loadingProgress == 1; 0.15; {alpha: 0, top: 10}; {alpha: 1, top:0 }; {alpha: 0, top: -10}; 1; 0.15"/>
					<styleClass value="$MiddleAligned"/>
					<block>
						<styleClass value="$MiddleAligned"/>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="visible" value="battleModeInfo.battleState == 1"/>
							<block type="text">
								<style>
									<marginTop value="6px"/>
								</style>
								<bind name="class" value="'$FontSizeLargeHeader'"/>
								<styleClass value="$TextAccentBold"/>
								<bind name="text" value="battleModeInfo.battleTimeLeftText"/>
							</block>
						</block>
						<block>
							<bind name="visible" value="battleModeInfo.readyToBattle &amp;&amp; (battleModeInfo.battleState != 0)"/>
							<style>
								<width value="150px"/>
								<marginTop value="9px"/>
							</style>
							<block className="button_default" type="native">
								<style>
									<width value="100%"/>
								</style>
								<bind name="focus" value="0; true"/>
								<bind name="label" value="toUpperCase(tr('IDS_STARTTRAININGBATTLEBUTTON'))"/>
								<bind name="action" value="'buttonClick'; 'showBattle'; {}"/>
								<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_STARTTRAININGBATTLEBUTTON'}; 0"/>
							</block>
						</block>
						<block>
							<bind name="visible" value="!(battleModeInfo.readyToBattle) &amp;&amp; (battleModeInfo.battleState != 0)"/>
							<styleClass value="$MiddleAligned"/>
							<style>
								<marginTop value="9px"/>
							</style>
							<block type="text">
								<styleClass value="$TextHeaderBigDefault"/>
								<text value="IDS_WAITING_PLAYERS"/>
							</block>
						</block>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$BottomMenu"/>
				<block>
					<style>
						<marginLeft value="10px"/>
						<marginTop value="4px"/>
						<width value="19px"/>
						<height value="17px"/>
					</style>
					<bind name="instance" value="'VoiceChatOutgoingIcon'; {_isSpeaking: selfPlayer.isSpeaking}"/>
				</block>
			</block>
			<block>
				<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'invitationsToDivision'; 'InvitationsToDivision'"/>
				<bind name="watch" value="'invitationBottomOffset'; 17+(stageHeight-720)/3"/>
				<bind name="style" value="'bottom'; invitationBottomOffset"/>
				<style>
					<position value="absolute"/>
				</style>
				<bind name="repeat" value="InvitationsToDivision; 'BattleDivisionInvitationItem'; {_isBattleLoading: true}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="Tasks">
		<style>
			<width value="100%"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.2; 0; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<bind name="var" value="{primaryTasks: [	{name: '000_001_MAIN_TASK', status: 0}]}"/>
		<bind name="var" value="{secondaryTasks: [	{name: '000_021_PAYLOAD_HALF_HEALTH', status: 0},
									{name: '000_022_KILL_ALL_ENEMIES', status: 0},
									{name: '000_023_SUPPRESS_BUILDINGS', status: 0},
									{name: '000_024_UNSTOPPABLE', status: 0},
									{name: '000_026_ALL_ALIVE', status: 0}
								]}"/>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<style>
				<width value="860px"/>
				<position value="absolute"/>
			</style>
			<bind name="child" value="(gameInfo.gameModeId != null ? (gameInfo.gameModeId == GameMode.PVE	? 1
																							: 2)
												 : 0); {	_battleModeInfo: battleModeInfo,
															_gameInfo: gameInfo,
															_selfPlayer: selfPlayer,
															_primaryTasks: primaryTasks,
															_secondaryTasks: secondaryTasks};	'EmptyItem';
																								'BattleLoadingPVETasks';
																								'BattleLoadingStandartTasks'"/>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<position value="absolute"/>
				<right value="4px"/>
			</style>
			<bind name="instance" value="'BattleLoadingMinimap'; {_battleModeInfo: battleModeInfo, _allies: allies}"/>
		</block>
	</block>
	<block className="BattleLoadingStandartTasks">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 0.7, top: 0}"/>
			<styleClass value="$BattleLoadingHeader"/>
			<bind name="text" value="_gameInfo.gameModeId == GameMode.TUTORIAL ? tr('IDS_YOUR_GOAL') : tr('IDS_TEAM_GOALS')"/>
		</block>
		<block type="text">
			<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<width value="100%"/>
				<marginBottom value="12px"/>
				<marginLeft value="24px"/>
			</style>
			<styleClass value="$BattleLoadingDescription"/>
			<bind name="text" value="_gameInfo.gameModeDescription"/>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.9; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="visible" value="	(_gameInfo.gameModeId == GameMode.AWESOME) ||
						(_gameInfo.gameModeId == GameMode.STANDARD_DOMINATION) ||
						(_gameInfo.gameModeId == GameMode.FORTS) ||
						(_gameInfo.gameModeId == GameMode.ASSAULT_DEFENSE) ||
						(_gameInfo.gameModeId == GameMode.EPICENTER)"/>
			<style>
				<width value="100%"/>
				<marginTop value="14px"/>
			</style>
			<block type="text">
				<style>
					<alpha value="0.7"/>
				</style>
				<styleClass value="$BattleLoadingHeader"/>
				<bind name="text" value="tr('IDS_CHARGING_POINTS')"/>
			</block>
			<block>
				<style>
					<marginTop value="9px"/>
				</style>
				<bind name="instance" value="'PointsCharge';  {_battleModeInfo: _battleModeInfo}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_gameInfo.gameModeId != GameMode.TUTORIAL"/>
			<bind name="appear" value="'startShow'; 0.15; 1.05; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<marginTop value="14px"/>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<alpha value="0.7"/>
				</style>
				<styleClass value="$BattleLoadingHeader"/>
				<bind name="text" value="_gameInfo.gameModeId == GameMode.FORTS 	? tr('IDS_GAMEMODE_FORTS_GOAL_TITLE')
																: tr('IDS_' + toUpperCase(_selfPlayer.shipTypeIdent) + '_GOAL')"/>
			</block>
			<block type="text">
				<style>
					<maxWidth value="710"/>
					<marginLeft value="24px"/>
				</style>
				<styleClass value="$BattleLoadingDescription"/>
				<bind name="text" value="_gameInfo.gameModeId == GameMode.FORTS 	? tr('IDS_GAMEMODE_FORTS_GOAL_DESCRIPTION')
																: tr('IDS_' + toUpperCase(_selfPlayer.shipTypeIdent) + '_GOAL_DESCRIPTION')"/>
				<bind name="substitute" value="''; 5; {	'[icon_1]' : 'icon_ground_artillery_type_1_ally',
										'[icon_2]' : 'icon_ground_radar_ally',
										'[icon_3]' : 'icon_ground_artillery_type_1_enemy',
										'[icon_4]' : 'icon_ground_radar_enemy'}"/>
			</block>
		</block>
	</block>
	<block className="TeamBattlePage">
		<bind name="appear" value="'addedToStage'; 0.2; 0.2; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<bind name="stageSizeOld"/>
			<bind name="watch" value="'teamsMaxHeight'; _isBattleStats 	? (400 + (stageHeight - 720)*0.17)
														: (380 + (stageHeight - 720)*0.8)"/>
			<bind name="style" value="'height';  teamsMaxHeight+'px'"/>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<overflow value="scroll"/>
				<width value="843px"/>
				<height value="380px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="name" value="_isBattleStats ? 'TeamBattleStatsID' : 'TeamBattleLoading'"/>
				<bind name="style" value="'marginTop'; gameInfo.alliedClub.clubName ? '50px' : '0px'"/>
				<block>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="instance" value="'BlurMap'; _isBattleLoading ? {} : null"/>
				</block>
				<block className="UIlistTeamStructureLeft">
					<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
					<block className="cell_background" type="native">
						<bind name="gotoAndStop!" value="1"/>
						<style>
							<flow value="horizontal"/>
							<width value="420px"/>
						</style>
						<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
						<block type="text">
							<style>
								<width value="100%"/>
								<marginLeft value="18px"/>
								<marginTop value="2px"/>
								<marginBottom value="2px"/>
							</style>
							<styleClass value="$TextHeaderWhiteBold"/>
							<bind name="text" value="'IDS_ALLY_TEAM'"/>
						</block>
						<block>
							<bind name="visible" value="_isBattleStats ? true : false"/>
							<styleClass value="$TableHeaderIconSize"/>
							<block className="sorting" type="native">
								<styleClass value="$MiddleAligned"/>
								<bind name="gotoAndStop!" value="'frags'"/>
							</block>
						</block>
					</block>
					<block>
						<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
						<style>
							<right value="0px"/>
						</style>
						<bind name="repeat" value="allies; 'SimpleUIListTeamStructureLeft'; {_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																_selfPlayer: selfPlayer, _isDynamicDivisionsEnabled: _isDynamicDivisionsEnabled}"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="gameInfo.gameModeId != GameMode.PVE"/>
					<block className="VerticalDivider">
						<style>
							<height value="100%"/>
							<width value="3px"/>
						</style>
						<block className="divider_v" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
					<block className="UIlistTeamStructureRight">
						<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
						<block className="cell_background" type="native">
							<bind name="gotoAndStop!" value="2"/>
							<style>
								<flow value="horizontal"/>
								<width value="420px"/>
							</style>
							<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
							<block>
								<bind name="visible" value="_isBattleStats ? true : false"/>
								<styleClass value="$TableHeaderIconSize"/>
								<block className="sorting" type="native">
									<styleClass value="$MiddleAligned"/>
									<bind name="gotoAndStop!" value="'frags'"/>
								</block>
							</block>
							<block type="text">
								<style>
									<width value="100%"/>
									<textAlign value="right"/>
									<marginRight value="18px"/>
									<marginTop value="2px"/>
									<marginBottom value="2px"/>
								</style>
								<styleClass value="$TextHeaderWhiteBold"/>
								<bind name="text" value="'IDS_ENEMY_TEAM'"/>
							</block>
						</block>
						<block>
							<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
							<bind name="repeat" value="enemies; 'SimpleUIListTeamStructureRight'; {	_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																	_selfPlayer: selfPlayer}"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="gameInfo.alliedClub.clubName ? true : false"/>
					<styleClass value="$MiddleAligned"/>
					<style>
						<position value="absolute"/>
						<top value="0"/>
						<marginTop value="-110%"/>
					</style>
					<bind name="instance" value="'ClubBattleClubsVS'; {_alliedClub: gameInfo.alliedClub, _enemyClub: gameInfo.enemyClub}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="TeamBattleLoadingRightPanel">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'RightPanelInfo'; {_headerText: 'IDS_SHIPS_COMPARISON', _infoText: 'IDS_SHIP_COMPARISON_HINT'}"/>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<marginTop value="6px"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
			<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
			<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
			<bind name="watch" value=" 'showOwnShip'; (userPrefs.showOwnShipInCompare == null) ? false : userPrefs.showOwnShipInCompare "/>
			<bind name="catch" value="'switchOwnShipInCompare'; { showOwnShip: !showOwnShip }; 'saveShowOwnShip'"/>
			<bind name="action" value="'saveShowOwnShip' ; 'setUserPref' ; {value: showOwnShip, name: 'showOwnShipInCompare'}"/>
			<bind name="instance" value="'CheckBox'; { switchProperty: showOwnShip, label: 'IDS_SHOW_OWN_SHIP_IN_COMPARE'}"/>
			<bind name="dispatch" value="'click'; 'switchOwnShipInCompare'"/>
			<bind name="tooltip" value="'MouseInstructionTooltip';	{	_multiParagraphArray: [{_paragraphText: 'IDS_SHOW_OWN_SHIP_IN_COMPARE_HINT'}],	_maxWidth: 270}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'VoiceChatRightPanelControl'; _isVoiceChatEnabled ? {_battleType: _battleType} : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'InvitationsToDivisionRightPanelControl'; _isDynamicDivisionsEnabled ? {_selfPlayer: _selfPlayer} : null"/>
		</block>
	</block>
	<block className="DynamicDivisionsRightPanel">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'RightPanelInfo'; {_headerText: 'IDS_DIVISIONS_IN_BATTLE_HEADER', _infoText: 'IDS_DYNAMIC_DIVISIONS_INFO'}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'VoiceChatRightPanelControl'; _isVoiceChatEnabled ? {_battleType: _battleType} : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'InvitationsToDivisionRightPanelControl'; _isDynamicDivisionsEnabled ? {_selfPlayer: _selfPlayer} : null"/>
		</block>
	</block>
	<block className="VoiceChatRightPanelControl">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
			<marginTop value="16px"/>
		</style>
		<bind name="instance" value="'CheckBox'; {switchProperty: VoiceChatState.enabled, label: 'IDS_ENABLE_VOICE_CHAT', _maxTfWidth: 180}"/>
		<bind name="action" value="'click'; 'setVoiceChatEnabled'; {enabled: !(VoiceChatState.enabled)}"/>
		<bind name="tooltip" value="'MouseInstructionTooltip';	{	_multiParagraphArray: ((_battleType == BattleTypes.CLUB_BATTLE)	? [{_paragraphText: 'IDS_ENABLE_VOICE_CHAT_IN_CLUB_BATTLE_HINT'}]
																													: [{_paragraphText: 'IDS_ENABLE_VOICE_CHAT_IN_BATTLE_HINT'}]),
													_maxWidth: 270, _isInBattle: _isBattleStats}"/>
	</block>
	<block className="InvitationsToDivisionRightPanelControl">
		<bind name="appear" value="'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
			<marginTop value="16px"/>
		</style>
		<bind name="instance" value="'CheckBox'; {switchProperty: _selfPlayer.invitationsEnabled, label: 'IDS_ENABLE_INVITATIONS_TO_DIVISION', _maxTfWidth: 180}"/>
		<bind name="action" value="'click'; 'toggleInvitationsEnabled'"/>
		<bind name="tooltip" value="'MouseInstructionTooltip';	{	_multiParagraphArray: [{_paragraphText: 'IDS_ENABLE_INVITATIONS_TO_DIVISION_IN_BATTLE_HINT'}],
													_maxWidth: 270, _isInBattle: _isBattleStats}"/>
	</block>
	<block className="UIlistTeamStructureRight">
		<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
		<block className="cell_background" type="native">
			<bind name="gotoAndStop!" value="2"/>
			<style>
				<flow value="horizontal"/>
				<width value="420px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block>
				<bind name="visible" value="_isBattleStats ? true : false"/>
				<styleClass value="$TableHeaderIconSize"/>
				<block className="sorting" type="native">
					<styleClass value="$MiddleAligned"/>
					<bind name="gotoAndStop!" value="'frags'"/>
				</block>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
					<textAlign value="right"/>
					<marginRight value="18px"/>
					<marginTop value="2px"/>
					<marginBottom value="2px"/>
				</style>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="'IDS_ENEMY_TEAM'"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="repeat" value="enemies; 'SimpleUIListTeamStructureRight'; {	_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																	_selfPlayer: selfPlayer}"/>
		</block>
	</block>
	<block className="UIlistTeamStructureLeft">
		<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
		<block className="cell_background" type="native">
			<bind name="gotoAndStop!" value="1"/>
			<style>
				<flow value="horizontal"/>
				<width value="420px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block type="text">
				<style>
					<width value="100%"/>
					<marginLeft value="18px"/>
					<marginTop value="2px"/>
					<marginBottom value="2px"/>
				</style>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="'IDS_ALLY_TEAM'"/>
			</block>
			<block>
				<bind name="visible" value="_isBattleStats ? true : false"/>
				<styleClass value="$TableHeaderIconSize"/>
				<block className="sorting" type="native">
					<styleClass value="$MiddleAligned"/>
					<bind name="gotoAndStop!" value="'frags'"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<right value="0px"/>
			</style>
			<bind name="repeat" value="allies; 'SimpleUIListTeamStructureLeft'; {_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																_selfPlayer: selfPlayer, _isDynamicDivisionsEnabled: _isDynamicDivisionsEnabled}"/>
		</block>
	</block>
	<block className="SimpleUIListTeamStructureLeft">
		<bind name="visible" value="(shipIDS != 'IDS_PXSX001')"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'playersInvitationsDataCollection'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'name'; name; 'playerInvitationDataCollection'"/>
		<bind name="watch" value="'playerInvitationData'; playerInvitationDataCollection[0]"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'players in battle'; 'name'; name; 'playerInCollection'"/>
		<bind name="watch" value="'player'; playerInCollection[0]"/>
		<style>
			<marginTop value="1px"/>
		</style>
		<bind name="watch" value="'isSelf'; (relation == 0)"/>
		<bind name="appear" value="'startShow'; 0.15; 0.75 + 0.075 * $index; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<bind name="style" value="'backgroundColor'; $index % 2 == 0 ? '0x15000000' : '0x25000000'"/>
			<style>
				<backgroundColor value="0x15000000"/>
				<position value="absolute"/>
				<height value="28px"/>
				<width value="100%"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="player.isInSameDivision"/>
			<style>
				<backgroundColor value="0x40ffdc84"/>
				<position value="absolute"/>
				<height value="28px"/>
				<width value="100%"/>
			</style>
		</block>
		<block>
			<style>
				<right value="0px"/>
			</style>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="transition" value="(mouseDown || contextMenuVisible || rollOver) &amp;&amp; !(shipCompareTooltipVisible) &amp;&amp; !(isSelf); 0.1; {alpha: 0}; {alpha: 1}"/>
				<block className="dock_submenu_item_bg" type="native">
					<bind name="transition" value="contextMenuVisible; 0.1; {alpha: 1}; {alpha: 0.7}"/>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<bind name="tooltip" value="'BattlePlayerTooltip'; {	_isInBattle: _isBattleStats,
													_player: player, _selfPlayer: _selfPlayer,
													_battleType: gameInfo.battleType}"/>
				<bind name="menu" value="'UIListPlayerContextMenu'; !(isSelf)	?	{	_player: player, _selfPlayer: _selfPlayer, _battleType: gameInfo.battleType,
																		_complaintsAvailable: true, _isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats}
																: null; null; 'contextMenuVisible'"/>
			</block>
			<block>
				<style>
					<height value="28px"/>
				</style>
				<block>
					<style>
						<position value="absolute"/>
						<marginLeft value="1px"/>
						<hitTest value="false"/>
					</style>
					<bind name="name" value="mute ? 'mute_' + name
								 : 'not_mute_' + name"/>
					<bind name="instance" value="'UIListVoiceTextChatIcons'; {	_isSelf: isSelf, _isTextChatMuted: mute, _selfPlayerDivisionId: _selfPlayer.divisionId,
																_isInSameDivision: isInSameDivision, _battleType: gameInfo.battleType,
																_isSpeaking: isSpeaking, _isVoiceChatMuted: isMuted, _isInVoiceChat: isInVoiceChat}"/>
				</block>
				<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'dynamicDivisionsData'; 'id'; _selfPlayer.divisionId; 'selfPlayerDivisionData'"/>
				<bind name="watch" value="'isFreePlacesInDivision'; ((selfPlayerDivisionData[0].staff.length + selfPlayerDivisionData[0].inPortParticipantsCount) &lt; 3)"/>
				<bind name="watch" value="'invitationDisableReason'; !(slimClientData.isFull)											? 'YourClientIsTooSlim' :
													isSelf																? 'YouCantInviteYourself' :
													!(isAlive)															? 'IDS_INVITATION_DISABLE_REASON_DESTROYED' :
													!(_selfPlayer.isAlive)												? 'IDS_DIVISION_MANAGEMENT_LOCKED_FOR_DESTROYED' :
													player.isLeaver														? 'IDS_INVITATION_DISABLE_REASON_PLAYER_IS_OUT_OF_BATTLE':
													(division != 0)														? 'IDS_INVITATION_DISABLE_REASON_ALREADY_IN_DIVISION' :
													(playerInvitationData != null)										? 'PlayerIsAlreadyInvited' :
													isInSameDivision													? 'PlayerIsAlreadyInYourDivision' :
													(_selfPlayer.division != 0) &amp;&amp; !(_selfPlayer.isDivisionCommander)	? 'IDS_INVITATION_DISABLE_REASON_NOT_COMMANDER' :
													!(isFreePlacesInDivision)											? 'IDS_INVITATION_DISABLE_REASON_NO_FREE_PLACES' :
													!(invitationsEnabled)												? 'IDS_INVITATION_DISABLE_REASON_INVITATIONS_DISABLED' :
													player.inviteCooldownEnabled										? 'IDS_WAIT_TIMEOUT_TO_INVITE_TO_DIVISION'
																														: 'no_reason'"/>
				<block>
					<style>
						<width value="30px"/>
						<height value="100%"/>
					</style>
					<block>
						<bind name="visible" value="(player.division &gt; 0) &amp;&amp; !(player.divisionHidden)"/>
						<style>
							<top value="6px"/>
							<marginLeft value="12px"/>
							<position value="absolute"/>
						</style>
						<block className="division_item" type="native">
							<bind name="gotoAndStop!" value="player.isInSameDivision ? player.divisionSign + 1 : player.divisionSign + 1 + 10"/>
						</block>
					</block>
					<block>
						<bind name="visible" value="_isDynamicDivisionsEnabled"/>
						<styleClass value="$Fullsize"/>
						<block>
							<bind name="visible" value="(playerInvitationData != null)"/>
							<bind name="transition" value="rollOver; 0.15; {alpha: 1}; {alpha: 0}; {alpha: 1}; 1; 0.05"/>
							<style>
								<top value="6px"/>
								<marginLeft value="12px"/>
								<position value="absolute"/>
							</style>
							<block className="formation_player_status" type="native">
								<bind name="gotoAndStop!" value="'empty_slot_division'"/>
							</block>
						</block>
						<block>
							<bind name="transition" value="rollOver; 0.15; {alpha: 0}; {alpha: 1.0}; {alpha: 0}; 1; 0.05"/>
							<block>
								<bind name="visible" value="(invitationDisableReason == 'no_reason')"/>
								<style>
									<marginLeft value="8px"/>
									<top value="3px"/>
									<position value="absolute"/>
								</style>
								<block className="button_division_invite" type="native">
									<bind name="action" value="'buttonClick'; 'inviteToDivision'; {playerId: id, playerName: name, inviteType: InviteType.COMMON}"/>
								</block>
								<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'no_icon', _instructionText: 'IDS_INVITE_IN_DIVISION'}], _maxWidth: 250, _isInBattle: _isBattleStats}"/>
							</block>
							<block>
								<bind name="visible" value="(_selfPlayer.isDivisionCommander &amp;&amp; (playerInvitationData != null))"/>
								<style>
									<marginLeft value="6px"/>
									<top value="2px"/>
									<position value="absolute"/>
								</style>
								<block className="button_cross" type="native">
									<bind name="action" value="'buttonClick'; 'revokeInvitationToDivision'; {id: playerInvitationData.id}"/>
								</block>
								<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'no_icon', _instructionText: 'IDS_RECALL_INVITATION'}], _maxWidth: 250, _isInBattle: _isBattleStats}"/>
							</block>
						</block>
					</block>
				</block>
				<block type="text">
					<style>
						<width value="100px"/>
						<multiline value="false"/>
						<textAlign value="left"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="class" value="isSelf 	? '$Bold' : '$None'"/>
					<bind name="class" value="isAlive 	? (ttkStatus ? '$FontColorTTK' :
											tkStatus ? '$FontColorTeamkiller' 
														: isSelf || isInSameDivision 	? '$FontColorGolden' 
																						: '$None')
										: '$None'"/>
					<bind name="class" value="!isAlive	? (isSelf	? (tkStatus ? '$FontColorTeamkiller'
																: '$FontColorGolden')
															: '$FontColorAlmostBlack')
										: '$None'"/>
					<bind name="class" value="(!(isAlive) &amp;&amp; !(isSelf)) ? '$FontDropShadowWhite' : '$None'"/>
					<bind name="text" value="name"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
				<block>
					<style>
						<height value="100%"/>
						<width value="122px"/>
						<marginBottom value="-2px"/>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="style" value="'hitTest'; _isBattleLoading ? true : false"/>
					<bind name="tooltip" value="'ShipSideCompareTooltip';	_isBattleLoading	? { _shipId: shipId, _selfPlayerShipId: _selfPlayer.shipId,
																					_nonPlayerShipParams: shipParams, _isSelf: isSelf, _nickname: name}
																				: null; TooltipBehaviour.simple; null; 'shipCompareTooltipVisible'"/>
					<bind name="name" value="'player_tab_stat_' + name"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
					<block>
						<style>
							<width value="100%"/>
							<height value="100%"/>
							<hitTest value="false"/>
						</style>
						<bind name="style" value="'backgroundImage'; !isAlive 	? ('url:' + pathDeadShipIcon)
																: isSelf ? ('url:' + pathOwnShipTinyIcon) : ('url:' + pathShipTinyIcon)"/>
					</block>
				</block>
				<block type="text">
					<style>
						<width value="25px"/>
						<textAlign value="center"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<bind name="class" value="isSelf 	? '$TextGoldenBold' 
											: !isAlive ? '$FontColorAlmostBlack' : '$None'"/>
					<bind name="class" value="(!(isAlive) &amp;&amp; !(isSelf)) ? '$FontDropShadowWhite' : '$None'"/>
					<style>
						<width value="30px"/>
						<textAlign value="center"/>
						<multiline value="false"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="shipRlevel"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
				<block type="text">
					<style>
						<textAlign value="left"/>
						<width value="113px"/>
						<multiline value="false"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<bind name="class" value="isSelf		? '$TextGoldenBold' :
							!isAlive 	? '$FontColorAlmostBlack'
									 	: '$None'"/>
					<bind name="class" value="(!(isAlive) &amp;&amp; !(isSelf)) ? '$FontDropShadowWhite' : '$None'"/>
					<style>
						<width value="108px"/>
						<textAlign value="left"/>
						<multiline value="false"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="class" value="'$LetterSpacingSmall'"/>
					<bind name="text" value="toUpperCase(tr(shipIDS))"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<block>
						<bind name="visible" value="_isBattleLoading ? true : false"/>
						<style>
							<width value="100%"/>
						</style>
						<block className="icon_player_status" type="native">
							<bind name="gotoAndStop!" value="isReady ? 'ready' : 'not_ready'"/>
							<styleClass value="$MiddleAligned"/>
							<styleClass value="$MiddleVAligned"/>
						</block>
					</block>
					<block>
						<bind name="visible" value="_isBattleStats &amp;&amp; fragsCount != 0"/>
						<style>
							<width value="100%"/>
						</style>
						<block type="text">
							<styleClass value="$TextHeaderBigDefault"/>
							<style>
								<textAlign value="center"/>
								<width value="100%"/>
							</style>
							<bind name="text" value="fragsCount"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="SimpleUIListTeamStructureRight">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'players in battle'; 'name'; name; 'playerInCollection'"/>
		<bind name="watch" value="'player'; playerInCollection[0]"/>
		<style>
			<marginTop value="1px"/>
		</style>
		<bind name="appear" value="'startShow'; 0.15; 0.75 + 0.075 * $index; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<bind name="style" value="'backgroundColor'; $index % 2 == 0 ? '0x15000000' : '0x25000000'"/>
			<style>
				<backgroundColor value="0x15000000"/>
				<position value="absolute"/>
				<height value="28px"/>
				<width value="100%"/>
			</style>
		</block>
		<block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="transition" value="(mouseDown || contextMenuVisible || rollOver) &amp;&amp; !(shipCompareTooltipVisible); 0.1; {alpha: 0}; {alpha: 1}"/>
				<block className="dock_submenu_item_bg" type="native">
					<bind name="transition" value="contextMenuVisible; 0.1; {alpha: 1}; {alpha: 0.7}"/>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<bind name="tooltip" value="'BattlePlayerTooltip'; {	_isInBattle: _isBattleStats,
													_player: player, _selfPlayer: _selfPlayer,
													_battleType: gameInfo.battleType}"/>
				<bind name="menu" value="'UIListPlayerContextMenu'; {	_player: player, _selfPlayer: _selfPlayer, _battleType: gameInfo.battleType,
														_complaintsAvailable: true, _isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats}
													; null; 'contextMenuVisible'"/>
			</block>
			<block>
				<style>
					<height value="28px"/>
				</style>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<block>
						<bind name="visible" value="_isBattleLoading ? true : false"/>
						<style>
							<width value="100%"/>
						</style>
						<block className="icon_player_status" type="native">
							<bind name="gotoAndStop!" value="isReady ? 'ready' : 'not_ready'"/>
							<styleClass value="$MiddleAligned"/>
							<styleClass value="$MiddleVAligned"/>
						</block>
					</block>
					<block>
						<bind name="visible" value="_isBattleStats &amp;&amp; fragsCount != 0"/>
						<style>
							<width value="100%"/>
						</style>
						<block type="text">
							<styleClass value="$TextHeaderBigDefault"/>
							<style>
								<textAlign value="center"/>
								<width value="100%"/>
							</style>
							<bind name="text" value="fragsCount"/>
						</block>
					</block>
				</block>
				<block type="text">
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="class" value="!isAlive ? '$FontColorAlmostBlack' : '$None'"/>
					<bind name="class" value="!isAlive ? '$FontDropShadowWhite' : '$None'"/>
					<style>
						<width value="108px"/>
						<textAlign value="right"/>
						<multiline value="false"/>
						<hitTest value="false"/>
					</style>
					<bind name="class" value="'$LetterSpacingSmall'"/>
					<bind name="text" value="toUpperCase(tr(shipIDS))"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
				<block type="text">
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="class" value="!isAlive ? '$FontColorAlmostBlack' : '$None'"/>
					<bind name="class" value="!isAlive ? '$FontDropShadowWhite' : '$None'"/>
					<style>
						<width value="30px"/>
						<textAlign value="center"/>
						<multiline value="false"/>
						<hitTest value="false"/>
					</style>
					<bind name="text" value="shipRlevel"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
				<block>
					<bind name="name" value="'player_tab_stat_' + name"/>
					<style>
						<height value="100%"/>
						<width value="122px"/>
						<marginBottom value="-2px"/>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="style" value="'hitTest'; _isBattleLoading ? true : false"/>
					<bind name="tooltip" value="'ShipSideCompareTooltip';	_isBattleLoading	? { _shipId: shipId, _selfPlayerShipId: _selfPlayer.shipId,
																					_nonPlayerShipParams: shipParams, _isSelf: false, _nickname: name}
																				: null; TooltipBehaviour.simple; null; 'shipCompareTooltipVisible'"/>
					<block>
						<style>
							<width value="100%"/>
							<height value="100%"/>
							<marginLeft value="122px"/>
							<hitTest value="false"/>
						</style>
						<bind name="scaleX" value="-1"/>
						<bind name="style" value="'backgroundImage'; !isAlive ? ('url:' + pathDeadShipIcon) : ('url:' + pathShipTinyIcon)"/>
					</block>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
				<block type="text">
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="class" value="!isAlive ? '$FontColorAlmostBlack' : ttkStatus ? '$FontColorTTK' : '$FontcolorDefault'"/>
					<bind name="class" value="!isAlive ? '$FontDropShadowWhite' : '$None'"/>
					<style>
						<textAlign value="right"/>
						<multiline value="false"/>
						<width value="100px"/>
						<hitTest value="false"/>
					</style>
					<bind name="text" value="name"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<block>
						<bind name="visible" value="(division &gt; 0) &amp;&amp; !(divisionHidden)"/>
						<styleClass value="$MiddleAligned"/>
						<style>
							<marginTop value="1px"/>
						</style>
						<block className="division_item" type="native">
							<style>
								<marginRight value="10px"/>
							</style>
							<bind name="gotoAndStop!" value="isInSameDivision ? divisionSign + 1 : divisionSign + 1 + 10"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<right value="12"/>
						<hitTest value="false"/>
					</style>
					<bind name="name" value="mute ? 'mute_' + name
								 : 'not_mute_' + name"/>
					<bind name="instance" value="'UIListVoiceTextChatIcons'; {	_isSelf: false, _isTextChatMuted: mute, _isInSameDivision: false,
																_isSpeaking: isSpeaking, _selfPlayerDivisionId: _selfPlayer.divisionId,
																_isVoiceChatMuted: isMuted, _isInVoiceChat: isInVoiceChat}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="BattleDivisionInvitationItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="appear" value="'addedToStage'; 0.3; 0.35; {alpha: 0}; {alpha: 1}; 2"/>
		<style>
			<marginLeft value="5px"/>
			<width value="260px"/>
			<height value="123px"/>
			<marginRight value="10px"/>
			<marginBottom value="6px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<bind name="visible" value="(_isBattleStats != true) &amp;&amp; optionData.blurEnabled"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(_isBattleLoading == true) || !(optionData.blurEnabled) || optionData.contrast"/>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<height value="26px"/>
				<backgroundColor value="0x01000000"/>
				<marginBottom value="4px"/>
			</style>
			<block className="inner_panel" type="native">
				<style>
					<marginRight value="1px"/>
					<marginLeft value="1px"/>
					<marginTop value="2px"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="appear" value="'addedToStage'; 0.3; 0.3; {alpha: 0.5, width: 0}; {alpha: 1, width: 260}; 2"/>
			</block>
			<block>
				<bind name="appear" value="'addedToStage'; 0.3; 0; {alpha: 0, top: 30}; {alpha: 1, top: 0}"/>
				<style>
					<left value="3px"/>
					<top value="-4"/>
					<position value="absolute"/>
				</style>
				<block className="icon_formation" type="native">
					<bind name="gotoAndStop!" value="'seeker_division'"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'addedToStage'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'BattlePlayerContactItemSimple'; {_level: senderLevel, _rank: senderRank, _playerName: playerName, _tkStatus: tkStatus}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="button_close" type="native">
			<bind name="appear" value="'addedToStage'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<right value="8"/>
				<top value="7"/>
				<position value="absolute"/>
			</style>
			<bind name="action" value="'buttonClick'; 'rejectDivisionInvitation'; {id: id}"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'no_icon', _instructionText: 'IDS_REJECT'}], _maxWidth: 250, _isInBattle: _isBattleStats}"/>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.48; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<style>
					<maxWidth value="260"/>
					<textAlign value="center"/>
				</style>
				<bind name="text" value="'IDS_INVITES_YOU_TO_JOIN_DIVISION'"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.51; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="-3px"/>
				<marginBottom value="3px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontSizeHeader4'"/>
				<bind name="countdown" value="expirationTime; 'countdownText'; 'mm:ss'"/>
				<bind name="pureText" value="'-' + countdownText"/>
			</block>
		</block>
		<block>
			<style>
				<width value="1px"/>
			</style>
			<bind name="appear" value="'addedToStage'; 0.3; 0.3; {alpha: 0, width: 0}; {alpha: 1, width: 260}; 2"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<width value="110px"/>
				<marginTop value="6px"/>
			</style>
			<block className="button_default_small" type="native">
				<style>
					<width value="100%"/>
				</style>
				<bind name="label" value="'IDS_ACCEPT'"/>
				<bind name="action" value="'buttonClick'; 'acceptDivisionInvitation'; {id: id}"/>
			</block>
		</block>
	</block>
	<block className="BattlePlayerContactItemSimple">
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<style>
				<marginTop value="3px"/>
			</style>
			<bind name="visible" value="_rank == 0"/>
			<styleClass value="$TextSecondary"/>
			<bind name="text" value="_level"/>
		</block>
		<block>
			<bind name="visible" value="_rank != 0"/>
			<bind name="instance" value="'IconRankSmall'; {_rankId: _rank}"/>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="2px"/>
			</style>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="_tkStatus ? '$FontColorTeamkiller' : '$None'"/>
			<bind name="text" value="_playerName"/>
		</block>
	</block>
	<block className="BattlePlayerTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'name'; _player.name; 'playerInvitationDataCollection'"/>
		<bind name="watch" value="'playerInvitationData'; playerInvitationDataCollection[0]"/>
		<bind name="watch" value="'isSelf'; (_player.relation == 0)"/>
		<bind name="watch" value="'isEnemyPlayer'; (_player.relation == 2)"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="245px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextHeaderWhite"/>
				<bind name="text" value="_player.name"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="class" value="	_player.ttkStatus 						? '$FontColorTTK' :
							_player.tkStatus &amp;&amp; !isEnemyPlayer 		? '$FontColorTeamkiller' :
							(isSelf || _player.isInSameDivision)	? '$FontColorGolden'
																	: '$FontColorWhite'"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_player.isInSameDivision"/>
			<style>
				<width value="100%"/>
				<height value="30px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="4px"/>
					<marginBottom value="-4px"/>
					<marginLeft value="5px"/>
					<marginRight value="5px"/>
				</style>
				<block>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: false, isCommander: _player.isDivisionCommander, isReady: true,
														isInBattle: false, _formationType: 'division'}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorGolden'"/>
					<bind name="watch" value="'playerRoleStr'; 	_player.isDivisionCommander	? tr('IDS_DIVISION_COMMANDER_C')
																			: tr('IDS_IN_DIVISION')"/>
					<bind name="text" value="playerRoleStr"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'BattlePlayerInfoTooltipVoiceChatStatus';	(!(isEnemyPlayer) &amp;&amp;
																	(_player.isInSameDivision || (_battleType == BattleTypes.CLUB_BATTLE)))	? { _isSelf: isSelf,
																																				_player: _player}
																																			: null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'PlayerTooltipInvitationCountdown'; playerInvitationData.expirationTime != null	? { _expirationTime: playerInvitationData.expirationTime,
																											_formationType: 'division',
																											_text: 'IDS_INVITED_IN_DIVISION'}
																										: null"/>
		</block>
		<block>
			<bind name="visible" value="!(isSelf)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'MouseInstruction'; {_type: 'right', _instructionText: 'IDS_HINT_RIGHT_CLICK_FOR_CONTEXT_MENU', _maxWidth: 220}"/>
			</block>
		</block>
	</block>
	<block className="BattlePlayerInfoTooltipVoiceChatStatus">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
		<bind name="watch" value="'voiceChatStatusText';	_isSelf						?	VoiceChatState.enabled	? 	'IDS_VOICE_CHAT_ENABLED'
																								:	'IDS_VOICE_CHAT_DISABLED' :
										!(_player.isInVoiceChat)	?	'IDS_PLAYER_IS_NOT_AVAILABLE_IN_VOICE_CHAT'	:
										_player.isMuted				?	'IDS_PLAYER_IS_MUTED_IN_VOICE_CHAT'
																	:	'IDS_PLAYER_IS_AVAILABLE_IN_VOICE_CHAT'"/>
		<bind name="watch" value="'state';	_isSelf 					? !(VoiceChatState.enabled)	? 'disabled'
																					: 'speak' :
							!(_player.isInVoiceChat) 	? 'disabled' :
							_player.isMuted				? 'muted'
														: 'speak'"/>
		<bind name="visible" value="(_isSelf || VoiceChatState.enabled)"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="10px"/>
				<marginRight value="8px"/>
				<marginTop value="4px"/>
				<marginBottom value="5px"/>
			</style>
			<block className="icon_voice_chat_small" type="native">
				<style>
					<top value="6px"/>
					<marginRight value="4px"/>
				</style>
				<bind name="gotoAndStop!" value="state"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="(state == 'speak' ? '$FontColorWhite' : '$FontColorUnready')"/>
				<style>
					<maxWidth value="210"/>
				</style>
				<bind name="text" value="voiceChatStatusText"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="PlayerTooltipInvitationCooldown">
		<bind name="countdown" value="_expirationTime; 'countdownText'; 'mm:ss'"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="4px"/>
				<marginLeft value="7px"/>
				<marginRight value="4px"/>
				<marginBottom value="3px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<marginRight value="6px"/>
				</style>
				<block>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: true, _formationType: _formationType}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
						<maxWidth value="158"/>
						<leading value="-3"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorWhite'"/>
					<bind name="text" value="_text"/>
				</block>
				<block type="text">
					<style>
						<top value="-4px"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<styleClass value="$AlignRight"/>
					<bind name="class" value="'$FontSizeHeader6'"/>
					<bind name="pureText" value="'-' + countdownText"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ScenarioBattleStats">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'battleTasksPrimary'; 'BattleTasksPrimary'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'battleTasksSecondary'; 'BattleTasksSecondary'"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="instance" value="'PVETasksList'; {_primaryTasks: BattleTasksPrimary, _secondaryTasks: BattleTasksSecondary}"/>
	</block>
	<css name="$TextGoldenBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$BattleLoadingHeader">
		<fontFamily value="$WWSDefaultFontBold"/>
		<marginBottom value="3px"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="23"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$BattleLoadingDescription">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$BattleLoadingDescriptionSmall">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TableHeaderIconSize">
		<width value="30px"/>
		<marginTop value="4px"/>
		<height value="21px"/>
	</css>
	<block className="BattleLoading">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'battleModeInfo'; 'updateBattleTime,battleModeInfo,updateBattleModeInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'; 'initGameInfo,GameInfoUpdateFragsCount,GameVersion'"/>
		<bind name="controller" value="lesta.dialogs.battle_window_controllers.uss_controllers.ControllerBattleStats"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; selfPlayer.shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="watch" value="'isDynamicDivisionsEnabled'; (((gameInfo.battleType == BattleTypes.COOPERATIVE_BATTLE) || (gameInfo.battleType == BattleTypes.RANDOM_BATTLE)) &amp;&amp;
												slimClientData.isFull)"/>
		<bind name="watch" value="'isVoiceChatEnabled';	(gameInfo.battleType == BattleTypes.CLUB_BATTLE) ||
										((selfPlayer.divisionId != 0) &amp;&amp; ((gameInfo.battleType == BattleTypes.RANDOM_BATTLE) ||
																		  (gameInfo.battleType == BattleTypes.COOPERATIVE_BATTLE) ||
																		  (gameInfo.battleType == BattleTypes.PVE_BATTLE)))"/>
		<bind name="watch" value="'validTabIndex'; 	(gameInfo.gameModeId == GameMode.TUTORIAL)							? 0 :
									((battleModeInfo.tabIndex == 2) &amp;&amp; !(isDynamicDivisionsEnabled))	? 0
																										: battleModeInfo.tabIndex"/>
		<styleClass value="$Fullsize"/>
		<block className="lesta.utils.resourceLoading.BitmapDataResourceDisplay" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="display!" value="battleModeInfo.bitmapId"/>
		</block>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block type="text">
			<bind name="appear" value="'startShowContent'; 0.15; 0.15; {alpha: 1, top: 0}; {alpha: 0, top: 10}"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextAccentBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<top value="33%"/>
				<hitTest value="false"/>
				<position value="absolute"/>
			</style>
			<bind name="text" value="toUpperCase(tr('IDS_WAITING_SCREEN_LOADING_DATA'))"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="dispatch" value="'addedToStage'; 'startShowContent'"/>
			<bind name="appear" value="'startShowContent'; 0.15; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block>
				<bind name="visible" value="(gameInfo.gameModeId != GameMode.TUTORIAL)"/>
				<bind name="appear" value="'startShow'; 0.3; 1.2; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<style>
					<top value="40px"/>
				</style>
				<block className="tab_bar_bg" type="native">
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<marginLeft value="-2px"/>
						<marginRight value="-2px"/>
						<height value="29px"/>
					</style>
				</block>
				<block className="MainTabNew">
					<block className="tab_bar_item" type="native">
						<bind name="name" value="'itemTab_'+0"/>
						<style>
							<width value="160px"/>
							<height value="29px"/>
						</style>
						<bind name="selected" value="validTabIndex == 0"/>
						<bind name="action" value="'buttonClick'; 'changeLoadingInset'; { tabIndex: 0 }"/>
						<bind name="label" value="toUpperCase(tr('IDS_TEAM_TASKS'))"/>
					</block>
					<bind name="tooltip" value="'MouseInstructionTooltip'; { _multiParagraphArray:  [{_paragraphText: 'IDS_TOOLTIP_TAB_TASKS'}], _maxWidth: 250, _isInBattle: false}"/>
				</block>
				<block>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<top value="2px"/>
						</style>
					</block>
					<block className="MainTabNew">
						<block className="tab_bar_item" type="native">
							<bind name="name" value="'itemTab_'+1"/>
							<style>
								<width value="160px"/>
								<height value="29px"/>
							</style>
							<bind name="selected" value="validTabIndex == 1"/>
							<bind name="action" value="'buttonClick'; 'changeLoadingInset'; { tabIndex: 1 }"/>
							<bind name="label" value="toUpperCase(tr('IDS_TEAM_STRUCTURE'))"/>
						</block>
						<bind name="tooltip" value="'MouseInstructionTooltip'; { _multiParagraphArray:  [{_paragraphText: 'IDS_TOOLTIP_TAB_TEAM_STRUCTURE'}], _maxWidth: 250, _isInBattle: false}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="isDynamicDivisionsEnabled"/>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<top value="2px"/>
						</style>
					</block>
					<block className="MainTabNew">
						<block className="tab_bar_item" type="native">
							<bind name="name" value="'itemTab_'+2"/>
							<style>
								<width value="160px"/>
								<height value="29px"/>
							</style>
							<bind name="selected" value="validTabIndex == 2"/>
							<bind name="action" value="'buttonClick'; 'changeLoadingInset'; { tabIndex: 2 }"/>
							<bind name="label" value="toUpperCase(tr('IDS_DIVISIONS'))"/>
						</block>
						<bind name="tooltip" value="'MouseInstructionTooltip'; { _multiParagraphArray:  [{_paragraphText: 'IDS_TOOLTIP_TAB_DIVISIONS'}], _maxWidth: 250, _isInBattle: false}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<maxWidth value="1280"/>
					<top value="15sh"/>
				</style>
				<bind name="style" value="'width'; validTabIndex == 0 ? '97sw': '810px'"/>
				<styleClass value="$MiddleAligned"/>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="child" value="validTabIndex;
							{	_isBattleLoading: true, gameInfo: gameInfo, battleModeInfo: battleModeInfo,
								selfPlayer: selfPlayer, enemies: enemies, allies: allies, divisions: divisions,
								_isDynamicDivisionsEnabled: isDynamicDivisionsEnabled};
							'Tasks'; 'TeamBattlePage'; 'DynamicDivisions'"/>
				</block>
				<block>
					<bind name="stageSize"/>
					<bind name="watch" value="'instructionsOffsetX'; (26 + (stageWidth - 1280) / 16)"/>
					<style>
						<width value="210px"/>
						<position value="absolute"/>
						<top value="20px"/>
					</style>
					<bind name="style" value="'right';	-(210 + instructionsOffsetX)"/>
					<bind name="child" value="validTabIndex; {	_selfPlayer: selfPlayer, _battleType: gameInfo.battleType,
											_isDynamicDivisionsEnabled: isDynamicDivisionsEnabled, _isVoiceChatEnabled: isVoiceChatEnabled};
										'EmptyItem'; 'TeamBattleLoadingRightPanel'; 'DynamicDivisionsRightPanel'"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<style>
					<height value="180px"/>
					<bottom value="40px"/>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<block className="indicator_busy_battletype" type="native">
					<styleClass value="$MiddleAligned"/>
					<style>
						<marginTop value="0px"/>
					</style>
					<bind name="gotoAndStop!" value="gameInfo.gameModeId == GameMode.TUTORIAL	? 'TutorialBattle' :
								gameInfo.gameModeId == GameMode.PVE			? 'PVEBattle'
																			: gameInfo.battleType"/>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<block type="text">
						<bind name="name" value="'mapName'"/>
						<bind name="class" value="'$FontSizeLargeHeader'"/>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$TextAccentBold"/>
						<bind name="text" value="toUpperCase(tr(battleModeInfo.mapName))"/>
					</block>
					<block type="text">
						<bind name="name" value="'battleType'"/>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$TextHeader"/>
						<style>
							<marginTop value="-6px"/>
							<alpha value="0.85"/>
						</style>
						<bind name="text" value="toUpperCase(tr('IDS_')) + gameInfo.gameMode + toUpperCase(tr('_TITLE'))"/>
					</block>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<bind name="fade" value="battleModeInfo.loadingProgress &lt; 1; 0.15; {alpha: 0, top: 10}; {alpha: 1, top:0 }; {alpha: 0, top: -10}; 1; 0.15"/>
					<block>
						<styleClass value="$MiddleAligned"/>
						<block className="indicator_progress_bar" type="native">
							<styleClass value="$MiddleAligned"/>
							<style>
								<marginTop value="12px"/>
							</style>
							<bind name="value" value="(battleModeInfo.loadingProgress)*10"/>
						</block>
						<block>
							<style>
								<width value="100%"/>
							</style>
							<block type="text">
								<styleClass value="$MiddleAligned"/>
								<styleClass value="$BattleLoadingDescription"/>
								<style>
									<marginTop value="12px"/>
									<maxWidth value="1100"/>
									<textAlign value="center"/>
								</style>
								<bind name="text" value="battleModeInfo.helpText"/>
								<bind name="substitute" value="'KEYS'; 5"/>
							</block>
						</block>
					</block>
				</block>
				<block>
					<bind name="fade" value="battleModeInfo.loadingProgress == 1; 0.15; {alpha: 0, top: 10}; {alpha: 1, top:0 }; {alpha: 0, top: -10}; 1; 0.15"/>
					<styleClass value="$MiddleAligned"/>
					<block>
						<styleClass value="$MiddleAligned"/>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="visible" value="battleModeInfo.battleState == 1"/>
							<block type="text">
								<style>
									<marginTop value="6px"/>
								</style>
								<bind name="class" value="'$FontSizeLargeHeader'"/>
								<styleClass value="$TextAccentBold"/>
								<bind name="text" value="battleModeInfo.battleTimeLeftText"/>
							</block>
						</block>
						<block>
							<bind name="visible" value="battleModeInfo.readyToBattle &amp;&amp; (battleModeInfo.battleState != 0)"/>
							<style>
								<width value="150px"/>
								<marginTop value="9px"/>
							</style>
							<block className="button_default" type="native">
								<style>
									<width value="100%"/>
								</style>
								<bind name="focus" value="0; true"/>
								<bind name="label" value="toUpperCase(tr('IDS_STARTTRAININGBATTLEBUTTON'))"/>
								<bind name="action" value="'buttonClick'; 'showBattle'; {}"/>
								<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_STARTTRAININGBATTLEBUTTON'}; 0"/>
							</block>
						</block>
						<block>
							<bind name="visible" value="!(battleModeInfo.readyToBattle) &amp;&amp; (battleModeInfo.battleState != 0)"/>
							<styleClass value="$MiddleAligned"/>
							<style>
								<marginTop value="9px"/>
							</style>
							<block type="text">
								<styleClass value="$TextHeaderBigDefault"/>
								<text value="IDS_WAITING_PLAYERS"/>
							</block>
						</block>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$BottomMenu"/>
				<block>
					<style>
						<marginLeft value="10px"/>
						<marginTop value="4px"/>
						<width value="19px"/>
						<height value="17px"/>
					</style>
					<bind name="instance" value="'VoiceChatOutgoingIcon'; {_isSpeaking: selfPlayer.isSpeaking}"/>
				</block>
			</block>
			<block>
				<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'invitationsToDivision'; 'InvitationsToDivision'"/>
				<bind name="watch" value="'invitationBottomOffset'; 17+(stageHeight-720)/3"/>
				<bind name="style" value="'bottom'; invitationBottomOffset"/>
				<style>
					<position value="absolute"/>
				</style>
				<bind name="repeat" value="InvitationsToDivision; 'BattleDivisionInvitationItem'; {_isBattleLoading: true}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="Tasks">
		<style>
			<width value="100%"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.2; 0; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<bind name="var" value="{primaryTasks: [	{name: '000_001_MAIN_TASK', status: 0}]}"/>
		<bind name="var" value="{secondaryTasks: [	{name: '000_021_PAYLOAD_HALF_HEALTH', status: 0},
									{name: '000_022_KILL_ALL_ENEMIES', status: 0},
									{name: '000_023_SUPPRESS_BUILDINGS', status: 0},
									{name: '000_024_UNSTOPPABLE', status: 0},
									{name: '000_026_ALL_ALIVE', status: 0}
								]}"/>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<style>
				<width value="860px"/>
				<position value="absolute"/>
			</style>
			<bind name="child" value="(gameInfo.gameModeId != null ? (gameInfo.gameModeId == GameMode.PVE	? 1
																							: 2)
												 : 0); {	_battleModeInfo: battleModeInfo,
															_gameInfo: gameInfo,
															_selfPlayer: selfPlayer,
															_primaryTasks: primaryTasks,
															_secondaryTasks: secondaryTasks};	'EmptyItem';
																								'BattleLoadingPVETasks';
																								'BattleLoadingStandartTasks'"/>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<position value="absolute"/>
				<right value="4px"/>
			</style>
			<bind name="instance" value="'BattleLoadingMinimap'; {_battleModeInfo: battleModeInfo, _allies: allies}"/>
		</block>
	</block>
	<block className="BattleLoadingStandartTasks">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 0.7, top: 0}"/>
			<styleClass value="$BattleLoadingHeader"/>
			<bind name="text" value="_gameInfo.gameModeId == GameMode.TUTORIAL ? tr('IDS_YOUR_GOAL') : tr('IDS_TEAM_GOALS')"/>
		</block>
		<block type="text">
			<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<width value="100%"/>
				<marginBottom value="12px"/>
				<marginLeft value="24px"/>
			</style>
			<styleClass value="$BattleLoadingDescription"/>
			<bind name="text" value="_gameInfo.gameModeDescription"/>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.9; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="visible" value="	(_gameInfo.gameModeId == GameMode.AWESOME) ||
						(_gameInfo.gameModeId == GameMode.STANDARD_DOMINATION) ||
						(_gameInfo.gameModeId == GameMode.FORTS) ||
						(_gameInfo.gameModeId == GameMode.ASSAULT_DEFENSE) ||
						(_gameInfo.gameModeId == GameMode.EPICENTER)"/>
			<style>
				<width value="100%"/>
				<marginTop value="14px"/>
			</style>
			<block type="text">
				<style>
					<alpha value="0.7"/>
				</style>
				<styleClass value="$BattleLoadingHeader"/>
				<bind name="text" value="tr('IDS_CHARGING_POINTS')"/>
			</block>
			<block>
				<style>
					<marginTop value="9px"/>
				</style>
				<bind name="instance" value="'PointsCharge';  {_battleModeInfo: _battleModeInfo}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_gameInfo.gameModeId != GameMode.TUTORIAL"/>
			<bind name="appear" value="'startShow'; 0.15; 1.05; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<marginTop value="14px"/>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<alpha value="0.7"/>
				</style>
				<styleClass value="$BattleLoadingHeader"/>
				<bind name="text" value="_gameInfo.gameModeId == GameMode.FORTS 	? tr('IDS_GAMEMODE_FORTS_GOAL_TITLE')
																: tr('IDS_' + toUpperCase(_selfPlayer.shipTypeIdent) + '_GOAL')"/>
			</block>
			<block type="text">
				<style>
					<maxWidth value="710"/>
					<marginLeft value="24px"/>
				</style>
				<styleClass value="$BattleLoadingDescription"/>
				<bind name="text" value="_gameInfo.gameModeId == GameMode.FORTS 	? tr('IDS_GAMEMODE_FORTS_GOAL_DESCRIPTION')
																: tr('IDS_' + toUpperCase(_selfPlayer.shipTypeIdent) + '_GOAL_DESCRIPTION')"/>
				<bind name="substitute" value="''; 5; {	'[icon_1]' : 'icon_ground_artillery_type_1_ally',
										'[icon_2]' : 'icon_ground_radar_ally',
										'[icon_3]' : 'icon_ground_artillery_type_1_enemy',
										'[icon_4]' : 'icon_ground_radar_enemy'}"/>
			</block>
		</block>
	</block>
	<block className="TeamBattlePage">
		<bind name="appear" value="'addedToStage'; 0.2; 0.2; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<bind name="stageSizeOld"/>
			<bind name="watch" value="'teamsMaxHeight'; _isBattleStats 	? (400 + (stageHeight - 720)*0.17)
														: (380 + (stageHeight - 720)*0.8)"/>
			<bind name="style" value="'height';  teamsMaxHeight+'px'"/>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<overflow value="scroll"/>
				<width value="843px"/>
				<height value="380px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="name" value="_isBattleStats ? 'TeamBattleStatsID' : 'TeamBattleLoading'"/>
				<bind name="style" value="'marginTop'; gameInfo.alliedClub.clubName ? '50px' : '0px'"/>
				<block>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="instance" value="'BlurMap'; _isBattleLoading ? {} : null"/>
				</block>
				<block className="UIlistTeamStructureLeft">
					<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
					<block className="cell_background" type="native">
						<bind name="gotoAndStop!" value="1"/>
						<style>
							<flow value="horizontal"/>
							<width value="420px"/>
						</style>
						<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
						<block type="text">
							<style>
								<width value="100%"/>
								<marginLeft value="18px"/>
								<marginTop value="2px"/>
								<marginBottom value="2px"/>
							</style>
							<styleClass value="$TextHeaderWhiteBold"/>
							<bind name="text" value="'IDS_ALLY_TEAM'"/>
						</block>
						<block>
							<bind name="visible" value="_isBattleStats ? true : false"/>
							<styleClass value="$TableHeaderIconSize"/>
							<block className="sorting" type="native">
								<styleClass value="$MiddleAligned"/>
								<bind name="gotoAndStop!" value="'frags'"/>
							</block>
						</block>
					</block>
					<block>
						<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
						<style>
							<right value="0px"/>
						</style>
						<bind name="repeat" value="allies; 'SimpleUIListTeamStructureLeft'; {_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																_selfPlayer: selfPlayer, _isDynamicDivisionsEnabled: _isDynamicDivisionsEnabled}"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="gameInfo.gameModeId != GameMode.PVE"/>
					<block className="VerticalDivider">
						<style>
							<height value="100%"/>
							<width value="3px"/>
						</style>
						<block className="divider_v" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
					<block className="UIlistTeamStructureRight">
						<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
						<block className="cell_background" type="native">
							<bind name="gotoAndStop!" value="2"/>
							<style>
								<flow value="horizontal"/>
								<width value="420px"/>
							</style>
							<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
							<block>
								<bind name="visible" value="_isBattleStats ? true : false"/>
								<styleClass value="$TableHeaderIconSize"/>
								<block className="sorting" type="native">
									<styleClass value="$MiddleAligned"/>
									<bind name="gotoAndStop!" value="'frags'"/>
								</block>
							</block>
							<block type="text">
								<style>
									<width value="100%"/>
									<textAlign value="right"/>
									<marginRight value="18px"/>
									<marginTop value="2px"/>
									<marginBottom value="2px"/>
								</style>
								<styleClass value="$TextHeaderWhiteBold"/>
								<bind name="text" value="'IDS_ENEMY_TEAM'"/>
							</block>
						</block>
						<block>
							<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
							<bind name="repeat" value="enemies; 'SimpleUIListTeamStructureRight'; {	_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																	_selfPlayer: selfPlayer}"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="gameInfo.alliedClub.clubName ? true : false"/>
					<styleClass value="$MiddleAligned"/>
					<style>
						<position value="absolute"/>
						<top value="0"/>
						<marginTop value="-110%"/>
					</style>
					<bind name="instance" value="'ClubBattleClubsVS'; {_alliedClub: gameInfo.alliedClub, _enemyClub: gameInfo.enemyClub}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="TeamBattleLoadingRightPanel">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'RightPanelInfo'; {_headerText: 'IDS_SHIPS_COMPARISON', _infoText: 'IDS_SHIP_COMPARISON_HINT'}"/>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<marginTop value="6px"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
			<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
			<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
			<bind name="watch" value=" 'showOwnShip'; (userPrefs.showOwnShipInCompare == null) ? false : userPrefs.showOwnShipInCompare "/>
			<bind name="catch" value="'switchOwnShipInCompare'; { showOwnShip: !showOwnShip }; 'saveShowOwnShip'"/>
			<bind name="action" value="'saveShowOwnShip' ; 'setUserPref' ; {value: showOwnShip, name: 'showOwnShipInCompare'}"/>
			<bind name="instance" value="'CheckBox'; { switchProperty: showOwnShip, label: 'IDS_SHOW_OWN_SHIP_IN_COMPARE'}"/>
			<bind name="dispatch" value="'click'; 'switchOwnShipInCompare'"/>
			<bind name="tooltip" value="'MouseInstructionTooltip';	{	_multiParagraphArray: [{_paragraphText: 'IDS_SHOW_OWN_SHIP_IN_COMPARE_HINT'}],	_maxWidth: 270}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'VoiceChatRightPanelControl'; _isVoiceChatEnabled ? {_battleType: _battleType} : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'InvitationsToDivisionRightPanelControl'; _isDynamicDivisionsEnabled ? {_selfPlayer: _selfPlayer} : null"/>
		</block>
	</block>
	<block className="DynamicDivisionsRightPanel">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'RightPanelInfo'; {_headerText: 'IDS_DIVISIONS_IN_BATTLE_HEADER', _infoText: 'IDS_DYNAMIC_DIVISIONS_INFO'}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'VoiceChatRightPanelControl'; _isVoiceChatEnabled ? {_battleType: _battleType} : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'InvitationsToDivisionRightPanelControl'; _isDynamicDivisionsEnabled ? {_selfPlayer: _selfPlayer} : null"/>
		</block>
	</block>
	<block className="VoiceChatRightPanelControl">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
			<marginTop value="16px"/>
		</style>
		<bind name="instance" value="'CheckBox'; {switchProperty: VoiceChatState.enabled, label: 'IDS_ENABLE_VOICE_CHAT', _maxTfWidth: 180}"/>
		<bind name="action" value="'click'; 'setVoiceChatEnabled'; {enabled: !(VoiceChatState.enabled)}"/>
		<bind name="tooltip" value="'MouseInstructionTooltip';	{	_multiParagraphArray: ((_battleType == BattleTypes.CLUB_BATTLE)	? [{_paragraphText: 'IDS_ENABLE_VOICE_CHAT_IN_CLUB_BATTLE_HINT'}]
																													: [{_paragraphText: 'IDS_ENABLE_VOICE_CHAT_IN_BATTLE_HINT'}]),
													_maxWidth: 270, _isInBattle: _isBattleStats}"/>
	</block>
	<block className="InvitationsToDivisionRightPanelControl">
		<bind name="appear" value="'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
			<marginTop value="16px"/>
		</style>
		<bind name="instance" value="'CheckBox'; {switchProperty: _selfPlayer.invitationsEnabled, label: 'IDS_ENABLE_INVITATIONS_TO_DIVISION', _maxTfWidth: 180}"/>
		<bind name="action" value="'click'; 'toggleInvitationsEnabled'"/>
		<bind name="tooltip" value="'MouseInstructionTooltip';	{	_multiParagraphArray: [{_paragraphText: 'IDS_ENABLE_INVITATIONS_TO_DIVISION_IN_BATTLE_HINT'}],
													_maxWidth: 270, _isInBattle: _isBattleStats}"/>
	</block>
	<block className="UIlistTeamStructureRight">
		<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
		<block className="cell_background" type="native">
			<bind name="gotoAndStop!" value="2"/>
			<style>
				<flow value="horizontal"/>
				<width value="420px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block>
				<bind name="visible" value="_isBattleStats ? true : false"/>
				<styleClass value="$TableHeaderIconSize"/>
				<block className="sorting" type="native">
					<styleClass value="$MiddleAligned"/>
					<bind name="gotoAndStop!" value="'frags'"/>
				</block>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
					<textAlign value="right"/>
					<marginRight value="18px"/>
					<marginTop value="2px"/>
					<marginBottom value="2px"/>
				</style>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="'IDS_ENEMY_TEAM'"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="repeat" value="enemies; 'SimpleUIListTeamStructureRight'; {	_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																	_selfPlayer: selfPlayer}"/>
		</block>
	</block>
	<block className="UIlistTeamStructureLeft">
		<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
		<block className="cell_background" type="native">
			<bind name="gotoAndStop!" value="1"/>
			<style>
				<flow value="horizontal"/>
				<width value="420px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block type="text">
				<style>
					<width value="100%"/>
					<marginLeft value="18px"/>
					<marginTop value="2px"/>
					<marginBottom value="2px"/>
				</style>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="'IDS_ALLY_TEAM'"/>
			</block>
			<block>
				<bind name="visible" value="_isBattleStats ? true : false"/>
				<styleClass value="$TableHeaderIconSize"/>
				<block className="sorting" type="native">
					<styleClass value="$MiddleAligned"/>
					<bind name="gotoAndStop!" value="'frags'"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<right value="0px"/>
			</style>
			<bind name="repeat" value="allies; 'SimpleUIListTeamStructureLeft'; {_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																_selfPlayer: selfPlayer, _isDynamicDivisionsEnabled: _isDynamicDivisionsEnabled}"/>
		</block>
	</block>
	<block className="SimpleUIListTeamStructureLeft">
		<bind name="visible" value="(shipIDS != 'IDS_PXSX001')"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'playersInvitationsDataCollection'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'name'; name; 'playerInvitationDataCollection'"/>
		<bind name="watch" value="'playerInvitationData'; playerInvitationDataCollection[0]"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'players in battle'; 'name'; name; 'playerInCollection'"/>
		<bind name="watch" value="'player'; playerInCollection[0]"/>
		<style>
			<marginTop value="1px"/>
		</style>
		<bind name="watch" value="'isSelf'; (relation == 0)"/>
		<bind name="appear" value="'startShow'; 0.15; 0.75 + 0.075 * $index; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<bind name="style" value="'backgroundColor'; $index % 2 == 0 ? '0x15000000' : '0x25000000'"/>
			<style>
				<backgroundColor value="0x15000000"/>
				<position value="absolute"/>
				<height value="28px"/>
				<width value="100%"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="player.isInSameDivision"/>
			<style>
				<backgroundColor value="0x40ffdc84"/>
				<position value="absolute"/>
				<height value="28px"/>
				<width value="100%"/>
			</style>
		</block>
		<block>
			<style>
				<right value="0px"/>
			</style>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="transition" value="(mouseDown || contextMenuVisible || rollOver) &amp;&amp; !(shipCompareTooltipVisible) &amp;&amp; !(isSelf); 0.1; {alpha: 0}; {alpha: 1}"/>
				<block className="dock_submenu_item_bg" type="native">
					<bind name="transition" value="contextMenuVisible; 0.1; {alpha: 1}; {alpha: 0.7}"/>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<bind name="tooltip" value="'BattlePlayerTooltip'; {	_isInBattle: _isBattleStats,
													_player: player, _selfPlayer: _selfPlayer,
													_battleType: gameInfo.battleType}"/>
				<bind name="menu" value="'UIListPlayerContextMenu'; !(isSelf)	?	{	_player: player, _selfPlayer: _selfPlayer, _battleType: gameInfo.battleType,
																		_complaintsAvailable: true, _isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats}
																: null; null; 'contextMenuVisible'"/>
			</block>
			<block>
				<style>
					<height value="28px"/>
				</style>
				<block>
					<style>
						<position value="absolute"/>
						<marginLeft value="1px"/>
						<hitTest value="false"/>
					</style>
					<bind name="name" value="mute ? 'mute_' + name
								 : 'not_mute_' + name"/>
					<bind name="instance" value="'UIListVoiceTextChatIcons'; {	_isSelf: isSelf, _isTextChatMuted: mute, _selfPlayerDivisionId: _selfPlayer.divisionId,
																_isInSameDivision: isInSameDivision, _battleType: gameInfo.battleType,
																_isSpeaking: isSpeaking, _isVoiceChatMuted: isMuted, _isInVoiceChat: isInVoiceChat}"/>
				</block>
				<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'dynamicDivisionsData'; 'id'; _selfPlayer.divisionId; 'selfPlayerDivisionData'"/>
				<bind name="watch" value="'isFreePlacesInDivision'; ((selfPlayerDivisionData[0].staff.length + selfPlayerDivisionData[0].inPortParticipantsCount) &lt; 3)"/>
				<bind name="watch" value="'invitationDisableReason'; !(slimClientData.isFull)											? 'YourClientIsTooSlim' :
													isSelf																? 'YouCantInviteYourself' :
													!(isAlive)															? 'IDS_INVITATION_DISABLE_REASON_DESTROYED' :
													!(_selfPlayer.isAlive)												? 'IDS_DIVISION_MANAGEMENT_LOCKED_FOR_DESTROYED' :
													player.isLeaver														? 'IDS_INVITATION_DISABLE_REASON_PLAYER_IS_OUT_OF_BATTLE':
													(division != 0)														? 'IDS_INVITATION_DISABLE_REASON_ALREADY_IN_DIVISION' :
													(playerInvitationData != null)										? 'PlayerIsAlreadyInvited' :
													isInSameDivision													? 'PlayerIsAlreadyInYourDivision' :
													(_selfPlayer.division != 0) &amp;&amp; !(_selfPlayer.isDivisionCommander)	? 'IDS_INVITATION_DISABLE_REASON_NOT_COMMANDER' :
													!(isFreePlacesInDivision)											? 'IDS_INVITATION_DISABLE_REASON_NO_FREE_PLACES' :
													!(invitationsEnabled)												? 'IDS_INVITATION_DISABLE_REASON_INVITATIONS_DISABLED' :
													player.inviteCooldownEnabled										? 'IDS_WAIT_TIMEOUT_TO_INVITE_TO_DIVISION'
																														: 'no_reason'"/>
				<block>
					<style>
						<width value="30px"/>
						<height value="100%"/>
					</style>
					<block>
						<bind name="visible" value="(player.division &gt; 0) &amp;&amp; !(player.divisionHidden)"/>
						<style>
							<top value="6px"/>
							<marginLeft value="12px"/>
							<position value="absolute"/>
						</style>
						<block className="division_item" type="native">
							<bind name="gotoAndStop!" value="player.isInSameDivision ? player.divisionSign + 1 : player.divisionSign + 1 + 10"/>
						</block>
					</block>
					<block>
						<bind name="visible" value="_isDynamicDivisionsEnabled"/>
						<styleClass value="$Fullsize"/>
						<block>
							<bind name="visible" value="(playerInvitationData != null)"/>
							<bind name="transition" value="rollOver; 0.15; {alpha: 1}; {alpha: 0}; {alpha: 1}; 1; 0.05"/>
							<style>
								<top value="6px"/>
								<marginLeft value="12px"/>
								<position value="absolute"/>
							</style>
							<block className="formation_player_status" type="native">
								<bind name="gotoAndStop!" value="'empty_slot_division'"/>
							</block>
						</block>
						<block>
							<bind name="transition" value="rollOver; 0.15; {alpha: 0}; {alpha: 1.0}; {alpha: 0}; 1; 0.05"/>
							<block>
								<bind name="visible" value="(invitationDisableReason == 'no_reason')"/>
								<style>
									<marginLeft value="8px"/>
									<top value="3px"/>
									<position value="absolute"/>
								</style>
								<block className="button_division_invite" type="native">
									<bind name="action" value="'buttonClick'; 'inviteToDivision'; {playerId: id, playerName: name, inviteType: InviteType.COMMON}"/>
								</block>
								<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'no_icon', _instructionText: 'IDS_INVITE_IN_DIVISION'}], _maxWidth: 250, _isInBattle: _isBattleStats}"/>
							</block>
							<block>
								<bind name="visible" value="(_selfPlayer.isDivisionCommander &amp;&amp; (playerInvitationData != null))"/>
								<style>
									<marginLeft value="6px"/>
									<top value="2px"/>
									<position value="absolute"/>
								</style>
								<block className="button_cross" type="native">
									<bind name="action" value="'buttonClick'; 'revokeInvitationToDivision'; {id: playerInvitationData.id}"/>
								</block>
								<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'no_icon', _instructionText: 'IDS_RECALL_INVITATION'}], _maxWidth: 250, _isInBattle: _isBattleStats}"/>
							</block>
						</block>
					</block>
				</block>
				<block type="text">
					<style>
						<width value="100px"/>
						<multiline value="false"/>
						<textAlign value="left"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="class" value="isSelf 	? '$Bold' : '$None'"/>
					<bind name="class" value="isAlive 	? (ttkStatus ? '$FontColorTTK' :
											tkStatus ? '$FontColorTeamkiller' 
														: isSelf || isInSameDivision 	? '$FontColorGolden' 
																						: '$None')
										: '$None'"/>
					<bind name="class" value="!isAlive	? (isSelf	? (tkStatus ? '$FontColorTeamkiller'
																: '$FontColorGolden')
															: '$FontColorAlmostBlack')
										: '$None'"/>
					<bind name="class" value="(!(isAlive) &amp;&amp; !(isSelf)) ? '$FontDropShadowWhite' : '$None'"/>
					<bind name="text" value="name"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
				<block>
					<style>
						<height value="100%"/>
						<width value="122px"/>
						<marginBottom value="-2px"/>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="style" value="'hitTest'; _isBattleLoading ? true : false"/>
					<bind name="tooltip" value="'ShipSideCompareTooltip';	_isBattleLoading	? { _shipId: shipId, _selfPlayerShipId: _selfPlayer.shipId,
																					_nonPlayerShipParams: shipParams, _isSelf: isSelf, _nickname: name}
																				: null; TooltipBehaviour.simple; null; 'shipCompareTooltipVisible'"/>
					<bind name="name" value="'player_tab_stat_' + name"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
					<block>
						<style>
							<width value="100%"/>
							<height value="100%"/>
							<hitTest value="false"/>
						</style>
						<bind name="style" value="'backgroundImage'; !isAlive 	? ('url:' + pathDeadShipIcon)
																: isSelf ? ('url:' + pathOwnShipTinyIcon) : ('url:' + pathShipTinyIcon)"/>
					</block>
				</block>
				<block type="text">
					<style>
						<width value="25px"/>
						<textAlign value="center"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<bind name="class" value="isSelf 	? '$TextGoldenBold' 
											: !isAlive ? '$FontColorAlmostBlack' : '$None'"/>
					<bind name="class" value="(!(isAlive) &amp;&amp; !(isSelf)) ? '$FontDropShadowWhite' : '$None'"/>
					<style>
						<width value="30px"/>
						<textAlign value="center"/>
						<multiline value="false"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="shipRlevel"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
				<block type="text">
					<style>
						<textAlign value="left"/>
						<width value="113px"/>
						<multiline value="false"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<bind name="class" value="isSelf		? '$TextGoldenBold' :
							!isAlive 	? '$FontColorAlmostBlack'
									 	: '$None'"/>
					<bind name="class" value="(!(isAlive) &amp;&amp; !(isSelf)) ? '$FontDropShadowWhite' : '$None'"/>
					<style>
						<width value="108px"/>
						<textAlign value="left"/>
						<multiline value="false"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="class" value="'$LetterSpacingSmall'"/>
					<bind name="text" value="toUpperCase(tr(shipIDS))"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<block>
						<bind name="visible" value="_isBattleLoading ? true : false"/>
						<style>
							<width value="100%"/>
						</style>
						<block className="icon_player_status" type="native">
							<bind name="gotoAndStop!" value="isReady ? 'ready' : 'not_ready'"/>
							<styleClass value="$MiddleAligned"/>
							<styleClass value="$MiddleVAligned"/>
						</block>
					</block>
					<block>
						<bind name="visible" value="_isBattleStats &amp;&amp; fragsCount != 0"/>
						<style>
							<width value="100%"/>
						</style>
						<block type="text">
							<styleClass value="$TextHeaderBigDefault"/>
							<style>
								<textAlign value="center"/>
								<width value="100%"/>
							</style>
							<bind name="text" value="fragsCount"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="SimpleUIListTeamStructureRight">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'players in battle'; 'name'; name; 'playerInCollection'"/>
		<bind name="watch" value="'player'; playerInCollection[0]"/>
		<style>
			<marginTop value="1px"/>
		</style>
		<bind name="appear" value="'startShow'; 0.15; 0.75 + 0.075 * $index; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<bind name="style" value="'backgroundColor'; $index % 2 == 0 ? '0x15000000' : '0x25000000'"/>
			<style>
				<backgroundColor value="0x15000000"/>
				<position value="absolute"/>
				<height value="28px"/>
				<width value="100%"/>
			</style>
		</block>
		<block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="transition" value="(mouseDown || contextMenuVisible || rollOver) &amp;&amp; !(shipCompareTooltipVisible); 0.1; {alpha: 0}; {alpha: 1}"/>
				<block className="dock_submenu_item_bg" type="native">
					<bind name="transition" value="contextMenuVisible; 0.1; {alpha: 1}; {alpha: 0.7}"/>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<bind name="tooltip" value="'BattlePlayerTooltip'; {	_isInBattle: _isBattleStats,
													_player: player, _selfPlayer: _selfPlayer,
													_battleType: gameInfo.battleType}"/>
				<bind name="menu" value="'UIListPlayerContextMenu'; {	_player: player, _selfPlayer: _selfPlayer, _battleType: gameInfo.battleType,
														_complaintsAvailable: true, _isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats}
													; null; 'contextMenuVisible'"/>
			</block>
			<block>
				<style>
					<height value="28px"/>
				</style>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<block>
						<bind name="visible" value="_isBattleLoading ? true : false"/>
						<style>
							<width value="100%"/>
						</style>
						<block className="icon_player_status" type="native">
							<bind name="gotoAndStop!" value="isReady ? 'ready' : 'not_ready'"/>
							<styleClass value="$MiddleAligned"/>
							<styleClass value="$MiddleVAligned"/>
						</block>
					</block>
					<block>
						<bind name="visible" value="_isBattleStats &amp;&amp; fragsCount != 0"/>
						<style>
							<width value="100%"/>
						</style>
						<block type="text">
							<styleClass value="$TextHeaderBigDefault"/>
							<style>
								<textAlign value="center"/>
								<width value="100%"/>
							</style>
							<bind name="text" value="fragsCount"/>
						</block>
					</block>
				</block>
				<block type="text">
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="class" value="!isAlive ? '$FontColorAlmostBlack' : '$None'"/>
					<bind name="class" value="!isAlive ? '$FontDropShadowWhite' : '$None'"/>
					<style>
						<width value="108px"/>
						<textAlign value="right"/>
						<multiline value="false"/>
						<hitTest value="false"/>
					</style>
					<bind name="class" value="'$LetterSpacingSmall'"/>
					<bind name="text" value="toUpperCase(tr(shipIDS))"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
				<block type="text">
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="class" value="!isAlive ? '$FontColorAlmostBlack' : '$None'"/>
					<bind name="class" value="!isAlive ? '$FontDropShadowWhite' : '$None'"/>
					<style>
						<width value="30px"/>
						<textAlign value="center"/>
						<multiline value="false"/>
						<hitTest value="false"/>
					</style>
					<bind name="text" value="shipRlevel"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
				<block>
					<bind name="name" value="'player_tab_stat_' + name"/>
					<style>
						<height value="100%"/>
						<width value="122px"/>
						<marginBottom value="-2px"/>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="style" value="'hitTest'; _isBattleLoading ? true : false"/>
					<bind name="tooltip" value="'ShipSideCompareTooltip';	_isBattleLoading	? { _shipId: shipId, _selfPlayerShipId: _selfPlayer.shipId,
																					_nonPlayerShipParams: shipParams, _isSelf: false, _nickname: name}
																				: null; TooltipBehaviour.simple; null; 'shipCompareTooltipVisible'"/>
					<block>
						<style>
							<width value="100%"/>
							<height value="100%"/>
							<marginLeft value="122px"/>
							<hitTest value="false"/>
						</style>
						<bind name="scaleX" value="-1"/>
						<bind name="style" value="'backgroundImage'; !isAlive ? ('url:' + pathDeadShipIcon) : ('url:' + pathShipTinyIcon)"/>
					</block>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
				<block type="text">
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="class" value="!isAlive ? '$FontColorAlmostBlack' : ttkStatus ? '$FontColorTTK' : '$FontcolorDefault'"/>
					<bind name="class" value="!isAlive ? '$FontDropShadowWhite' : '$None'"/>
					<style>
						<textAlign value="right"/>
						<multiline value="false"/>
						<width value="100px"/>
						<hitTest value="false"/>
					</style>
					<bind name="text" value="name"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<block>
						<bind name="visible" value="(division &gt; 0) &amp;&amp; !(divisionHidden)"/>
						<styleClass value="$MiddleAligned"/>
						<style>
							<marginTop value="1px"/>
						</style>
						<block className="division_item" type="native">
							<style>
								<marginRight value="10px"/>
							</style>
							<bind name="gotoAndStop!" value="isInSameDivision ? divisionSign + 1 : divisionSign + 1 + 10"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<right value="12"/>
						<hitTest value="false"/>
					</style>
					<bind name="name" value="mute ? 'mute_' + name
								 : 'not_mute_' + name"/>
					<bind name="instance" value="'UIListVoiceTextChatIcons'; {	_isSelf: false, _isTextChatMuted: mute, _isInSameDivision: false,
																_isSpeaking: isSpeaking, _selfPlayerDivisionId: _selfPlayer.divisionId,
																_isVoiceChatMuted: isMuted, _isInVoiceChat: isInVoiceChat}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="BattleDivisionInvitationItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="appear" value="'addedToStage'; 0.3; 0.35; {alpha: 0}; {alpha: 1}; 2"/>
		<style>
			<marginLeft value="5px"/>
			<width value="260px"/>
			<height value="123px"/>
			<marginRight value="10px"/>
			<marginBottom value="6px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<bind name="visible" value="(_isBattleStats != true) &amp;&amp; optionData.blurEnabled"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(_isBattleLoading == true) || !(optionData.blurEnabled) || optionData.contrast"/>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<height value="26px"/>
				<backgroundColor value="0x01000000"/>
				<marginBottom value="4px"/>
			</style>
			<block className="inner_panel" type="native">
				<style>
					<marginRight value="1px"/>
					<marginLeft value="1px"/>
					<marginTop value="2px"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="appear" value="'addedToStage'; 0.3; 0.3; {alpha: 0.5, width: 0}; {alpha: 1, width: 260}; 2"/>
			</block>
			<block>
				<bind name="appear" value="'addedToStage'; 0.3; 0; {alpha: 0, top: 30}; {alpha: 1, top: 0}"/>
				<style>
					<left value="3px"/>
					<top value="-4"/>
					<position value="absolute"/>
				</style>
				<block className="icon_formation" type="native">
					<bind name="gotoAndStop!" value="'seeker_division'"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'addedToStage'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'BattlePlayerContactItemSimple'; {_level: senderLevel, _rank: senderRank, _playerName: playerName, _tkStatus: tkStatus}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="button_close" type="native">
			<bind name="appear" value="'addedToStage'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<right value="8"/>
				<top value="7"/>
				<position value="absolute"/>
			</style>
			<bind name="action" value="'buttonClick'; 'rejectDivisionInvitation'; {id: id}"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'no_icon', _instructionText: 'IDS_REJECT'}], _maxWidth: 250, _isInBattle: _isBattleStats}"/>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.48; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<style>
					<maxWidth value="260"/>
					<textAlign value="center"/>
				</style>
				<bind name="text" value="'IDS_INVITES_YOU_TO_JOIN_DIVISION'"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.51; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="-3px"/>
				<marginBottom value="3px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontSizeHeader4'"/>
				<bind name="countdown" value="expirationTime; 'countdownText'; 'mm:ss'"/>
				<bind name="pureText" value="'-' + countdownText"/>
			</block>
		</block>
		<block>
			<style>
				<width value="1px"/>
			</style>
			<bind name="appear" value="'addedToStage'; 0.3; 0.3; {alpha: 0, width: 0}; {alpha: 1, width: 260}; 2"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<width value="110px"/>
				<marginTop value="6px"/>
			</style>
			<block className="button_default_small" type="native">
				<style>
					<width value="100%"/>
				</style>
				<bind name="label" value="'IDS_ACCEPT'"/>
				<bind name="action" value="'buttonClick'; 'acceptDivisionInvitation'; {id: id}"/>
			</block>
		</block>
	</block>
	<block className="BattlePlayerContactItemSimple">
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<style>
				<marginTop value="3px"/>
			</style>
			<bind name="visible" value="_rank == 0"/>
			<styleClass value="$TextSecondary"/>
			<bind name="text" value="_level"/>
		</block>
		<block>
			<bind name="visible" value="_rank != 0"/>
			<bind name="instance" value="'IconRankSmall'; {_rankId: _rank}"/>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="2px"/>
			</style>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="_tkStatus ? '$FontColorTeamkiller' : '$None'"/>
			<bind name="text" value="_playerName"/>
		</block>
	</block>
	<block className="BattlePlayerTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'name'; _player.name; 'playerInvitationDataCollection'"/>
		<bind name="watch" value="'playerInvitationData'; playerInvitationDataCollection[0]"/>
		<bind name="watch" value="'isSelf'; (_player.relation == 0)"/>
		<bind name="watch" value="'isEnemyPlayer'; (_player.relation == 2)"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="245px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextHeaderWhite"/>
				<bind name="text" value="_player.name"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="class" value="	_player.ttkStatus 						? '$FontColorTTK' :
							_player.tkStatus &amp;&amp; !isEnemyPlayer 		? '$FontColorTeamkiller' :
							(isSelf || _player.isInSameDivision)	? '$FontColorGolden'
																	: '$FontColorWhite'"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_player.isInSameDivision"/>
			<style>
				<width value="100%"/>
				<height value="30px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="4px"/>
					<marginBottom value="-4px"/>
					<marginLeft value="5px"/>
					<marginRight value="5px"/>
				</style>
				<block>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: false, isCommander: _player.isDivisionCommander, isReady: true,
														isInBattle: false, _formationType: 'division'}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorGolden'"/>
					<bind name="watch" value="'playerRoleStr'; 	_player.isDivisionCommander	? tr('IDS_DIVISION_COMMANDER_C')
																			: tr('IDS_IN_DIVISION')"/>
					<bind name="text" value="playerRoleStr"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'BattlePlayerInfoTooltipVoiceChatStatus';	(!(isEnemyPlayer) &amp;&amp;
																	(_player.isInSameDivision || (_battleType == BattleTypes.CLUB_BATTLE)))	? { _isSelf: isSelf,
																																				_player: _player}
																																			: null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'PlayerTooltipInvitationCountdown'; playerInvitationData.expirationTime != null	? { _expirationTime: playerInvitationData.expirationTime,
																											_formationType: 'division',
																											_text: 'IDS_INVITED_IN_DIVISION'}
																										: null"/>
		</block>
		<block>
			<bind name="visible" value="!(isSelf)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'MouseInstruction'; {_type: 'right', _instructionText: 'IDS_HINT_RIGHT_CLICK_FOR_CONTEXT_MENU', _maxWidth: 220}"/>
			</block>
		</block>
	</block>
	<block className="BattlePlayerInfoTooltipVoiceChatStatus">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
		<bind name="watch" value="'voiceChatStatusText';	_isSelf						?	VoiceChatState.enabled	? 	'IDS_VOICE_CHAT_ENABLED'
																								:	'IDS_VOICE_CHAT_DISABLED' :
										!(_player.isInVoiceChat)	?	'IDS_PLAYER_IS_NOT_AVAILABLE_IN_VOICE_CHAT'	:
										_player.isMuted				?	'IDS_PLAYER_IS_MUTED_IN_VOICE_CHAT'
																	:	'IDS_PLAYER_IS_AVAILABLE_IN_VOICE_CHAT'"/>
		<bind name="watch" value="'state';	_isSelf 					? !(VoiceChatState.enabled)	? 'disabled'
																					: 'speak' :
							!(_player.isInVoiceChat) 	? 'disabled' :
							_player.isMuted				? 'muted'
														: 'speak'"/>
		<bind name="visible" value="(_isSelf || VoiceChatState.enabled)"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="10px"/>
				<marginRight value="8px"/>
				<marginTop value="4px"/>
				<marginBottom value="5px"/>
			</style>
			<block className="icon_voice_chat_small" type="native">
				<style>
					<top value="6px"/>
					<marginRight value="4px"/>
				</style>
				<bind name="gotoAndStop!" value="state"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="(state == 'speak' ? '$FontColorWhite' : '$FontColorUnready')"/>
				<style>
					<maxWidth value="210"/>
				</style>
				<bind name="text" value="voiceChatStatusText"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="PlayerTooltipInvitationCooldown">
		<bind name="countdown" value="_expirationTime; 'countdownText'; 'mm:ss'"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="4px"/>
				<marginLeft value="7px"/>
				<marginRight value="4px"/>
				<marginBottom value="3px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<marginRight value="6px"/>
				</style>
				<block>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: true, _formationType: _formationType}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
						<maxWidth value="158"/>
						<leading value="-3"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorWhite'"/>
					<bind name="text" value="_text"/>
				</block>
				<block type="text">
					<style>
						<top value="-4px"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<styleClass value="$AlignRight"/>
					<bind name="class" value="'$FontSizeHeader6'"/>
					<bind name="pureText" value="'-' + countdownText"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
</ui>
