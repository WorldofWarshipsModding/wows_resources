
<ui>
	<css name="$Fullsize">
		<width value="100%"/>
		<height value="100%"/>
	</css>
	<css name="$FullsizeAbsolute">
		<width value="100%"/>
		<position value="absolute"/>
		<height value="100%"/>
	</css>
	<css name="$FullWidth">
		<width value="100%"/>
	</css>
	<css name="$MiddleAligned">
		<marginLeft value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$MiddleAlignedAbsolutely">
		<position value="absolute"/>
		<marginLeft value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$MiddleVAligned">
		<top value="50%"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$EyeLevelVAligned">
		<top value="44%"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$MiddleVAlignedAbsolutely">
		<position value="absolute"/>
		<top value="50%"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$MiddleVHAbsolutely">
		<position value="absolute"/>
		<top value="50%"/>
		<marginLeft value="-50%"/>
		<marginTop value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$AlignRight">
		<position value="absolute"/>
		<right value="0"/>
	</css>
	<css name="$MouseDisable">
		<hitTest value="false"/>
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
	</css>
	<css name="$InfoLineBoundaries">
		<marginTop value="6px"/>
		<marginBottom value="6px"/>
	</css>
	<css name="$InfoBlockHorizontalIndent">
		<width value="100%"/>
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$InfoBlockIndent">
		<width value="100%"/>
		<marginTop value="9px"/>
		<marginLeft value="12px"/>
		<marginBottom value="9px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$InfoBlockHorizontalIndentNoWidth">
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$DockPanelMargins">
		<marginLeft value="13px"/>
		<marginRight value="13px"/>
	</css>
	<css name="$InfoBlockIndentNoWidth">
		<marginBottom value="9px"/>
		<marginTop value="9px"/>
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$ShipTechStats">
		<width value="312px"/>
		<top value="32px"/>
		<position value="absolute"/>
		<right value="10px"/>
		<height value="100%"/>
	</css>
	<css name="$TextInputEnterButton">
		<right value="2px"/>
		<top value="50%"/>
		<height value="25px"/>
		<width value="52px"/>
		<position value="absolute"/>
		<marginTop value="-11px"/>
	</css>
	<css name="$TextAreaEnterButton">
		<position value="absolute"/>
		<height value="25px"/>
		<right value="2px"/>
		<width value="52px"/>
		<bottom value="0px"/>
	</css>
	<css name="$DefaultScrollBar">
		<wheelScrollSpeed value="15"/>
		<scrollbarController value="lesta.unbound.style.UbScrollingControllerModern"/>
		<scrollArea value="ModernScrollArea"/>
		<scrollbar value="ModernScrollBar"/>
		<scrollbarTrackMode value="scrollToCursor"/>
	</css>
	<css name="$None"/>
	<css name="$PxHorizontalCorrection">
		<marginLeft value="1px"/>
		<marginRight value="1px"/>
	</css>
	<css name="$PxIndent">
		<marginTop value="1px"/>
		<marginBottom value="1px"/>
		<marginLeft value="1px"/>
		<marginRight value="1px"/>
	</css>
	<css name="$BottomMenu">
		<position value="absolute"/>
		<bottom value="0px"/>
		<width value="100%"/>
		<height value="30px"/>
	</css>
	<block className="HorizontalDivider">
		<styleClass value="$PxHorizontalCorrection"/>
		<style>
			<width value="100%"/>
			<height value="3px"/>
		</style>
		<block className="divider_h" type="native">
			<styleClass value="$Fullsize"/>
		</block>
	</block>
	<block className="VerticalDivider">
		<style>
			<height value="100%"/>
			<width value="3px"/>
		</style>
		<block className="divider_v" type="native">
			<styleClass value="$Fullsize"/>
		</block>
	</block>
	<block className="TableDivider">
		<style>
			<backgroundImage value="symbol:dotted_line"/>
			<backgroundRepeatX value="true"/>
			<width value="100%"/>
			<height value="1px"/>
			<alpha value="0.1"/>
		</style>
	</block>
	<block className="Underline">
		<bind name="style" value="'backgroundColor'; (rollOver &amp;&amp; !mouseDown) ? '0xFFFFFFFF' : '0x00856933'"/>
		<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) == true; 0.3; {scaleX : 0, alpha : 0}; {scaleX : 1, alpha :1}"/>
		<style>
			<backgroundColor value="0xFFFFFFFF"/>
			<position value="absolute"/>
			<height value="1px"/>
			<width value="100%"/>
			<bottom value="0px"/>
			<marginLeft value="2px"/>
			<marginRight value="2px"/>
		</style>
	</block>
	<block className="BlurMap">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<style>
			<position value="absolute"/>
			<width value="100%"/>
			<height value="100%"/>
			<hitTest value="false"/>
		</style>
		<bind name="visible" value="optionData.blurEnabled"/>
		<block className="mc_blurmap5" type="native">
			<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
			<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
			<style>
				<width value="100%"/>
				<height value="100%"/>
			</style>
			<bind name="blurMap" value="0"/>
		</block>
	</block>
	<block className="BlurMapNotifications">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="visible" value="optionData.blurEnabled"/>
		<style>
			<position value="absolute"/>
			<width value="100%"/>
			<height value="100%"/>
		</style>
		<block className="mc_blurmap5_feather" type="native">
			<bind name="fade" value="_start; 0.3; {alpha: 0, top: 10}; {alpha: 1, top:0 }; {alpha: 0, top: -20}; 1; 0.15"/>
			<style>
				<width value="100%"/>
				<height value="100%"/>
			</style>
			<bind name="blurMap" value="0"/>
		</block>
	</block>
	<block className="DeclareBlurLayer">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="visible" value="optionData.blurEnabled"/>
		<block className="transparentPixel" type="native">
			<bind name="blurLayer" value="0"/>
		</block>
		<style>
			<position value="absolute"/>
		</style>
	</block>
	<css name="$ContextMenuListItem">
		<width value="100%"/>
		<height value="29px"/>
	</css>
	<css name="$ContextMenuListItemContent">
		<width value="198px"/>
		<marginLeft value="6px"/>
		<marginRight value="6px"/>
	</css>
	<css name="$ContextMenuDimentions">
		<width value="210px"/>
	</css>
	<block className="DropShadow">
		<styleClass value="$FullsizeAbsolute"/>
		<styleClass value="$MouseDisable"/>
		<block className="drop_shadow" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-2px"/>
				<marginRight value="-6px"/>
				<marginBottom value="-10px"/>
				<marginLeft value="-6px"/>
			</style>
		</block>
	</block>
	<block className="EmptyItem">
		<bind name="visible" value="false"/>
	</block>
	<css name="$TextNano">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondary">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondaryNoFilter">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondaryBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextDefaultBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeader">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextHeaderHugeWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="30"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextHeaderBigDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderBigTeamKiller">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF96CA"/>
	</css>
	<css name="$TextHeaderBigNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$TextHeaderBigWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccent">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextAccentBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextAccentSecond">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="60"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderUnready">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<css name="$TextDefaultWhite">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextSmallCompareNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<textColor value="0xFF6600"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextSmallWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextSmallGold">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextDefaultExpSmall">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSmallNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$TextTurquoiseQuests">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x00cccc"/>
	</css>
	<css name="$TextLargeHeader">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextLargeHeaderBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextLargeHeaderBlack">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextThumbelina">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="7"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccentWhite">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultTech">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$BlackLabel">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$ZurichCondensedBold"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextHeaderWhiteBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$ResultsReward">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="60"/>
		<letterSpacing value="-3"/>
		<marginRight value="2px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccentGreyBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xDDDDDD"/>
		<fontSize value="60"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel1">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="36"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel2">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="30"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$ConfirmationWindowWidth">
		<width value="472px"/>
	</css>
	<css name="$ModalWindowDefaultWidth">
		<width value="472px"/>
	</css>
	<css name="$ModalWindowLargeCostMargins">
		<marginLeft value="5px"/>
		<marginRight value="4px"/>
	</css>
	<css name="$SelectTypeListItem">
		<width value="100%"/>
		<height value="74px"/>
	</css>
	<css name="$SelectTypeListItemIndent">
		<marginBottom value="15px"/>
		<marginTop value="15px"/>
		<marginLeft value="21px"/>
		<marginRight value="21px"/>
	</css>
	<block className="ModalWindowOkCancelRequest">
		<style>
			<flow value="horizontal"/>
			<marginTop value="15px"/>
		</style>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.60; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<styleClass value="$InfoLineBoundaries"/>
			<style>
				<width value="129px"/>
				<marginRight value="20px"/>
			</style>
			<bind name="instance" value="'DefaultButton'; {	_width: '129px', _request: _request, _requestParams: _requestParams, _enabled: true, _isTransactionBtn: true,
											_containerName: ('Modal_window_action_Button' + _okLabel), _label: _okLabel,
											_focusIndex: 1, _defaultFocused: true,
											_name: 'btn_ok'}"/>
		</block>
		<block>
			<style>
				<width value="129px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<block className="DefaultButtonModal">
				<styleClass value="$InfoLineBoundaries"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="name" value="'Modal_window_action_Button' + _cancelLabel"/>
				<block className="button_default" type="native">
					<style>
						<width value="100%"/>
					</style>
					<bind name="label" value="_cancelLabel"/>
					<params>
						<param name="name" value="btn_cancel"/>
					</params>
					<bind name="input"/>
					<bind name="focus" value="2;false"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeader">
		<style>
			<marginBottom value="3px"/>
			<width value="100%"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontSizeHeader5'"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="class" value="'$FontColorWhite'"/>
				<bind name="text" value="toUpperCase(tr(_header))"/>
			</block>
			<block>
				<styleClass value="$AlignRight"/>
				<bind name="style" value="'right'; _innerCloseButton ? '60px' : '0px'"/>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-50px"/>
						<top value="9px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<block>
							<style>
								<marginTop value="-3px"/>
							</style>
							<block className="hotkey_holder_white_9slice" type="native">
								<bind name="visible" value="true"/>
								<block type="text">
									<style>
										<marginLeft value="3px"/>
										<marginRight value="3px"/>
										<marginTop value="-1px"/>
										<marginBottom value="-1px"/>
									</style>
									<styleClass value="$BlackLabel"/>
									<text value="ESC"/>
								</block>
							</block>
						</block>
						<block className="button_close" type="native">
							<params>
								<param name="focusable" value="false"/>
							</params>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderConfirmation">
		<style>
			<marginBottom value="3px"/>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icon_warning_grey_big" type="native">
					<style>
						<marginTop value="6px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextLargeHeaderBold"/>
					<text value="IDS_CONFIRMATION"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="ModalWindowCloseIcon">
				<style>
					<position value="absolute"/>
					<right value="-70px"/>
					<top value="9px"/>
					<flow value="horizontal"/>
				</style>
				<bind name="name" value="'btn_cancel'"/>
				<bind name="input"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
				<block>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<block>
						<style>
							<marginTop value="-3px"/>
						</style>
						<block className="hotkey_holder_white_9slice" type="native">
							<bind name="visible" value="true"/>
							<block type="text">
								<style>
									<marginLeft value="3px"/>
									<marginRight value="3px"/>
									<marginTop value="-1px"/>
									<marginBottom value="-1px"/>
								</style>
								<styleClass value="$BlackLabel"/>
								<text value="ESC"/>
							</block>
						</block>
					</block>
					<block className="button_close" type="native">
						<params>
							<param name="focusable" value="false"/>
						</params>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderNoEsc">
		<style>
			<marginBottom value="3px"/>
			<width value="450px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontSizeHeader5'"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="class" value="'$FontColorWhite'"/>
				<bind name="text" value="toUpperCase(tr(_header))"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginRight value="-12px"/>
				<marginLeft value="-12px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderWithIcon">
		<style>
			<marginBottom value="3px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icons_modal_window_heading" type="native">
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginRight value="3px"/>
					</style>
					<bind name="gotoAndStop!" value="_type"/>
				</block>
				<block type="text">
					<styleClass value="$TextLargeHeaderBold"/>
					<bind name="text" value="toUpperCase(tr(_header))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="_showInnerCloseButton"/>
				<styleClass value="$AlignRight"/>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-50px"/>
						<top value="9px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<block>
							<style>
								<marginTop value="-3px"/>
							</style>
							<block className="hotkey_holder_white_9slice" type="native">
								<bind name="visible" value="true"/>
								<block type="text">
									<style>
										<marginLeft value="3px"/>
										<marginRight value="3px"/>
										<marginTop value="-1px"/>
										<marginBottom value="-1px"/>
									</style>
									<styleClass value="$BlackLabel"/>
									<text value="ESC"/>
								</block>
							</block>
						</block>
						<block className="button_close" type="native">
							<params>
								<param name="focusable" value="false"/>
							</params>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowShipInfo">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<style>
			<width value="450px"/>
			<height value="160px"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="-12px"/>
				<position value="absolute"/>
				<alpha value="0.5"/>
			</style>
			<bind name="instance" value="'NationFlagsBig'; {_width: '457px', _height: '278px', shipCountry: shipInfo.flagName}"/>
		</block>
		<block>
			<style>
				<width value="214px"/>
				<height value="126px"/>
				<top value="25%"/>
				<backgroundStretchX value="true"/>
				<backgroundStretchY value="true"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MouseDisable"/>
			<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathPreview"/>
		</block>
		<block>
			<styleClass value="$MouseDisable"/>
			<style>
				<height value="20px"/>
				<position value="absolute"/>
				<top value="10px"/>
				<left value="30px"/>
			</style>
			<block className="icon_wreath" type="native">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<position value="absolute"/>
					<left value="-5px"/>
				</style>
				<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
				<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
								shipInfo.isPremium 	? 'premium'
													: 'elite'"/>
			</block>
			<block className="icon_ship" type="native">
				<styleClass value="$MiddleVAligned"/>
				<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial 	? '$FontColorGolden'
																	: '$FontColorDefault'"/>
				<style>
					<marginTop value="-4px"/>
					<marginLeft value="6px"/>
				</style>
				<bind name="text" value="shipInfo.levelRome"/>
			</block>
			<block type="text">
				<style>
					<marginTop value="-4px"/>
					<marginLeft value="3px"/>
				</style>
				<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial	? '$FontColorGolden'
																	: '$FontColorDefault'"/>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="class" value="'$LetterSpacingSmall'"/>
				<bind name="text" value="toUpperCase(tr(shipInfo.nameIDS + '_FULL'))"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<css name="$ResultsHeader">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$ResultsWarning">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<block className="TabBarResults">
		<block className="tab_bar_bg" type="native">
			<style>
				<height value="29px"/>
			</style>
			<block>
				<bind name="class" value="allDisabled ? '$MouseDisable' : '$None'"/>
				<bind name="style" value="'alpha'; allDisabled ? 0.5 : 1"/>
				<style>
					<marginLeft value="2px"/>
					<marginRight value="2px"/>
				</style>
				<block>
					<block className="MainTabLarge">
						<block className="tab_bar_item" type="native">
							<bind name="name" value="'TabbarItem_' + 0"/>
							<style>
								<width value="210"/>
								<height value="29px"/>
							</style>
							<bind name="selected" value="inset == 0"/>
							<bind name="dispatch" value="'buttonClick'; 'changeResultScreenInset'; { inset: 0, _searchState: 0 }"/>
							<bind name="label" value="toUpperCase(tr('IDS_BATTLE_STATS_PERSONAL_REPORT'))"/>
						</block>
						<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_TOOLTIP_BATTLE_STATS_PERSONAL_REPORT'}"/>
					</block>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<marginTop value="2px"/>
						</style>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<block className="MainTabLarge">
						<block className="tab_bar_item" type="native">
							<bind name="name" value="'TabbarItem_' + 1"/>
							<style>
								<width value="210"/>
								<height value="29px"/>
							</style>
							<bind name="selected" value="inset == 1"/>
							<bind name="dispatch" value="'buttonClick'; 'changeResultScreenInset'; { inset: 1, _searchState: 0 }"/>
							<bind name="label" value="toUpperCase(tr('IDS_BATTLE_STATS_TEAM_REPORT'))"/>
						</block>
						<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_TOOLTIP_BATTLE_STATS_TEAM_REPORT'}"/>
					</block>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<marginTop value="2px"/>
						</style>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<block className="MainTabLarge">
						<block className="tab_bar_item" type="native">
							<bind name="name" value="'TabbarItem_' + 2"/>
							<style>
								<width value="210"/>
								<height value="29px"/>
							</style>
							<bind name="selected" value="inset == 2"/>
							<bind name="dispatch" value="'buttonClick'; 'changeResultScreenInset'; { inset: 2, _searchState: 0 }"/>
							<bind name="label" value="toUpperCase(tr('IDS_BATTLE_STATS_DETAILED_REPORT'))"/>
						</block>
						<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_TOOLTIP_BATTLE_STATS_DETAILED_REPORT'}"/>
					</block>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<marginTop value="2px"/>
						</style>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<block className="MainTabLarge">
						<block className="tab_bar_item" type="native">
							<bind name="name" value="'TabbarItem_' + 3"/>
							<style>
								<width value="210"/>
								<height value="29px"/>
							</style>
							<bind name="selected" value="inset == 3"/>
							<bind name="dispatch" value="'buttonClick'; 'changeResultScreenInset'; { inset: 3, _searchState: 0 }"/>
							<bind name="label" value="toUpperCase(tr('IDS_BATTLE_STATS_CREDITS_AND_EXP'))"/>
						</block>
						<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_TOOLTIP_BATTLE_STATS_CREDITS_AND_EXP'}"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ResultsScreen">
		<bind name="controller" value="lesta.dialogs.results_screen.controllers.ControllerResultsScreen"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionData'"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
		<bind name="var" value="{inset: 0}"/>
		<bind name="watch" value="'validTabIndex'; inset"/>
		<bind name="catch" value="'changeResultScreenInset'"/>
		<styleClass value="$Fullsize"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="appear" value="'startShow'; 0.3; 0.8; {alpha: 0, top: 5}; {alpha: 0.8, top: 0}"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 2.0; 0; {alpha: 0}; {alpha: 0.8}; 2"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="((optionData.contrast) &amp;&amp; (validTabIndex != 0))"/>
		</block>
		<bind name="watch" value="'battleType'; 	(game_data.battle_mode_id == 1)	? BattleTypes.TRAINING_BATTLE :
								(game_data.battle_mode_id == 2) ? BattleTypes.COOPERATIVE_BATTLE :
								(game_data.battle_mode_id == 4) ? BattleTypes.RANKED_BATTLE :
								(game_data.battle_mode_id == 5) ? BattleTypes.CLUB_BATTLE
																: BattleTypes.RANDOM_BATTLE"/>
		<bind name="stageSize"/>
		<bind name="watch" value="'PBSWidth'; 1077 + (stageWidth - 1280)*0.536"/>
		<bind name="watch" value="'PBSHeight'; 630 + (stageHeight - 720)*0.3"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<height value="100%"/>
			</style>
			<bind name="style" value="'width'; PBSWidth + 'px'"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="style" value="'marginTop'; 0 + (stageHeight - 720) * 0.16"/>
				<bind name="visible" value="game_data.battle_mode_id != 3"/>
				<bind name="appear" value="'startShow'; 0.3; 1.4; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.8; 0; {alpha: 1}; {alpha: 0}"/>
				<block>
					<styleClass value="$MiddleAligned"/>
					<bind name="instance" value="'TabBarResults'; {inset: validTabIndex}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<block className="ModalWindowCloseIcon">
						<style>
							<position value="absolute"/>
							<right value="-60px"/>
							<top value="7px"/>
							<flow value="horizontal"/>
						</style>
						<bind name="name" value="'btn_cancel'"/>
						<bind name="input"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
						<block>
							<style>
								<backgroundColor value="0x01000000"/>
							</style>
							<block>
								<style>
									<marginTop value="-3px"/>
								</style>
								<block className="hotkey_holder_white_9slice" type="native">
									<bind name="visible" value="true"/>
									<block type="text">
										<style>
											<marginLeft value="3px"/>
											<marginRight value="3px"/>
											<marginTop value="-1px"/>
											<marginBottom value="-1px"/>
										</style>
										<styleClass value="$BlackLabel"/>
										<text value="ESC"/>
									</block>
								</block>
							</block>
							<block className="button_close" type="native">
								<params>
									<param name="focusable" value="false"/>
								</params>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="style" value="'marginTop'; 10 + (stageHeight - 720) * 0.2"/>
				<bind name="style" value="'height'; PBSHeight + 'px'"/>
				<bind name="child" value="validTabIndex; {	_data:	{team_results: team_results, received_damage: received_damage, given_damage: given_damage,
											personal: personal, game_data: game_data, credits_experience: credits_experience,
											resultText: resultText, commentText: commentText, _PBSWidth: PBSWidth, _PBSHeight: PBSHeight}};
											'PersonalResultSection'; 'TeamResultSection'; 'DetailedReportSection'; 'EconomicsSection'"/>
			</block>
			<block>
				<bind name="style" value="'bottom'; 10 + (stageHeight - 720) * 0.15"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<block className="button_default" type="native">
					<styleClass value="$MiddleAligned"/>
					<bind name="appear" value="'startShow'; 0.3; 2.0; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
					<bind name="appear" value="'startHide'; 0.8; 0; {alpha: 1}; {alpha: 0}"/>
					<bind name="name" value="'BottomTabBarButtonDebriefing'"/>
					<bind name="event" value="'buttonClick'; close"/>
					<params>
						<param name="autoSize" value="center"/>
						<param name="label" value="IDS_BATTLE_STATS_BACK_TO_DOCK"/>
					</params>
					<bind name="focus" value="1; true"/>
				</block>
				<block>
					<bind name="appear" value="'startShow'; 0.3; 2.2; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
					<bind name="appear" value="'startHide'; 0.8; 0; {alpha: 1}; {alpha: 0}"/>
					<bind name="visible" value="accountLevelInfo.accountLevel &gt;= 5 &amp;&amp; !!canGoToBattleAgain &amp;&amp; !!(playerShipInfo.isReady) &amp;&amp; !(divisionData.divisionExist) &amp;&amp; (battleType != BattleTypes.CLUB_BATTLE)"/>
					<bind name="name" value="'ButtonDebriefingStartRandom'"/>
					<style>
						<position value="absolute"/>
						<right value="17px"/>
					</style>
					<block className="button_special" type="native">
						<bind name="tooltip" value="'StartBattleTooltip'; {_shipID: shipId, _battleType: battleType, _instructionType: 'left'}"/>
						<bind name="action" value="'buttonClick'; 'reenterBalancer'"/>
						<params>
							<param name="label" value="IDS_AGAIN"/>
							<param name="autoSize" value="center"/>
						</params>
						<bind name="focus" value="2; false"/>
					</block>
				</block>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
		<bind name="primaryEntityDH" value="'selfPlayerVoiceChatEntity'; CC.playerVoiceState; accountLevelInfo.playerName"/>
		<bind name="watchDH" value="'selfPlayerVoiceChatIsSpeaking'; ['selfPlayerVoiceChatEntity.playerVoiceState.evIsSpeakingChanged']; selfPlayerVoiceChatEntity.playerVoiceState.isSpeaking"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<styleClass value="$BottomMenu"/>
			<block>
				<style>
					<marginLeft value="10px"/>
					<marginTop value="4px"/>
					<width value="19px"/>
					<height value="17px"/>
				</style>
				<bind name="instance" value="'VoiceChatOutgoingIcon'; {_isSpeaking: selfPlayerVoiceChatIsSpeaking}"/>
			</block>
		</block>
	</block>
	<block className="DottedLine">
		<style>
			<backgroundImage value="symbol:dotted_line"/>
			<backgroundRepeatX value="true"/>
			<width value="100%"/>
			<height value="1px"/>
			<alpha value="0.5"/>
		</style>
	</block>
	<css name="$TextMouseDisable">
		<mouseChildren value="false"/>
		<selectable value="false"/>
		<mouseEnabled value="false"/>
	</css>
	<css name="$MouseEnable">
		<hitTest value="true"/>
		<mouseChildren value="true"/>
		<mouseEnabled value="true"/>
	</css>
	<css name="$FontFamilyDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$FontFamilyDefaultBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$Bold">
		<fontFamily value="$WWSDefaultFontBold"/>
	</css>
	<css name="$FontColorDefault">
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$FontColorGrey">
		<textColor value="0xDDDDDD"/>
	</css>
	<css name="$FontColorStrongGrey">
		<textColor value="0x636363"/>
	</css>
	<css name="$FontColorWhite">
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$FontColorBlueish">
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$FontColorStrongBlueish">
		<textColor value="0x758b8b"/>
	</css>
	<css name="$FontColorDarkBlueish">
		<textColor value="0x2B393A"/>
	</css>
	<css name="$FontColorSpecialButton">
		<textColor value="0xFFE8D3"/>
	</css>
	<css name="$FontColorTurquoise">
		<textColor value="0x00cccc"/>
	</css>
	<css name="$FontColorBuoyancy">
		<textColor value="0x13C9F7"/>
	</css>
	<css name="$FontColorHealth">
		<textColor value="0x4ce8aa"/>
	</css>
	<css name="$FontColorGolden">
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$FontColorGold">
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$FontColorFreeExp">
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$FontColorExp">
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$FontColorUnready">
		<textColor value="0xFF9933"/>
	</css>
	<css name="$FontColorAlmostBlack">
		<textColor value="0x08222a"/>
	</css>
	<css name="$FontColorTeamkiller">
		<textColor value="0xFF96CA"/>
	</css>
	<css name="$FontColorTTK">
		<textColor value="0xc8751c"/>
	</css>
	<css name="$FontColorParty">
		<textColor value="0x00cccc"/>
	</css>
	<css name="$FontColorDefaultButtonUp">
		<textColor value="0xc7e2e2"/>
	</css>
	<css name="$FontColorComparePositive">
		<textColor value="0x4CE8AA"/>
	</css>
	<css name="$FontColorCompareNegative">
		<textColor value="0xFF6600"/>
	</css>
	<css name="$FontColorMercenaries">
		<textColor value="0x4ce8aa"/>
	</css>
	<css name="$FontSizeThumbelina">
		<fontSize value="7"/>
	</css>
	<css name="$FontSizeNano">
		<fontSize value="11"/>
	</css>
	<css name="$FontSizeSmall">
		<fontSize value="13"/>
	</css>
	<css name="$FontSizeDefault">
		<fontSize value="15"/>
	</css>
	<css name="$FontSizeLarge">
		<fontSize value="17"/>
	</css>
	<css name="$FontSizeHeader6">
		<fontSize value="19"/>
	</css>
	<css name="$FontSizeHeader5">
		<fontSize value="21"/>
	</css>
	<css name="$FontSizeHeader4">
		<fontSize value="23"/>
	</css>
	<css name="$FontSizeHeader3">
		<fontSize value="25"/>
	</css>
	<css name="$FontSizeHeader2">
		<fontSize value="30"/>
	</css>
	<css name="$FontSizeHeader1">
		<fontSize value="36"/>
	</css>
	<css name="$FontAccentSize2">
		<fontSize value="50"/>
	</css>
	<css name="$FontAccentSize1">
		<fontSize value="60"/>
	</css>
	<css name="$LetterSpacingSmall">
		<letterSpacing value="0.8"/>
	</css>
	<css name="$InvertedTextEffect">
		<dropShadowFilter value="0 90 0xffffff 0.5 2.5 2.5 1.0"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$FontGlowFilterBright">
		<dropShadowFilter value="1 90 0xffffff 0.3 5.0 3.0 0.9 2"/>
	</css>
	<css name="$BlockGlowFilterBright">
		<dropShadowFilter value="1 90 0xffffff 0.3 4.0 3.0 0.2 2"/>
	</css>
	<css name="$GlowDisabler">
		<dropShadowFilter value="0 0 0x000000 0 0 0 0 0"/>
	</css>
	<css name="$DropShadowDisabler">
		<dropShadowFilter value="0 0 0x000000 0 0 0 0 0"/>
	</css>
	<css name="$FontDropShadowFilter1">
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$FontDropShadowFilterStrong">
		<dropShadowFilter value="1 90 0x08222a 0.8 3 3 1.5"/>
	</css>
	<css name="$FontDropShadowWhite">
		<dropShadowFilter value="0 90 0xffffff 0.5 2.5 2.5 1.0"/>
	</css>
	<css name="$BlockDropShadowFilter1">
		<dropShadowFilter value="5 110 0x000000 0.6 6 6 0.6"/>
	</css>
	<css name="$BlockDropShadowFilter2">
		<dropShadowFilter value="3 110 0x000000 0.6 6 6 0.6"/>
	</css>
	<block className="DefaultButton">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'accountResourceLockUpdate'"/>
		<bind name="style" value="'width'; _width ? _width : '100%'"/>
		<bind name="name" value="_containerName ? _containerName : null"/>
		<block className="button_default" type="native">
			<style>
				<width value="100%"/>
			</style>
			<bind name="label" value="_label"/>
			<bind name="focus" value="_focusIndex; _defaultFocused"/>
			<bind name="focusable" value="_focusIndex ? true : false"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(accountResourceInfo.operationsLocked) : true)"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams"/>
			<bind name="name" value="_name ? _name : null"/>
			<bind name="input"/>
			<block>
				<bind name="visible" value="_isExternal == true"/>
				<style>
					<position value="absolute"/>
					<top value="4px"/>
					<right value="4px"/>
					<hitTest value="false"/>
				</style>
				<block className="icon_out_grey" type="native"/>
			</block>
		</block>
	</block>
	<block className="DefaultButtonBig">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'accountResourceLockUpdate'"/>
		<bind name="style" value="'width'; _width ? _width : '100%'"/>
		<bind name="name" value="_containerName ? _containerName : null"/>
		<block className="button_default_big" type="native">
			<style>
				<width value="100%"/>
			</style>
			<bind name="name" value="_name ? _name : null"/>
			<bind name="input"/>
			<bind name="label" value="_label"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(accountResourceInfo.operationsLocked) : true)"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
		</block>
	</block>
	<block className="DefaultButtonCostMedium">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'accountResourceLockUpdate'"/>
		<bind name="tooltip" value="'DiscountTooltip'; priceInfo.basePrice &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) ? { priceInfo: priceInfo, _isExternal: _isExternal } : null"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="style" value="'height'; _height ? _height : 'auto'"/>
		<bind name="name" value="_name ? _name : null"/>
		<block className="button_default_no_label" type="native">
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'height'; _height ? _height : 'auto'"/>
			<bind name="focus" value="_focusIndex; _defaultFocused"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(accountResourceInfo.operationsLocked) : true)"/>
			<bind name="dispatch" value="'buttonClick'; _dispatchEvent ? _dispatchEvent : null"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<bind name="selected" value="_selected"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="3px"/>
					<marginBottom value="4px"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorDefaultButtonUp'"/>
					<bind name="class" value="_enabled ? '$None' : '$FontColorAlmostBlack'"/>
					<bind name="text" value="_label"/>
				</block>
				<block>
					<bind name="visible" value="priceInfo.finalPrice &gt; 0"/>
					<style>
						<marginLeft value="4px"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<bind name="instance" value="'PriceTag'; priceInfo.finalPrice &gt; 0 ? {priceInfo: priceInfo, _showDiscountTag: _showDiscountTag } : null"/>
				</block>
				<block>
					<bind name="visible" value="_isExternal == true"/>
					<style>
						<marginTop value="2px"/>
						<marginLeft value="8px"/>
					</style>
					<block className="icon_out_grey" type="native"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="DefaultButtonCostSmall">
		<bind name="tooltip" value="'DiscountTooltip'; priceInfo.basePrice &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) ? { priceInfo: priceInfo } : null"/>
		<block className="button_default_no_label_small" type="native">
			<bind name="enabled" value="_enabled"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<block>
				<style>
					<marginBottom value="1px"/>
					<marginRight value="18px"/>
					<marginLeft value="18px"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="class" value="'$FontColorDefaultButtonUp'"/>
					<bind name="class" value="_enabled ? '$None' : '$FontColorAlmostBlack'"/>
					<bind name="text" value="_label"/>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="2px"/>
					</style>
					<bind name="instance" value="'PriceTag'; priceInfo.finalPrice &gt; 0 ? {priceInfo: priceInfo, _small: true, _showDiscountTag: _showDiscountTag} : null"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ButtonSpecial">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="name" value="_name"/>
		<block className="button_special_no_label" type="native">
			<bind name="soundSet" value="'hard_button'"/>
			<bind name="enabled" value="_enabled"/>
			<bind name="action" value="'buttonClick'; _action; _actionParams ? _actionParams : {}"/>
			<block type="text">
				<style>
					<marginRight value="18px"/>
					<marginLeft value="18px"/>
					<marginTop value="3px"/>
					<marginBottom value="4px"/>
					<hitTest value="false"/>
				</style>
				<bind name="class" value="_enabled 	? rollOver &amp;&amp; !(mouseDown) ? '$FontColorDefault' : '$FontColorSpecialButton'
									: '$FontColorAlmostBlack'"/>
				<bind name="class" value="_enabled ? '$FontDropShadowFilter1' : '$FontDropShadowWhite'"/>
				<styleClass value="$TextDefaultBold"/>
				<bind name="text" value="_label"/>
			</block>
		</block>
	</block>
	<block className="DockButton">
		<style>
			<width value="100%"/>
		</style>
		<block className="button_dock" type="native">
			<style>
				<width value="100%"/>
				<height value="30px"/>
			</style>
			<bind name="enabled" value="_enabled"/>
			<bind name="dispatch" value="'buttonClick'; _dispatchEvent; {}"/>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="3px"/>
					<mouseEnabled value="false"/>
					<mouseChildren value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<bind name="text" value="_label"/>
			</block>
		</block>
	</block>
	<block className="DockButtonCostMedium">
		<style>
			<width value="100%"/>
		</style>
		<block className="button_dock" type="native">
			<style>
				<width value="100%"/>
				<height value="30px"/>
			</style>
			<bind name="enabled" value="_enabled"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _request ? _requestParams : null"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams"/>
			<block>
				<style>
					<marginTop value="8px"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.4"/>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="text" value="_label"/>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<style>
							<marginBottom value="1px"/>
							<marginLeft value="4px"/>
						</style>
						<bind name="instance" value="'PriceTag'; {priceInfo: priceInfo}"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<css name="$titleBackgroundSize">
		<width value="640px"/>
		<height value="28px"/>
	</css>
	<css name="$TeamBgOrdinary">
		<width value="636px"/>
		<height value="25px"/>
	</css>
	<css name="$TeambgTitle">
		<width value="1280px"/>
		<height value="29px"/>
	</css>
	<block className="UIListTeamResult">
		<styleClass value="$MiddleAligned"/>
		<bind name="var" value="{complaintsAvailable: true}"/>
		<bind name="catch" value="'disableComplaints'; {complaintsAvailable: false}"/>
		<bind name="countdown" value="game_data.keep_until_time; 'countdownText'; 'mm:ss'; 'timeoutPostBattleComplaints'"/>
		<bind name="dispatch" value="'timeoutPostBattleComplaints'; 'disableComplaints'"/>
		<block>
			<bind name="visible" value="team_results.teamsInfo.alliedClub.clubName ? true : false"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginBottom value="6px"/>
			</style>
			<bind name="instance" value="'ClubBattleClubsVS'; {_alliedClub: team_results.teamsInfo.alliedClub, _enemyClub: team_results.teamsInfo.enemyClub}"/>
		</block>
		<block>
			<style>
				<marginTop value="-1px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block>
				<bind name="visible" value="game_data.game_mode == GameMode.PVE"/>
				<style>
					<width value="564px"/>
					<marginRight value="12px"/>
					<marginTop value="-6px"/>
				</style>
				<bind name="instance" value="'PVETasksList'; (game_data.game_mode == GameMode.PVE)	? {	_primaryTasks: game_data.primaryTasks, _secondaryTasks: game_data.secondaryTasks}
																					: null"/>
			</block>
			<block className="UIListTeamResultLeft">
				<bind name="instance" value="'UIlistBaseLeft'; { team_results: team_results, uiListData: team_results.listAllied, sortingColumnId: 'exp', sortingDirection:'descending',
										sortingNumeric: 'true', game_data: game_data, personal: personal, complaintsAvailable: complaintsAvailable}"/>
			</block>
			<block>
				<bind name="visible" value="game_data.game_mode != GameMode.PVE"/>
				<block className="VerticalDivider">
					<style>
						<height value="100%"/>
						<width value="3px"/>
					</style>
					<block className="divider_v" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
				<block className="UIListTeamResultRight">
					<bind name="instance" value="'UIlistBaseRight'; { team_results: team_results, uiListData: team_results.listEnemies, sortingColumnId: 'exp', sortingDirection:'descending', sortingNumeric: 'true', game_data: game_data, personal: personal, complaintsAvailable: complaintsAvailable}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="UIListTeamResultLeft">
		<bind name="instance" value="'UIlistBaseLeft'; { team_results: team_results, uiListData: team_results.listAllied, sortingColumnId: 'exp', sortingDirection:'descending',
										sortingNumeric: 'true', game_data: game_data, personal: personal, complaintsAvailable: complaintsAvailable}"/>
	</block>
	<block className="UIListTeamResultRight">
		<bind name="instance" value="'UIlistBaseRight'; { team_results: team_results, uiListData: team_results.listEnemies, sortingColumnId: 'exp', sortingDirection:'descending', sortingNumeric: 'true', game_data: game_data, personal: personal, complaintsAvailable: complaintsAvailable}"/>
	</block>
	<block className="UIlistBaseLeft">
		<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="event" value="'changeSortDirection'; onChangeSortDirection; _sortingFieldName; true"/>
		<bind name="catch" value="'onSortSelected'"/>
		<bind name="dispatch" value="'onSortSelected'; 'changeSortDirection'; {}; false; 0.05"/>
		<block className="cell_background" type="native">
			<bind name="gotoAndStop!" value="1"/>
			<style>
				<width value="576px"/>
				<right value="0px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="407px"/>
					</style>
					<block type="text">
						<style>
							<marginLeft value="18px"/>
							<width value="100%"/>
							<marginTop value="2px"/>
						</style>
						<styleClass value="$TextHeaderWhiteBold"/>
						<bind name="text" value="'IDS_ALLY_TEAM'"/>
					</block>
				</block>
				<block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_sortingEnabled: true, _width: '34px', _png: 'Kills', _sortingFieldName: 'ships_killed', _tooltipText: 'IDS_BY_KILLS', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_sortingEnabled: true, _width: '34px', _png: 'KilledPlanes', _sortingFieldName: 'killed_planes', _tooltipText: 'IDS_BY_DESTOYED_PLANES', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_sortingEnabled: true, _width: '66px', _png: 'Exp', _sortingFieldName: 'exp', _tooltipText: 'IDS_BY_EXPIRIENCE', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_sortingEnabled: true, _width: '35px', _png: 'Rewards', _sortingFieldName: 'totalAchievements', _tooltipText: 'IDS_BY_REWARDS', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<overflow value="scroll"/>
			</style>
			<styleClass value="$DefaultScrollBar"/>
			<block>
				<bind name="repeat" value="sortedUiListData; 'SimpleUIListTeamResultRowRendererLeft'; {	_players: sortedUiListData, _rankId: rankedBattlesStats.rank, game_data: game_data, personal: personal,
																						complaintsAvailable: complaintsAvailable}"/>
			</block>
		</block>
	</block>
	<block className="UIlistBaseRight">
		<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="event" value="'changeSortDirection'; onChangeSortDirection; _sortingFieldName; true"/>
		<bind name="catch" value="'onSortSelected'"/>
		<bind name="dispatch" value="'onSortSelected'; 'changeSortDirection'; {}; false; 0.05"/>
		<block className="cell_background" type="native">
			<bind name="gotoAndStop!" value="2"/>
			<style>
				<width value="576px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_width: '35px', _png: 'Rewards', _sortingFieldName: 'totalAchievements', _tooltipText: 'IDS_BY_REWARDS', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_width: '66px', _png: 'Exp', _sortingFieldName: 'exp', _tooltipText: 'IDS_BY_EXPIRIENCE', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_width: '34px', _png: 'KilledPlanes', _sortingFieldName: 'killed_planes', _tooltipText: 'IDS_BY_DESTOYED_PLANES', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_width: '34px', _png: 'Kills', _sortingFieldName: 'ships_killed', _tooltipText: 'IDS_BY_KILLS', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="407px"/>
					</style>
					<block type="text">
						<style>
							<textAlign value="right"/>
							<width value="100%"/>
							<marginRight value="18px"/>
							<marginTop value="2px"/>
						</style>
						<styleClass value="$TextHeaderWhiteBold"/>
						<bind name="text" value="'IDS_ENEMY_TEAM'"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<overflow value="scroll"/>
				<marginLeft value="0px"/>
			</style>
			<styleClass value="$DefaultScrollBar"/>
			<block>
				<bind name="repeat" value="sortedUiListData; 'SimpleUIListTeamResultRowRendererRight'; {_players: sortedUiListData, _rankId: rankedBattlesStats.rank, game_data: game_data,
																						personal: personal, complaintsAvailable: complaintsAvailable}"/>
			</block>
		</block>
	</block>
	<block className="UIListHeaderCell">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="dispatch" value="'click'; 'onSortSelected'; {_sortingFieldName: _sortingFieldName}"/>
		<block>
			<block className="title_backgrounds" type="native">
				<bind name="gotoAndStop!" value="1"/>
				<bind name="style" value="'width'; _width"/>
				<bind name="transition" value="rollOver || _sortingColumnId == _sortingFieldName; 0.15; {alpha: 0}; {alpha: 1}"/>
				<style>
					<height value="33px"/>
					<position value="absolute"/>
					<marginTop value="-1px"/>
				</style>
			</block>
			<block>
				<bind name="style" value="'width'; _width"/>
				<style>
					<height value="28px"/>
					<marginTop value="2px"/>
					<hitTest value="false"/>
				</style>
				<block className="icons_team_result_section" type="native">
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="gotoAndStop!" value="_png"/>
				</block>
			</block>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _tooltipText}"/>
		</block>
	</block>
	<block className="SimpleUIListTeamResultRowRendererLeft">
		<bind name="visible" value="(player.ids_ship_name != 'IDS_PXSX001')"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<style>
			<marginTop value="1px"/>
			<width value="604px"/>
		</style>
		<bind name="appear" value="'startShow'; 0.15; 0.75 + 0.075 * $index; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="watch" value="'starEarnCondition'; player.is_self ? personal.starsGained &gt; 0 : (place &lt;= rankInfo.starEarnPlace) &amp;&amp; (battleResult == 1)"/>
		<bind name="watch" value="'starLossCondition'; !(rankInfo.isStarSafe) &amp;&amp; (place &gt;= rankInfo.starLossPlace) &amp;&amp; (battleResult &lt;= 0)"/>
		<bind name="watch" value="'thisPlayer'; _players[$index]"/>
		<block>
			<bind name="visible" value="personal.seasonId != 0 &amp;&amp; game_data.battle_mode_id == 4"/>
			<style>
				<left value="30px"/>
				<position value="absolute"/>
				<height value="28px"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'StarEarnOrLoss'; starEarnCondition ||  starLossCondition ? {starEarnCondition: starEarnCondition, starLossCondition: starLossCondition} : null"/>
			</block>
		</block>
		<block>
			<style>
				<width value="576px"/>
				<right value="0px"/>
			</style>
			<block>
				<bind name="style" value="'backgroundColor'; $index % 2 == 0 ? '0x15000000' : '0x25000000'"/>
				<style>
					<backgroundColor value="0x15000000"/>
					<position value="absolute"/>
					<height value="28px"/>
					<width value="100%"/>
				</style>
				<bind name="watch" value="'battleType'; 	(game_data.battle_mode_id == 1)	? BattleTypes.TRAINING_BATTLE :
										(game_data.battle_mode_id == 2) ? BattleTypes.COOPERATIVE_BATTLE :
										(game_data.battle_mode_id == 4) ? BattleTypes.RANKED_BATTLE :
										(game_data.battle_mode_id == 5) ? BattleTypes.CLUB_BATTLE :
										(game_data.battle_mode_id == 6) ? BattleTypes.PVE_BATTLE
																		: BattleTypes.RANDOM_BATTLE"/>
				<bind name="watch" value="'isContextMenuAvailable'; (!(player.is_self) &amp;&amp; complaintsAvailable)"/>
				<block className="dock_submenu_item" type="native">
					<bind name="style" value="'hitTest'; isContextMenuAvailable"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'right', _instructionText: 'IDS_HINT_RIGHT_CLICK_FOR_CONTEXT_MENU'}], _maxWidth: 250}"/>
					<bind name="menu" value="'UIListPlayerContextMenu'; isContextMenuAvailable	? {	_player: thisPlayer, _playerDbId: player.dbId, _arenaId: game_data.arena_id, _battleType: battleType,
																					_isInPBS: true, _complaintsAvailable: complaintsAvailable}
																				: null; null; 'contextMenuVisible'"/>
					<bind name="selected" value="contextMenuVisible"/>
					<bind name="dispatch" value="'buttonClick'; 'Tooltip.Close'; {}"/>
					<bind name="name" value="'contextMenuVisible_' + !!(contextMenuVisible) + '_' + player.name"/>
				</block>
			</block>
			<block>
				<style>
					<height value="28px"/>
				</style>
				<block>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<bind name="visible" value="divisionIndex &gt; 0"/>
						<styleClass value="$MiddleAligned"/>
						<style>
							<marginTop value="1px"/>
						</style>
						<block className="division_item" type="native">
							<style>
								<marginLeft value="12px"/>
							</style>
							<bind name="gotoAndStop!" value="isInSameDivision ? divisionSign + 1 : (divisionSign + 1 + 10)"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<width value="110px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<bind name="visible" value="player.rank != 0"/>
						<bind name="instance" value="'IconRankSmall'; {_rankId: player.rank}"/>
					</block>
					<block type="text">
						<style>
							<textAlign value="left"/>
							<multiline value="false"/>
						</style>
						<bind name="style" value="'width'; player.rank == 0 ? '105px': '65px'"/>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="player.is_self ? '$Bold' : '$None'"/>
						<bind name="class" value="is_alive 	? (player.tkStatus	? '$FontColorTeamkiller' 
																: player.is_self || player.isInSameDivision ? '$FontColorGolden' 
																									: '$None') 
											: '$None'"/>
						<bind name="class" value="!is_alive 	? (player.is_self 	? (player.tkStatus ? '$FontColorTeamkiller' : '$FontColorGolden') 
																: '$FontColorAlmostBlack')
											: '$None'"/>
						<bind name="class" value="!is_alive &amp;&amp; !(player.is_self) ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="player.name"/>
						<bind name="name" value="'player_tab_stat_' + player.name"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="122px"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<block>
						<style>
							<width value="100%"/>
							<marginLeft value="0px"/>
						</style>
						<bind name="style" value="'backgroundImage'; !is_alive 	? ('url:' + player.ship_dead_img_url)
																: player.is_self ? ('url:' + player.ship_own_img_url) : ('url:' + player.ship_img_url)"/>
					</block>
				</block>
				<block>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="player.is_self ? '$TextGoldenBold' 
												: !is_alive ? '$FontColorAlmostBlack' : '$None'"/>
						<bind name="class" value="!is_alive &amp;&amp; !(player.is_self) ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="player.levelRome"/>
					</block>
				</block>
				<block>
					<style>
						<width value="115px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="left"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="class" value="player.is_self	? '$TextGoldenBold' :
								!is_alive		? '$FontColorAlmostBlack'
												: '$None'"/>
						<bind name="class" value="!is_alive &amp;&amp; !(player.is_self) ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="toUpperCase(tr(player.ids_ship_name))"/>
					</block>
				</block>
				<block>
					<style>
						<width value="34px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<bind name="visible" value="ships_killed != 0"/>
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="ships_killed"/>
					</block>
				</block>
				<block>
					<style>
						<width value="34px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<bind name="visible" value="killed_planes != 0"/>
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="killed_planes"/>
					</block>
				</block>
				<block>
					<style>
						<width value="66px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="format(exp, -1)"/>
					</block>
				</block>
				<block>
					<style>
						<width value="35px"/>
					</style>
					<block>
						<style>
							<marginLeft value="9px"/>
							<marginTop value="4px"/>
						</style>
						<bind name="instance" value="'EarnedAchievementsByPlayer'; (totalAchievements &gt; 0) ? {_achievements: achievements, _isSelfPlayer: player.is_self} : null"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="SimpleUIListTeamResultRowRendererRight">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<bind name="appear" value="'startShow'; 0.15; 0.75 + 0.075 * $index; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="watch" value="'starEarnCondition'; (place &lt;= rankInfo.starEarnPlace &amp;&amp; battleResult == 1)"/>
		<bind name="watch" value="'starLossCondition'; place &gt;= rankInfo.starLossPlace &amp;&amp; (battleResult &lt;= 0)"/>
		<bind name="watch" value="'thisPlayer'; _players[$index]"/>
		<style>
			<width value="604px"/>
			<marginTop value="1px"/>
		</style>
		<block>
			<style>
				<width value="576px"/>
			</style>
			<block>
				<bind name="style" value="'backgroundColor'; $index % 2 == 0 ? '0x15000000' : '0x25000000'"/>
				<style>
					<backgroundColor value="0x15000000"/>
					<position value="absolute"/>
					<height value="28px"/>
					<width value="100%"/>
				</style>
				<bind name="watch" value="'battleType'; 	(game_data.battle_mode_id == 1)	? BattleTypes.TRAINING_BATTLE :
										(game_data.battle_mode_id == 2) ? BattleTypes.COOPERATIVE_BATTLE :
										(game_data.battle_mode_id == 4) ? BattleTypes.RANKED_BATTLE :
										(game_data.battle_mode_id == 5) ? BattleTypes.CLUB_BATTLE	:
										(game_data.battle_mode_id == 5) ? BattleTypes.PVE_BATTLE
																		: BattleTypes.RANDOM_BATTLE"/>
				<block className="dock_submenu_item" type="native">
					<bind name="style" value="'hitTest'; complaintsAvailable"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'right', _instructionText: 'IDS_HINT_RIGHT_CLICK_FOR_CONTEXT_MENU'}], _maxWidth: 250}"/>
					<bind name="menu" value="'UIListPlayerContextMenu'; complaintsAvailable	? {	_player: thisPlayer, _playerDbId: player.dbId, _arenaId: game_data.arena_id, _battleType: battleType,
																				_isInPBS: true, _complaintsAvailable: complaintsAvailable}
																			: null; null; 'contextMenuVisible'"/>
					<bind name="selected" value="contextMenuVisible &amp;&amp; complaintsAvailable"/>
					<bind name="dispatch" value="'buttonClick'; 'Tooltip.Close'; {}"/>
					<bind name="name" value="'contextMenuVisible_' + !!(contextMenuVisible) + '_' + player.name"/>
				</block>
			</block>
			<block>
				<style>
					<height value="28px"/>
				</style>
				<block>
					<style>
						<width value="35px"/>
					</style>
					<block>
						<style>
							<marginLeft value="9px"/>
							<marginTop value="4px"/>
						</style>
						<bind name="instance" value="'EarnedAchievementsByPlayer'; (totalAchievements &gt; 0) ? {_achievements: achievements, _isSelfPlayer: player.is_self} : null"/>
					</block>
				</block>
				<block>
					<style>
						<width value="66px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="format(exp, -1)"/>
					</block>
				</block>
				<block>
					<style>
						<width value="34px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<bind name="visible" value="killed_planes != 0"/>
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="killed_planes"/>
					</block>
				</block>
				<block>
					<style>
						<width value="34px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<bind name="visible" value="ships_killed != 0"/>
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="ships_killed"/>
					</block>
				</block>
				<block>
					<style>
						<width value="115px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="right"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="class" value="!is_alive ? '$FontColorAlmostBlack' : '$None'"/>
						<bind name="class" value="!is_alive ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="toUpperCase(tr(player.ids_ship_name))"/>
					</block>
				</block>
				<block>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="!is_alive ? '$FontColorAlmostBlack' : '$None'"/>
						<bind name="class" value="!is_alive ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="player.levelRome"/>
					</block>
				</block>
				<block>
					<style>
						<width value="122px"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<block>
						<style>
							<marginLeft value="122px"/>
							<width value="100%"/>
						</style>
						<bind name="scaleX" value="-1"/>
						<bind name="style" value="'backgroundImage'; !is_alive 	? ('url:' + player.ship_dead_img_url) : ('url:' + player.ship_img_url)"/>
					</block>
				</block>
				<block>
					<style>
						<width value="110px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="right"/>
							<multiline value="false"/>
						</style>
						<bind name="style" value="'width'; player.rank == 0 ? '105px': '65px'"/>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="!is_alive ? '$FontColorAlmostBlack' : '$None'"/>
						<bind name="class" value="!is_alive ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="player.name"/>
						<bind name="name" value="'player_tab_stat_' + player.name"/>
					</block>
					<block>
						<bind name="visible" value="player.rank != 0"/>
						<bind name="instance" value="'IconRankSmall'; {_rankId: player.rank}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="divisionIndex &gt; 0"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<block className="division_item" type="native">
						<styleClass value="$MiddleAligned"/>
						<style>
							<marginTop value="5px"/>
						</style>
						<bind name="gotoAndStop!" value="divisionSign + 1 + 10"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="personal.seasonId != 0 &amp;&amp; game_data.battle_mode_id == 4"/>
			<style>
				<right value="30px"/>
				<position value="absolute"/>
				<height value="28px"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'StarEarnOrLoss'; (starEarnCondition ||  starLossCondition) ? {starEarnCondition: starEarnCondition, starLossCondition: starLossCondition} : null"/>
			</block>
		</block>
	</block>
	<block className="StarEarnOrLoss">
		<style>
			<width value="26px"/>
			<height value="26px"/>
		</style>
		<block className="icon_star_earn_condition_small" type="native">
			<styleClass value="$MiddleVAligned"/>
			<bind name="gotoAndStop!" value=" starEarnCondition	? 1 
												: starLossCondition ? 2 
																	: null"/>
		</block>
	</block>
	<css name="$ItemListAchievementMargins">
		<marginBottom value="24px"/>
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$TextHeaderBigDefaultTech">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<block className="AchievementAppearAnimation">
		<bind name="appear" value="'addedToStage'; (_animationOn ? 0.15 : 0 ); (_animationOn ? (0.15 * $index + _delay) : 0); {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<style>
				<marginRight value="26px"/>
			</style>
			<bind name="instance" value="'AchievementIcon'; {_id: id, _amount: amount, _size: '56px', _progressWidth: '44px', _showProgress: true}"/>
		</block>
	</block>
	<block className="Achievement">
		<bind name="class" value="_isInItemList ? '$ItemListAchievementMargins' : '$None'"/>
		<block>
			<bind name="instance" value="'AchievementIcon'; {_id: id, _progressWidth: '50px', _amount: amount, _size: _iconSize ? _iconSize : '80px', _isDesaturated: (amount&gt;0 ? false : true), _isEarned:_isEarned, _showProgress: true}"/>
		</block>
	</block>
	<block className="EarnedAchievementsByPlayer">
		<style>
			<width value="100%"/>
		</style>
		<bind name="tooltip" value="'EarnedAchievementsByPlayerTooltip'; {_achievements: _achievements, _isSelfPlayer: _isSelfPlayer}"/>
		<block>
			<style>
				<width value="21px"/>
				<height value="21px"/>
				<position value="absolute"/>
				<marginLeft value="-2px"/>
				<marginTop value="-1px"/>
				<mouseChildren value="false"/>
				<mouseEnabled value="false"/>
				<backgroundStretchX value="true"/>
				<backgroundStretchY value="true"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../achievements/icons/icon_achievement.png'"/>
		</block>
	</block>
	<block className="EarnedAchievementsByPlayerTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="3px"/>
			</style>
			<block type="text">
				<styleClass value="$InfoBlockIndent"/>
				<style>
					<marginBottom value="7px"/>
				</style>
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontColorWhite'"/>
				<bind name="text" value="_isSelfPlayer ? tr('IDS_YOUR_ACHIEVEMENTS') : tr('IDS_PLAYERS_ACHIEVEMENTS')"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="11px"/>
				</style>
				<bind name="repeat" value="_achievements; 'AchievementIconWithTitle'"/>
			</block>
		</block>
	</block>
	<block className="AchievementIcon">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'achievements'; _id; 'achievement'"/>
		<bind name="style" value="'alpha'; _isDesaturated ? 0.75 : 1"/>
		<bind name="name" value="'AchievementWithCount_'+(_isEarned ? 'Earned_':'') + achievement.name"/>
		<block>
			<bind name="tooltip" value="'AchievementTooltip'; {_id: _id, _progressWidth: _progressWidth}"/>
			<bind name="style" value="'width'; _size ? _size : '80px' "/>
			<bind name="style" value="'height'; _size ? _size : '80px' "/>
			<style>
				<marginRight value="0px"/>
				<marginTop value="0px"/>
				<backgroundStretchX value="true"/>
				<backgroundStretchY value="true"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:' + (_isDesaturated ? achievement.imageDesURL : achievement.imageURL)"/>
			<block type="text">
				<bind name="visible" value="_amount &gt; 1 &amp;&amp; (achievement.multiple)"/>
				<style>
					<textAlign value="right"/>
					<position value="absolute"/>
					<bottom value="-7px"/>
					<right value="-5px"/>
				</style>
				<bind name="class" value="_isSmall ? '$TextDefaultWhite' : '$TextAccentBold'"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="class" value="'$FontColorWhite'"/>
				<bind name="text" value="'x'+_amount"/>
			</block>
		</block>
		<block>
			<bind name="tooltip" value="'SimpleTooltip';{tooltipText: tr('IDS_CURRENT_PROGRESS') + tr('IDS_COLON') + ' ' + format(achievement.condition.currentProgress, 0) + '/' + format(achievement.condition.max, 0)}"/>
			<bind name="visible" value="(achievement.condition.currentProgress &gt; 0) &amp;&amp; (achievement.condition.max &gt; 0) &amp;&amp; (_showProgress == true)"/>
			<styleClass value="$MiddleAligned"/>
			<bind name="style" value="'width'; _progressWidth ? _progressWidth : '30px' "/>
			<style>
				<marginTop value="3px"/>
			</style>
			<block className="indicator_progress_bar" type="native">
				<style>
					<width value="100%"/>
				</style>
				<bind name="value" value="(achievement.condition.progress)*10"/>
			</block>
		</block>
	</block>
	<block className="AchievementTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'achievements'; _id; 'achievement'"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="340px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="12px"/>
				<marginBottom value="0px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<marginLeft value="12px"/>
						<marginBottom value="12px"/>
					</style>
					<bind name="instance" value="'AchievementIcon'; {_id: _id, _amount: _amount, _progressWidth: _progressWidth}"/>
				</block>
				<block>
					<styleClass value="$InfoBlockHorizontalIndent"/>
					<style>
						<marginLeft value="10px"/>
						<marginTop value="-1px"/>
					</style>
					<block type="text">
						<styleClass value="$TextHeaderWhiteBold"/>
						<style>
							<width value="100%"/>
							<maxWidth value="222"/>
							<textAlign value="left"/>
						</style>
						<bind name="class" value="(achievement.amount &gt; 0) 	? '$FontColorGolden' 
															: '$FontColorWhite'"/>
						<bind name="text" value="achievement.nameIDS"/>
					</block>
					<block type="text">
						<styleClass value="$TextHeaderBigDefaultTech"/>
						<style>
							<marginTop value="-3px"/>
							<maxWidth value="220"/>
							<textAlign value="left"/>
						</style>
						<bind name="text" value="toLowerCase(tr(achievement.subtypeIDS))"/>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="0px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="((_amount == null) &amp;&amp; (achievement.amount &gt; 0)) &amp;&amp; (achievement.multiple)"/>
				<style>
					<width value="100%"/>
					<marginTop value="8px"/>
					<marginBottom value="8px"/>
				</style>
				<block type="text">
					<bind name="visible" value="(achievement.amount &gt; 1)"/>
					<styleClass value="$TextHeaderBigDefaultTech"/>
					<styleClass value="$InfoBlockHorizontalIndent"/>
					<style>
						<textAlign value="left"/>
					</style>
					<bind name="text" value="(tr('IDS_EARNED') + tr('IDS_COLON') + ' ' + achievement.amount)"/>
				</block>
				<block type="text">
					<styleClass value="$TextHeaderBigDefaultTech"/>
					<style>
						<marginLeft value="12px"/>
						<textAlign value="left"/>
					</style>
					<bind name="style" value="'marginBottom'; (achievement.achieveShip!=null) ? '1px' : '9px'"/>
					<bind name="text" value="((achievement.amount &gt; 1)	? (tr('IDS_LAST_TIME') +' '+ achievement.achieveTime)
														: (tr('IDS_EARNED') + tr('IDS_COLON') + ' ' + achievement.amount))"/>
				</block>
				<block>
					<bind name="visible" value="(achievement.achieveShip != 0)"/>
					<style>
						<width value="100%"/>
						<marginLeft value="12px"/>
					</style>
					<block type="text">
						<styleClass value="$TextHeaderBigDefaultTech"/>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<textAlign value="left"/>
						</style>
						<bind name="text" value="tr('IDS_ON_SHIP')+' '"/>
					</block>
					<block>
						<style>
							<marginTop value="-1px"/>
						</style>
						<bind name="instance" value="'ShipTitleWithIconAndLevel'; {_shipID: achievement.achieveShip}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block>
				<bind name="visible" value="((_amount == null) &amp;&amp; (achievement.amount &gt; 0)) &amp;&amp; (achievement.multiple)"/>
				<style>
					<width value="100%"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<style>
					<marginTop value="8px"/>
				</style>
				<block type="text">
					<styleClass value="$TextHeaderBigDefault"/>
					<style>
						<width value="100%"/>
						<textAlign value="left"/>
					</style>
					<bind name="text" value="achievement.condition.description"/>
				</block>
				<block>
					<bind name="visible" value="(achievement.condition.currentProgress &gt; 0) &amp;&amp; (achievement.condition.max &gt; 0)"/>
					<style>
						<marginTop value="18px"/>
						<width value="100%"/>
					</style>
					<block className="indicator_progress_bar" type="native">
						<style>
							<width value="100%"/>
						</style>
						<bind name="value" value="(achievement.condition.progress)*10"/>
					</block>
					<block type="text">
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$TextHeaderBigDefaultTech"/>
						<style>
							<marginTop value="6px"/>
						</style>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="tr('IDS_CURRENT_PROGRESS') + tr('IDS_COLON') + ' ' + format(achievement.condition.currentProgress, 0) + '/' + format(achievement.condition.max, 0)"/>
					</block>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="8px"/>
				</style>
				<block type="text">
					<styleClass value="$TextHeaderBigDefaultTech"/>
					<styleClass value="$InfoBlockHorizontalIndent"/>
					<bind name="style" value="'marginBottom'; achievement.hasReward ? '9px' : '12px'"/>
					<style>
						<textAlign value="left"/>
					</style>
					<bind name="text" value="achievement.multipleIDS"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="0px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="achievement.hasReward"/>
				<style>
					<width value="100%"/>
					<marginTop value="12px"/>
					<marginBottom value="12px"/>
				</style>
				<block className="icon_giftbox_small" type="native">
					<style>
						<marginLeft value="14px"/>
					</style>
				</block>
				<block>
					<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
					<style>
						<width value="258px"/>
						<marginTop value="-3px"/>
					</style>
					<block type="text">
						<styleClass value="$TextHeaderBigDefault"/>
						<style>
							<width value="100%"/>
							<textAlign value="left"/>
						</style>
						<bind name="text" value="achievement.rewardConditionIDS"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="AchievementIconWithTitle">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'achievements'; id; 'achievement'"/>
		<style>
			<width value="100%"/>
			<height value="44px"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="100%"/>
				<marginBottom value="9px"/>
				<marginLeft value="15px"/>
			</style>
			<block>
				<bind name="instance" value="'AchievementIcon'; {_id: id, _amount: amount , _size: '34px', _isSmall: true, _showProgress: _showProgress}"/>
			</block>
			<block type="text">
				<style>
					<marginLeft value="8px"/>
					<marginTop value="6px"/>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value=" _class ? _class: '$FontColorGolden'"/>
				<bind name="text" value="achievement.nameIDS"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="AchievementIconWithTitleForFlags">
		<style>
			<width value="100%"/>
		</style>
		<bind name="tooltip" value="'AchievementTooltip'; {_id: $value}"/>
		<bind name="instance" value="'AchievementIconWithTitle'; {id: $value, _class: '$FontColorWhite'}"/>
	</block>
	<block className="AchievementIconWithTitleForRewards">
		<style>
			<width value="100%"/>
		</style>
		<bind name="instance" value="'AchievementIconWithTitle'; { id: details.achievementId, amount: amount }"/>
	</block>
	<block className="MainTabSmallInstance">
		<block className="tab_bar_item_small" type="native">
			<bind name="name" value="'MainTabSmallInstance_' + _name"/>
			<bind name="style" value="'width'; (_width+'px')"/>
			<style>
				<height value="25px"/>
			</style>
			<bind name="selected" value="_selected"/>
			<bind name="dispatch" value="'buttonClick'; _event ? _event : null; _eventParams"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams"/>
			<bind name="label" value="toUpperCase(tr(_label))"/>
		</block>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _tooltipIDS}"/>
	</block>
	<css name="$QuestBar">
		<backgroundColor value="0xFF009999"/>
	</css>
	<block className="QuestDesc">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$TextDefault"/>
			<bind name="class" value="'$FontSizeLarge'"/>
			<bind name="text" value="_questdesc"/>
		</block>
	</block>
	<css name="$QuestBlockVMargins">
		<width value="100%"/>
		<marginBottom value="6px"/>
	</css>
	<css name="$SSEDescTextNormal">
		<mouseChildren value="false"/>
		<leading value="-3"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$SSEDescTextSubheader">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$SSEDescTextSubheaderSecondary">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<block className="QuestsSmallItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="name" value="'QuestsSmallItem_' + sseId"/>
		<bind name="watch" value="'activeStepInfo'; steps[activeStep]"/>
		<bind name="watch" value="'isLimitedPerDay'; activeStepInfo.limit&gt;0 &amp;&amp; activeStepInfo.isDaily"/>
		<bind name="watch" value="'isDoneForToday'; activeStepInfo.limit&gt;0 &amp;&amp; activeStepInfo.isDaily &amp;&amp; progress == 1"/>
		<bind name="watch" value="'isChallenge'; type == SSETypes.CHALLENGE"/>
		<bind name="var" value="{bgWidthSmall: (isChallenge ? 524 : 304)}"/>
		<bind name="var" value="{bgHeightSmall: (isChallenge ? 164 : 154)}"/>
		<bind name="style" value="'width'; (bgWidthSmall + 16) + 'px'"/>
		<bind name="style" value="'height'; (bgHeightSmall + 16) + 'px'"/>
		<bind name="request" value="'click'; 'showExtendedQuest'; {selectedIndex:$index, collectionName: type, sseId:sseId}"/>
		<bind name="soundSet" value="'quest_item'"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="style" value="'width'; bgWidthSmall + 'px'"/>
			<bind name="style" value="'height'; bgHeightSmall + 'px'"/>
			<block className="DropShadow">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$MouseDisable"/>
				<block className="drop_shadow" type="native">
					<styleClass value="$Fullsize"/>
					<style>
						<position value="absolute"/>
						<marginTop value="-2px"/>
						<marginRight value="-6px"/>
						<marginBottom value="-10px"/>
						<marginLeft value="-6px"/>
					</style>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: type == SSETypes.CHALLENGE ? 'IDS_HINT_OPEN_CHALLENGE' : 'IDS_HINT_OPEN_TASK' }], _maxWidth: 240 }"/>
				<block className="hint_panel" type="native">
					<bind name="transition" value="rollOver; 0.15; {alpha: 0}; {alpha: 1}"/>
					<styleClass value="$Fullsize"/>
					<style>
						<position value="absolute"/>
						<marginTop value="-1px"/>
						<marginBottom value="-1px"/>
						<marginLeft value="-1px"/>
						<marginRight value="-1px"/>
					</style>
				</block>
				<block>
					<styleClass value="$Fullsize"/>
					<style>
						<position value="absolute"/>
						<backgroundSize value="cover"/>
					</style>
					<bind name="style" value="'backgroundImage'; 'url:' + backgroundURL"/>
				</block>
				<block className="shadow_h_zero_edge_fullsize" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$MouseDisable"/>
					<bind name="instance" value="'QuestHeaderWithProgress'; { _isQuestHasLimitedAmount: isLimitedPerDay, _isDoneForToday: isDoneForToday, _numberOfQuestsGeneral: activeStepInfo.limit, titleText: titleText, progress: progress, inOneBattle: inOneBattle, peculiarity: peculiarity}"/>
				</block>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<top value="4px"/>
					<left value="4px"/>
				</style>
				<block>
					<bind name="visible" value="isLimitedPerDay == true"/>
					<style>
						<marginBottom value="12px"/>
					</style>
					<bind name="instance" value="'QuestLimitedExecution'; isLimitedPerDay ? { _numberOfQuestsGeneral: activeStepInfo.limit, _numberOfQuestsDone: activeStepInfo.count } : null"/>
				</block>
				<block>
					<bind name="visible" value="peculiarity != 'default'"/>
					<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_' + toUpperCase(type) + (peculiarity != 'default' ? '_' + toUpperCase(peculiarity) : '')}"/>
					<bind name="class" value="isLimitedPerDay ? '$MiddleAligned' : '$None'"/>
					<block className="icon_quest_peculiarity" type="native">
						<bind name="gotoAndStop!" value="peculiarity"/>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="isChallenge"/>
				<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_HINT_CHALLENGE_LIFETIME'}"/>
				<style>
					<marginLeft value="9px"/>
					<bottom value="3"/>
				</style>
				<block type="text">
					<styleClass value="$TextHeaderHugeWhite"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="startDate + ' ' +  '' + ' ' + stopDate"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="transition" value="rollOver; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: 10}; 2"/>
			<style>
				<right value="14px"/>
				<bottom value="14px"/>
				<position value="absolute"/>
			</style>
			<bind name="instance" value="'RewardContainer'; {	_rewards: rewards, _rewardsSpecial: rewardsSpecial,
												_tooltipHeader: (isChallenge	? 'IDS_REWARD_FOR_FINISHING_CHALLENGE'
																				: 'IDS_REWARD_FOR_FINISHING_TASK'),
												_scale: 0.5}"/>
		</block>
	</block>
	<block className="QuestsLargeItem">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="collectionDH" value="CC.ownShip; 'shipsInFormation'; 'shipsInFormation'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerQuests"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'accountResourceLockUpdate'"/>
		<bind name="name" value="'QuestsLargeItem_' + sseId"/>
		<style>
			<width value="1px"/>
			<height value="440px"/>
			<marginTop value="1px"/>
			<marginLeft value="1px"/>
		</style>
		<bind name="watch" value="'isChallenge'; type == SSETypes.CHALLENGE"/>
		<bind name="watch" value="'activeStepInfo'; steps[activeStep]"/>
		<bind name="watch" value="'isLimitedPerDay'; activeStepInfo.limit &gt; 0 &amp;&amp; activeStepInfo.isDaily"/>
		<bind name="watch" value="'isDoneForToday'; activeStepInfo.limit &gt; 0 &amp;&amp; activeStepInfo.isDaily &amp;&amp; progress == 1 &amp;&amp; (activeStepInfo.limit == activeStepInfo.count)"/>
		<bind name="style" value="'width'; _itemWidth + 'px'"/>
		<bind name="transition" value="($index == currentSelectedIndex) || rollOver; 0.2; {alpha: 0.8}; {alpha: 1}"/>
		<bind name="dispatch" value="'click'; 'changeSelectedIndex'; {currentSelectedIndex: $index}"/>
		<bind name="soundSet" value="'quest_item'"/>
		<block>
			<bind name="visible" value="!inQuestWindow"/>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="1px"/>
				<height value="430px"/>
			</style>
			<bind name="style" value="'alpha'; isDoneForToday ? 0.6 : 1"/>
			<bind name="transition" value="($index == currentSelectedIndex); 0.1; {width: (_itemWidth - 16), height: 430}; {width: _itemWidth, height: 440}"/>
			<block className="DropShadow">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$MouseDisable"/>
				<block className="drop_shadow" type="native">
					<styleClass value="$Fullsize"/>
					<style>
						<position value="absolute"/>
						<marginTop value="-2px"/>
						<marginRight value="-6px"/>
						<marginBottom value="-10px"/>
						<marginLeft value="-6px"/>
					</style>
				</block>
			</block>
			<block className="hint_panel" type="native">
				<bind name="transition" value="rollOver; 0.15; {alpha: 0}; {alpha: 1}"/>
				<styleClass value="$Fullsize"/>
				<style>
					<position value="absolute"/>
					<marginTop value="-1px"/>
					<marginBottom value="-1px"/>
					<marginLeft value="-1px"/>
					<marginRight value="-1px"/>
				</style>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<backgroundSize value="cover"/>
					<alpha value="0.9"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + backgroundURL"/>
			</block>
			<block className="quest_thumb_title" type="native">
				<styleClass value="$Fullsize"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<height value="128px"/>
				</style>
				<bind name="transition" value="($index == currentSelectedIndex); 0.1; {height: 128}; {height: 150}"/>
				<block>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<backgroundSize value="cover"/>
					</style>
					<bind name="style" value="'backgroundImage'; 'url:' + backgroundURL"/>
				</block>
				<block className="shadow_h_zero_edge_fullsize" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'QuestHeaderWithProgress'; {_isQuestHasLimitedAmount: isLimitedPerDay, _isDoneForToday: isDoneForToday, _numberOfQuestsGeneral: activeStepInfo.limit, titleText: titleText, progress: _doneThisBattle ? 1 : progress, inOneBattle: inOneBattle, peculiarity: peculiarity}"/>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<top value="4px"/>
						<left value="4px"/>
					</style>
					<block>
						<bind name="visible" value="isLimitedPerDay == true"/>
						<style>
							<marginBottom value="12px"/>
						</style>
						<bind name="instance" value="'QuestLimitedExecution'; isLimitedPerDay ? { _numberOfQuestsGeneral: activeStepInfo.limit, _numberOfQuestsDone: activeStepInfo.count } : null"/>
					</block>
					<block>
						<bind name="visible" value="peculiarity != 'default'"/>
						<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_' + toUpperCase(type) + (peculiarity != 'default' ? '_' + toUpperCase(peculiarity) : '')}"/>
						<bind name="class" value="isLimitedPerDay ? '$MiddleAligned' : '$None'"/>
						<block className="icon_quest_peculiarity" type="native">
							<bind name="gotoAndStop!" value="peculiarity"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="6px"/>
						<marginLeft value="9px"/>
					</style>
					<bind name="visible" value="isChallenge"/>
					<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_HINT_CHALLENGE_LIFETIME'}"/>
					<block type="text">
						<styleClass value="$TextHeaderHugeWhite"/>
						<bind name="class" value="'$Bold'"/>
						<bind name="text" value="startDate + ' ' +  '' + ' ' + stopDate"/>
					</block>
				</block>
				<block>
					<style>
						<right value="6"/>
						<bottom value="6"/>
						<position value="absolute"/>
					</style>
					<bind name="instance" value="'RewardContainer'; {_rewards: rewards, _rewardsSpecial: rewardsSpecial,
													_tooltipHeader: (isChallenge ?	'IDS_REWARD_FOR_FINISHING_CHALLENGE' :
																					'IDS_REWARD_FOR_FINISHING_TASK'),
													_scale: 0.5}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<style>
					<height value="100%"/>
				</style>
				<block>
					<styleClass value="$QuestBlockVMargins"/>
					<bind name="visible" value="steps.length &gt; 1"/>
					<bind name="watch" value="'stepProgressBarWidthSelected'; (_itemWidth - (24 + (steps.length - 1) * 3)) / steps.length"/>
					<bind name="watch" value="'stepProgressBarWidth'; (_itemWidth -16 - (24 + (steps.length - 1) * 3)) / steps.length"/>
					<block>
						<block type="text">
							<styleClass value="$SSEDescTextSubheader"/>
							<bind name="text" value="tr('IDS_STEP') + ' ' +  (activeStep + 1) + '/' + steps.length"/>
						</block>
						<block>
							<bind name="visible" value="(activeStepInfo.rewards.length + activeStepInfo.rewardsSpecial.length) &gt; 0	"/>
							<style>
								<marginLeft value="7px"/>
								<marginTop value="-3px"/>
								<marginBottom value="3px"/>
								<alpha value="0.9"/>
							</style>
							<bind name="instance" value="'RewardContainer'; (activeStepInfo.rewards.length + activeStepInfo.rewardsSpecial.length) &gt; 0	?	{	_rewards: activeStepInfo.rewards,
																																				_rewardsSpecial: activeStepInfo.rewardsSpecial,
																																				_tooltipHeader: 'IDS_REWARD_FOR_FINISHING_STEP', _scale: 0.3}
																																		: null"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block>
						<style>
							<marginBottom value="-3px"/>
						</style>
						<bind name="repeat" value="steps; 'StepProgressItem'; {	_steps: steps, _selected: ($index == currentSelectedIndex),
																_stepProgressBarWidth: stepProgressBarWidth,
																_stepProgressBarWidthSelected: stepProgressBarWidthSelected}"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
				<block>
					<style>
						<marginBottom value="4px"/>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'QuestStepDescription'; {_step: activeStepInfo, _doneThisBattle: _doneThisBattle, _isDoneForToday: isDoneForToday}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="visible" value="activeStepInfo.technoIds != '' || activeStepInfo.linkedTasks.length &gt; 0"/>
					<styleClass value="$QuestBlockVMargins"/>
					<block type="text">
						<styleClass value="$SSEDescTextSubheaderSecondary"/>
						<text value="IDS_QUEST_START_CONDITIONS"/>
					</block>
					<block>
						<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: (isChallenge ? 'IDS_HINT_CHALLENGE_TECHNO_CONDITION' : 'IDS_HINT_BATTLE_TASK_TECHNO_CONDITION')}"/>
						<style>
							<width value="100%"/>
							<marginLeft value="15px"/>
						</style>
						<block type="text">
							<bind name="visible" value="activeStepInfo.technoIds != ''"/>
							<styleClass value="$TextHeader"/>
							<style>
								<width value="100%"/>
								<leading value="-3"/>
								<marginTop value="-2px"/>
							</style>
							<bind name="text" value="activeStepInfo.technoIds"/>
						</block>
					</block>
					<block>
						<style>
							<width value="100%"/>
							<marginLeft value="15px"/>
						</style>
						<bind name="repeat" value="activeStepInfo.linkedTasks; 'QuestLinkedTaskItem'"/>
					</block>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="-3px"/>
						<alpha value="0.9"/>
					</style>
					<bind name="visible" value="!isChallenge"/>
					<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_HINT_BATTLE_TASK_LIFETIME'}"/>
					<block type="text">
						<styleClass value="$SSEDescTextSubheaderSecondary"/>
						<bind name="text" value="tr('IDS_EXPIRE_DATE') + ' ' + stopDate"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<position value="absolute"/>
					<bottom value="-35px"/>
				</style>
				<block>
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
					<bind name="fade" value="$index == currentSelectedIndex &amp;&amp; inQuestWindow &amp;&amp; !(isDoneForToday); 0.2; {alpha: 0, top: 15}; {alpha: 1, top: 0}"/>
					<bind name="watch" value="'battleTypeForQuest'; activeStepInfo.battleType ? activeStepInfo.battleType
																				: ((dockDefaultValues.battleType == BattleTypes.RANKED_BATTLE) &amp;&amp; rankedBattlesSeason.denyReason)	? BattleTypes.RANDOM_BATTLE
																				: (dockDefaultValues.battleType == BattleTypes.CLUB_BATTLE) ? BattleTypes.RANDOM_BATTLE : dockDefaultValues.battleType"/>
					<bind name="watch" value="'startButtonEnabled';	activeStepInfo.linkedTasksCompleted &amp;&amp;
													readyToBattle &amp;&amp;
													(shipId != -1 &amp;&amp; playerShipInfo.crewId != 0 &amp;&amp; shipInfoSlim.isDownloaded) &amp;&amp;
													((playerShipInfo.isReady &amp;&amp; !(divisionData.divisionExist)) || (divisionData.isCommander &amp;&amp; divisionData.startBattleAvailable &amp;&amp; divisionData.isReady)) &amp;&amp;
													!(activeStepInfo.battleType == BattleTypes.RANKED_BATTLE &amp;&amp; divisionData.divisionExist) &amp;&amp; !(divisionData.divisionExist &amp;&amp; divisionEntranceData.divisionType == 'party')"/>
					<bind name="watch" value="'specialDenyReason';	!(activeStepInfo.linkedTasksCompleted) ? 'IDS_COMPLETE_LINKED_TASKS_FIRST' :
                							        !(shipInfoSlim.isDownloaded) ? 'IDS_CONTINUE_DOWNLOADING_HINT' :
													(!(divisionData.divisionExist) &amp;&amp; activeStepInfo.isInDivision)					
													? 'IDS_STARTBATTLE_LOCK_REASON_NOT_IN_DIVISION' :
													((activeStepInfo.battleType != BattleTypes.RANKED_BATTLE) &amp;&amp; !(readyToBattle))	? 'IDS_STARTBATTLE_LOCK_REASON_WRONG_SHIP'
																																	: ''"/>
					<bind name="tooltip" value="'StartBattleTooltip'; ( shipId &gt; 0 ) 	? {	_shipID: shipsInFormation.length &gt; 0	? shipsInFormation[0].shipId : shipId,
																							_battleType: battleTypeForQuest,
																							_instructionType: 'left',
																							_buttonDisabled: !(startButtonEnabled),
																							_specialDenyReason: specialDenyReason
																						}
																						: null"/>
					<bind name="instance" value="'ButtonSpecial'; {	_enabled: startButtonEnabled, 
													_action: (accountResourceInfo.operationsLocked ? null : 'startBattleSSE'), 
													_name: 'StartQuestButton',
													_actionParams: {battleType: battleTypeForQuest},
													_label: (progress &gt; 0 &amp;&amp; !inOneBattle 	? isChallenge 	? toUpperCase(tr('IDS_CONTINUE_QUEST')) 
																											: toUpperCase(tr('IDS_CONTINUE_DAILY_TICKET'))
																							: toUpperCase(tr('IDS_START_BATTLE')))}"/>
				</block>
				<block>
					<bind name="fade" value="($index == currentSelectedIndex &amp;&amp; inQuestWindow &amp;&amp; isDoneForToday); 0.15; {alpha: 0, top: 15}; {alpha: 1, top: 0}; {alpha: 0, top: 15}"/>
					<block type="text">
						<styleClass value="$TextDefaultTech"/>
						<style>
							<maxWidth value="250"/>
							<marginTop value="9px"/>
							<leading value="-3"/>
							<textAlign value="center"/>
						</style>
						<text value="IDS_QUEST_LIMITED_EXECUTION_DONE"/>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="StepProgressItem">
		<bind name="style" value="'width'; _stepProgressBarWidth+'px'"/>
		<bind name="style" value="'marginLeft'; $index &gt; 0 ? '3px' : '0px'"/>
		<bind name="transition" value="_selected &amp;&amp; _stepProgressBarWidth; 0.1; {width: _stepProgressBarWidth}; {width: _stepProgressBarWidthSelected}"/>
		<block>
			<style>
				<height value="12px"/>
				<width value="100%"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="tooltip" value="'QuestStepDescriptionTooltip'; { _step: _steps[$index], _tooltipStep: $index + 1, _totalSteps: _steps.length }"/>
			<block className="indicator_progress_bar" type="native">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="value" value="_steps[$index].progress * 10"/>
			</block>
		</block>
	</block>
	<block className="QuestStepDescriptionTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<position value="absolute"/>
			</style>
			<styleClass value="$Fullsize"/>
		</block>
		<block>
			<style>
				<width value="280px"/>
			</style>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$SSEDescTextSubheader"/>
				<bind name="text" value="tr('IDS_STEP') + ' ' +  _tooltipStep + '/' + _totalSteps"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'QuestStepDescription'; {_step: _step}"/>
			</block>
		</block>
	</block>
	<block className="QuestStepDescription">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<bind name="visible" value="_step.precondIds"/>
			<styleClass value="$SSEDescTextNormal"/>
			<style>
				<width value="100%"/>
				<marginBottom value="3px"/>
			</style>
			<bind name="text" value="_step.precondIds"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'marginLeft'; _step.precondIds ? '15px' : '0px'"/>
			<bind name="repeat" value="_step.conditionSet; 'QuestConditionWithProgressItem'; { _inOneBattle: _step.inOneBattle, _doneThisBattle: _doneThisBattle, _isDoneForToday: _isDoneForToday} "/>
		</block>
		<block type="text">
			<bind name="visible" value="_step.addcondIds"/>
			<styleClass value="$SSEDescTextNormal"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="text" value="_step.addcondIds"/>
		</block>
	</block>
	<block className="QuestConditionWithProgressItem">
		<style>
			<width value="100%"/>
			<marginBottom value="2px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<bind name="watch" value="'showProgressBar'; maxProgress &amp;&amp; !_inOneBattle &amp;&amp; (currentProgress &gt; 0)"/>
		<bind name="tooltip" value="'SimpleTooltip'; showProgressBar ? {tooltipText: (tr('IDS_CURRENT_PROGRESS') + tr('IDS_COLON') + ' ' + currentProgress + '/' + maxProgress)} : null "/>
		<block type="text">
			<styleClass value="$SSEDescTextNormal"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'marginBottom'; showProgressBar ? '3px' : '0px'"/>
			<bind name="text" value="ids"/>
		</block>
		<block>
			<bind name="visible" value="showProgressBar &amp;&amp; !(_isDoneForToday)"/>
			<style>
				<width value="100%"/>
				<marginBottom value="3px"/>
			</style>
			<block className="indicator_progress_bar" type="native">
				<style>
					<width value="100%"/>
				</style>
				<bind name="value" value="_doneThisBattle ? 10 : (currentProgress/maxProgress)*10"/>
			</block>
		</block>
	</block>
	<block className="QuestHeaderWithProgress">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<bind name="visible" value="!(inOneBattle) &amp;&amp; !(_isDoneForToday)"/>
			<styleClass value="$QuestBar"/>
			<style>
				<position value="absolute"/>
				<width value="0px"/>
				<height value="100%"/>
			</style>
			<bind name="style" value="'width'; progress * 100 + '%'"/>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginRight value="10px"/>
				<marginBottom value="10px"/>
				<marginTop value="4px"/>
			</style>
			<bind name="style" value="'marginLeft';  peculiarity != 'default' ? '38px'
									: ((_isQuestHasLimitedAmount) &amp;&amp; (_numberOfQuestsGeneral &lt;= 9)) ? '42px'
									: ((_isQuestHasLimitedAmount) &amp;&amp; (_numberOfQuestsGeneral &gt;  9)) ? '52px'
									: '10px'"/>
			<styleClass value="$TextLargeHeaderBold"/>
			<bind name="text" value="titleText"/>
		</block>
	</block>
	<block className="QuestLinkedTaskItem">
		<style>
			<width value="100%"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<bind name="tooltip" value="'SSETaskTooltip'; type == SSETypes.TASK ? { _id: id, _isDone: isDone } : null; 0"/>
		<bind name="tooltip" value="'SSEChallengeTooltip'; type == SSETypes.CHALLENGE ? { _id: id, _isDone: isDone } : null; 0"/>
		<block>
			<bind name="visible" value="isDone"/>
			<style>
				<backgroundImage value="symbol:checkbox_check"/>
				<position value="absolute"/>
				<width value="20px"/>
				<height value="20px"/>
				<left value="-18px"/>
				<top value="4px"/>
			</style>
		</block>
		<block type="text">
			<styleClass value="$SSEDescTextNormal"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'alpha'; isDone ? '0.7' : '1'"/>
			<bind name="text" value="ids"/>
		</block>
	</block>
	<block className="QuestLimitedExecution">
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 	( _numberOfQuestsDone == _numberOfQuestsGeneral) ? 'IDS_QUEST_LIMITED_EXECUTION_DONE' 
													: _numberOfQuestsDone &gt; 0 ? subst('IDS_QUEST_LIMITED_EXECUTION_START', [], {_numberOfQuestsGeneral: _numberOfQuestsGeneral, _numberOfQuestsDone: _numberOfQuestsDone}, _numberOfQuestsDone)
													: _numberOfQuestsDone == 0 ? subst('IDS_QUEST_LIMITED_EXECUTION', [], {_numberOfQuestsGeneral: _numberOfQuestsGeneral}, _numberOfQuestsGeneral)
													: ''}"/>
		<block className="icon_quest_challenge" type="native">
			<style>
				<position value="absolute"/>
				<height value="32px"/>
			</style>
			<bind name="gotoAndStop!" value="1"/>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultWhite"/>
			<style>
				<marginLeft value="7px"/>
				<marginRight value="7px"/>
				<top value="4px"/>
				<styleSheet value="h3 {
					font-family: $WWSDefaultFontBold;
				}
				"/>
			</style>
			<bind name="text" value="'&lt;body&gt;' + _numberOfQuestsDone + '/' + '&lt;h3&gt;' + _numberOfQuestsGeneral + '&lt;/h3&gt;&lt;/body&gt;'"/>
		</block>
	</block>
	<block className="PostBattleSSEQuestTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'SSECompleted'; 'sseId'; _id; 'questItems'"/>
		<bind name="instance" value="'QuestsLargeItem'; questItems[0] != null ? {
											backgroundURL: questItems[0].backgroundURL,
											titleText: questItems[0].titleText,
											progress: questItems[0].progress,
											inOneBattle: questItems[0].inOneBattle,
											startDate: questItems[0].startDate,
											stopDate: questItems[0].stopDate,
											steps: questItems[0].steps,
											activeStep: questItems[0].currentStep &gt;= 0 ? questItems[0].currentStep : 0,
											peculiarity: questItems[0].peculiarity,
											type: _type,
											_doneThisBattle: _doneThisBattle,
											_itemWidth: _type == SSETypes.CHALLENGE ? 416 : 346
											} : null"/>
	</block>
	<block className="SSETaskTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'tasks'; 'sseId'; _id; 'tasksCollection'"/>
		<bind name="instance" value="'QuestsLargeItem'; tasksCollection[0] != null ? {
											backgroundURL: tasksCollection[0].backgroundURL,
											titleText: tasksCollection[0].titleText,
											progress: tasksCollection[0].progress,
											inOneBattle: tasksCollection[0].inOneBattle,
											startDate: tasksCollection[0].startDate,
											stopDate: tasksCollection[0].stopDate,
											steps: tasksCollection[0].steps,
											activeStep: tasksCollection[0].currentStep &gt;= 0 ? tasksCollection[0].currentStep : 0,
											peculiarity: tasksCollection[0].peculiarity,
											type: SSETypes.TASK,
											_doneThisBattle: _isDone,
											_itemWidth: 346
											} : null"/>
	</block>
	<block className="SSEChallengeTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'challenges'; 'sseId'; _id; 'challengesCollection'"/>
		<bind name="instance" value="'QuestsLargeItem'; challengesCollection[0] != null ? {
											backgroundURL: challengesCollection[0].backgroundURL,
											titleText: challengesCollection[0].titleText,
											progress: challengesCollection[0].progress,
											inOneBattle: challengesCollection[0].inOneBattle,
											startDate: challengesCollection[0].startDate,
											stopDate: challengesCollection[0].stopDate,
											steps: challengesCollection[0].steps,
											activeStep: challengesCollection[0].currentStep &gt;= 0 ? challengesCollection[0].currentStep : 0,
											peculiarity: challengesCollection[0].peculiarity,
											type: SSETypes.CHALLENGE,
											_doneThisBattle: _isDone,
											_itemWidth: 416
											} : null"/>
	</block>
	<block className="DetailedReportSection">
		<styleClass value="$FullsizeAbsolute"/>
		<bind name="dispatch" value="'addedToStage'; startShow ? null : 'showEv'; {}; false; 0.17"/>
		<bind name="catch" value="'showEv'; {startShow: true}"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'RealDetailedReportSection'; startShow ? _data : null"/>
		</block>
		<block type="text">
			<bind name="appear" value="startShow ? 'nullEvent' : 'addedToStage'; 0.15; 0.02; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'statsLoaded'; 0.15; 0.1; {alpha: 1, top: 0}; {alpha: 0, top: 10}"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextAccentBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<top value="33%"/>
				<hitTest value="false"/>
			</style>
			<bind name="text" value="toUpperCase(tr('IDS_WAITING_SCREEN_LOADING_DATA'))"/>
		</block>
	</block>
	<block className="RealDetailedReportSection">
		<bind name="dispatch" value="'addedToStage'; loaded ? 'showFast' : null; {}; false"/>
		<bind name="dispatch" value="'addedToStage'; loaded ? null : 'statsLoaded'; {}; false; 0"/>
		<bind name="catch" value="'statsLoaded'; {loaded: true}"/>
		<bind name="appear" value="'showFast'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'statsLoaded'; 0.15; 0.4; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="primaryEntityDH" value="'battleResultsDH'; CC.battleResultsComponent; game_data.arena_id"/>
		<bind name="stageSize"/>
		<style>
			<width value="100%"/>
			<alpha value="0"/>
		</style>
		<bind name="style" value="'height'; (_PBSHeight + 'px')"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'marginBottom'; 10 + (stageHeight - 720) * 0.04"/>
			<bind name="entityDH" value="'shipsInteractionsEntity'; battleResultsDH.battleResultsStructured.interactions[0]"/>
			<bind name="entityDH" value="'buildingInteractionsEntity'; battleResultsDH.battleResultsStructured.buildingInteractions[0]"/>
			<bind name="instance" value="'BattleStatsInteractionsCarousel'; ((	shipsInteractionsEntity.battleResultsEntry.children.length +
																buildingInteractionsEntity.battleResultsEntry.children.length) &gt; 0)	? {	_shipsInteractionsEntity: shipsInteractionsEntity,
																																		_buildingInteractionsEntity: buildingInteractionsEntity,
																																		_PBSWidth: _PBSWidth}
																																	: null"/>
		</block>
		<bind name="watch" value="'columnWidth'; ((_PBSWidth - 6) / 3) + 'px'"/>
		<block>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<height value="100%"/>
				<overflow value="scroll"/>
			</style>
			<block>
				<block>
					<bind name="style" value="'width'; columnWidth"/>
					<bind name="instance" value="'BattleStatsDetailedReportColumn'; {_list: battleResultsDH.battleResultsStructured.causedDamage}"/>
				</block>
				<block>
					<style>
						<marginLeft value="3px"/>
						<marginRight value="3px"/>
					</style>
					<bind name="style" value="'width'; columnWidth"/>
					<bind name="instance" value="'BattleStatsDetailedReportColumn'; {_list: battleResultsDH.battleResultsStructured.generalInfo}"/>
				</block>
				<block>
					<bind name="style" value="'width'; columnWidth"/>
					<bind name="instance" value="'BattleStatsDetailedReportColumn'; {_list: battleResultsDH.battleResultsStructured.takenDamage, _battleResultsDH: battleResultsDH}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
	</block>
	<block className="BattleStatsDetailedReportColumn">
		<style>
			<width value="100%"/>
		</style>
		<block className="inner_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_list; 'BattleStatsDetailedReportRow'; {_childrenLength: _entity.battleResultsEntry.children.length, _battleResultsDH: _battleResultsDH}"/>
		</block>
	</block>
	<block className="BattleStatsDetailedReportRow">
		<bind name="entityDH" value="'entity'; $value"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="style" value="'marginTop';	entity.battleResultsEntry.type == 2 &amp;&amp; $index == 0		?	'5px'
																									:	'0px'"/>
		<bind name="style" value="'marginBottom';	entity.battleResultsEntry.type == 3 &amp;&amp;
									(($index + 1) == _childrenLength)						? '12px' :
									entity.battleResultsEntry.type == 2 &amp;&amp;
									(($index + 1) == _childrenLength)	&amp;&amp;
									!(entity.battleResultsEntry.children.length)			? '12px'
 																							: '0px'"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="child" value="entity.battleResultsEntry.type ? entity.battleResultsEntry.type
													: 'no_item';
													{	_entity: entity,
														_battleResultsDH: _battleResultsDH}; {	0		: 'BattleStatsDetailedReportHeader',
																								1	: 'BattleStatsDetailedReportSubHeader',
																								2			: 'BattleStatsDetailedReportLine',
																								3		: 'BattleStatsDetailedReportSubLine',
																								4			: 'BattleStatsDetailedReportList',
																								12	: 'BattleStatsDetailedReportEmptyLine',
																								5		: 'BattleStatsDetailedReportTotalLine',
																								no_item				: 'EmptyItem'}"/>
		</block>
	</block>
	<block className="BattleStatsDetailedReportEmptyLine">
		<style>
			<width value="100%"/>
			<height value="3px"/>
		</style>
	</block>
	<block className="BattleStatsDetailedReportHeader">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<height value="30px"/>
				<width value="100%"/>
			</style>
			<block className="battle_stats_backgrounds" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="gotoAndStop!" value="_entity.battleResultsEntry.bgColor"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="-1px"/>
				</style>
				<bind name="instance" value="'BattleStatsDetailedReportRowItem'; {	_entity :			_entity,																	
																	_labelClass :		'$TextLargeHeaderBold',
																	_valueSizeClass :	'$FontSizeHeader5'}"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_entity.battleResultsEntry.children; 'BattleStatsDetailedReportRow'; {_childrenLength: _entity.battleResultsEntry.children.length, _battleResultsDH: _battleResultsDH}"/>
		</block>
	</block>
	<block className="BattleStatsDetailedReportSubHeader">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<height value="30px"/>
				<width value="100%"/>
			</style>
			<block className="battle_stats_backgrounds" type="native">
				<bind name="visible" value="_entity.battleResultsEntry.bgColor != null"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="gotoAndStop!" value="_entity.battleResultsEntry.bgColor"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'BattleStatsDetailedReportRowItem'; {_entity : 			_entity,
																_battleResultsDH :	_battleResultsDH,
																_labelClass : 		'$TextHeaderWhiteBold',
																_valueSizeClass :	'$FontSizeHeader6'}"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_entity.battleResultsEntry.children; 'BattleStatsDetailedReportRow'; {_childrenLength: _entity.battleResultsEntry.children.length}"/>
		</block>
	</block>
	<block className="BattleStatsDetailedReportList">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<flow value="htile"/>
				<align value="center"/>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_entity.battleResultsEntry.children; 'BattleStatsDetailedReportListItem'"/>
		</block>
	</block>
	<block className="BattleStatsDetailedReportLine">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'BattleStatsDetailedReportRowItem'; {_entity: _entity, _labelClass: '$TextDefaultBold', _valueSizeClass: '$FontSizeDefault'}"/>
			</block>
			<block>
				<styleClass value="$InfoBlockHorizontalIndent"/>
				<style>
					<marginTop value="-3px"/>
					<alpha value="0.5"/>
				</style>
				<block className="DottedLine">
					<style>
						<backgroundImage value="symbol:dotted_line"/>
						<backgroundRepeatX value="true"/>
						<width value="100%"/>
						<height value="1px"/>
						<alpha value="0.5"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_entity.battleResultsEntry.children; 'BattleStatsDetailedReportRow'; {_childrenLength: _entity.battleResultsEntry.children.length}"/>
		</block>
	</block>
	<block className="BattleStatsDetailedReportListItem">
		<bind name="entityDH" value="'entity'; $value"/>
		<bind name="child" value="entity.battleResultsEntry.type ? entity.battleResultsEntry.type
												: 'no_item'; {	_entity: entity}; {	6		: 'BattleStatsDetailedReportListPlaneItem',
																					7	: 'BattleStatsDetailedReportListModuleItem',
																					8	: 'BattleStatsDetailedReportListModuleItem',
																					no_item				: 'EmptyItem'}"/>
	</block>
	<block className="BattleStatsDetailedReportListModuleItem">
		<bind name="watch" value="'isKilled'; (_entity.battleResultsEntry.type == 8)"/>
		<bind name="tooltip" value="'ListItemTooltip'; {	_entity: _entity}"/>
		<style>
			<width value="61px"/>
			<height value="60px"/>
		</style>
		<block>
			<style>
				<marginLeft value="4px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block>
				<bind name="instance" value="'PBSModuleIconWithAmount'; {_isKilled: isKilled, _moduleType: _entity.battleResultsEntry.values[0].type,
														_amount: _entity.battleResultsEntry.values[0].value}"/>
			</block>
		</block>
	</block>
	<block className="BattleStatsDetailedReportListPlaneItem">
		<style>
			<width value="61px"/>
			<height value="45px"/>
		</style>
		<bind name="tooltip" value="'ListItemTooltip'; {	_entity: _entity}"/>
		<block>
			<style>
				<marginLeft value="10px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block>
				<bind name="instance" value="'PBSPlaneIconWithAmount'; {	_planeType: _entity.battleResultsEntry.values[0].type,
														_amount: _entity.battleResultsEntry.values[0].value}"/>
			</block>
		</block>
	</block>
	<block className="PBSPlaneIconWithAmount">
		<style>
			<width value="25px"/>
			<height value="25px"/>
			<backgroundStretchX value="true"/>
			<backgroundStretchY value="true"/>
		</style>
		<bind name="style" value="'backgroundImage'; ('symbol:icon_stat_' + _planeType)"/>
		<block type="text">
			<style>
				<position value="absolute"/>
				<top value="4px"/>
				<marginLeft value="24px"/>
			</style>
			<styleClass value="$TextHeaderWhiteBold"/>
			<bind name="text" value="_amount"/>
		</block>
	</block>
	<block className="PBSModuleIconWithAmount">
		<block className="lesta.controls.BitmapEx" type="native">
			<bind name="bitmapDataClassName" value="'icon_module_' + _moduleType + (_isKilled ? '_3' : '_2')"/>
		</block>
		<block type="text">
			<style>
				<position value="absolute"/>
				<top value="21px"/>
				<marginLeft value="35px"/>
			</style>
			<styleClass value="$TextHeaderWhiteBold"/>
			<bind name="text" value="_amount"/>
		</block>
	</block>
	<block className="ListItemTooltip">
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<style>
			<width value="322px"/>
		</style>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<height value="64px"/>
				</style>
				<block>
					<style>
						<width value="64px"/>
						<height value="64px"/>
					</style>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<styleClass value="$MiddleAligned"/>
						<bind name="watch" value="'isModuleKilled'; (_entity.battleResultsEntry.type == 8)"/>
						<bind name="child" value="_entity.battleResultsEntry.type ? _entity.battleResultsEntry.type
																 : 'no_item'; {	_planeType: _entity.battleResultsEntry.values[0].type,
																				_moduleType: _entity.battleResultsEntry.values[0].type,
																				_amount: _entity.battleResultsEntry.values[0].value,
																				_isKilled: isModuleKilled};		 {	6		: 'PBSPlaneIconWithAmount',
																													7	: 'PBSModuleIconWithAmount',
																													8	: 'PBSModuleIconWithAmount',
																													no_item				: 'EmptyItem'}"/>
					</block>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="10px"/>
					</style>
					<block type="text">
						<styleClass value="$TextHeaderWhiteBold"/>
						<bind name="text" value="_entity.battleResultsEntry.subtitle"/>
					</block>
					<block type="text">
						<styleClass value="$TextHeaderBigDefault"/>
						<style>
							<marginTop value="-4px"/>
							<alpha value="0.9"/>
						</style>
						<bind name="text" value="_entity.battleResultsEntry.title"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="_entity.battleResultsEntry.children.length &gt; 0"/>
					<style>
						<width value="100%"/>
						<bottom value="0px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<style>
					<marginRight value="2px"/>
					<marginBottom value="2px"/>
					<marginLeft value="2px"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<bind name="visible" value="_entity.battleResultsEntry.children.length &gt; 0"/>
				<style>
					<width value="100%"/>
					<marginTop value="4px"/>
					<marginBottom value="10px"/>
				</style>
				<bind name="repeat" value="_entity.battleResultsEntry.children; 'ShipInteractionsTooltipRow'; {_childrenLength: _entity.battleResultsEntry.children.length, _marginLeft: '3px'}"/>
			</block>
		</block>
	</block>
	<block className="BattleStatsDetailedReportSubLine">
		<style>
			<width value="100%"/>
			<height value="20px"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="2px"/>
			</style>
			<bind name="instance" value="'BattleStatsDetailedReportRowItem'; {_entity: _entity, _labelClass: '$TextDefault', _valueSizeClass: '$FontSizeDefault'}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<style>
				<marginTop value="-1px"/>
				<alpha value="0.5"/>
			</style>
			<block className="DottedLine">
				<style>
					<backgroundImage value="symbol:dotted_line"/>
					<backgroundRepeatX value="true"/>
					<width value="100%"/>
					<height value="1px"/>
					<alpha value="0.5"/>
				</style>
			</block>
		</block>
	</block>
	<block className="BattleStatsDetailedReportTotalLine">
		<style>
			<height value="48px"/>
			<width value="100%"/>
		</style>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<textAlign value="center"/>
				<width value="100%"/>
			</style>
			<styleClass value="$TextHeader"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="_entity.battleResultsEntry.title"/>
		</block>
	</block>
	<block className="BattleStatsDetailedReportRowItem">
		<style>
			<width value="100%"/>
		</style>
		<bind name="style" value="'alpha';	_entity.battleResultsEntry.values[0] == null ||
							(	_entity.battleResultsEntry.values[0].value ||
								_entity.battleResultsEntry.values[1].value ||
								_entity.battleResultsEntry.values[2].value)		?	1 : 0.5"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="tooltip" value="'SimpleTooltip'; _entity.battleResultsEntry.hint	? {tooltipText: _entity.battleResultsEntry.hint}: null"/>
			<bind name="tooltip" value="	_entity.battleResultsEntry.tooltipType == USSConstants.TOOLTIPTYPE_TEAMKILLER		? 'PBSTeamKillerTooltip'	:
						_entity.battleResultsEntry.tooltipType == USSConstants.TOOLTIPTYPE_TAKEN_ARTILLERY	? 'TakenArtilleryTooltip'	:
						_entity.battleResultsEntry.tooltipType == USSConstants.TOOLTIPTYPE_TAKEN_TORPEDOES	? 'TakenDamageTooltip'	:
						_entity.battleResultsEntry.tooltipType == USSConstants.TOOLTIPTYPE_TAKEN_BOMBS		? 'TakenDamageTooltip'	:
						_entity.battleResultsEntry.tooltipType == USSConstants.TOOLTIPTYPE_TAKEN_OTHER		? 'TakenDamageTooltip'
																											: 'EmptyItem' ;
						_entity.battleResultsEntry.tooltipType	? {_entity: _entity, _list: _battleResultsDH.battleResultsStructured.takenArtilleryTooltip,
																	_battleResultsDH: _battleResultsDH}
																: null"/>
		</block>
		<bind name="watch" value="'fontColorClass'; _entity.battleResultsEntry.color == USSConstants.COLOR_PINK ? '$FontColorTeamkiller' : '$None'"/>
		<block>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<block type="text">
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="class" value="fontColorClass"/>
				<bind name="class" value="_labelClass"/>
				<bind name="text" value="_entity.battleResultsEntry.title"/>
			</block>
			<block>
				<style>
					<right value="0px"/>
					<position value="absolute"/>
				</style>
				<bind name="repeat" value="_entity.battleResultsEntry.values; 'BattleStatsDetailedReportRowValue'; {_fontColorClass: fontColorClass, _fontSizeClass: _valueSizeClass}; true"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="TakenDamageTooltip">
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<style>
			<width value="322px"/>
		</style>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="watch" value="'_list';	_entity.battleResultsEntry.tooltipType == USSConstants.TOOLTIPTYPE_TAKEN_TORPEDOES	? _battleResultsDH.battleResultsStructured.takenTorpedoesTooltip	:
							_entity.battleResultsEntry.tooltipType == USSConstants.TOOLTIPTYPE_TAKEN_BOMBS		? _battleResultsDH.battleResultsStructured.takenBombsTooltip		:
							_entity.battleResultsEntry.tooltipType == USSConstants.TOOLTIPTYPE_TAKEN_OTHER		? _battleResultsDH.battleResultsStructured.takenOtherTooltip
																												: _battleResultsDH.battleResultsStructured.takenOtherTooltip"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<style>
					<marginRight value="2px"/>
					<marginBottom value="2px"/>
					<marginLeft value="2px"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<bind name="visible" value="_list.length &gt; 0"/>
				<style>
					<width value="100%"/>
					<marginTop value="2px"/>
					<marginBottom value="10px"/>
				</style>
				<bind name="repeat" value="_list; 'ShipInteractionsTooltipRow'; {_childrenLength: _list.length, _marginLeft: '3px'}"/>
			</block>
		</block>
	</block>
	<block className="TakenArtilleryTooltip">
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<bind name="stageSize"/>
		<bind name="watch" value="'maxHeight'; (stageHeight - 124 - 62 - (10 + (stageHeight - 720) * 0.36) - (10 + (stageHeight - 720) * 0.04)-60)"/>
		<bind name="style" value="'height'; (stageHeight - 124 - 62 - (10 + (stageHeight - 720) * 0.36) - (10 + (stageHeight - 720) * 0.04)-60)+'px'"/>
		<style>
			<hitTest value="false"/>
		</style>
		<block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<marginBottom value="1px"/>
					<marginTop value="1px"/>
				</style>
				<block className="BlurMap">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<style>
							<width value="100%"/>
							<height value="100%"/>
						</style>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
			</block>
			<style>
				<width value="318px"/>
				<height value="100px"/>
			</style>
			<bind name="fade" value="vTileWidth + vTileHeight; 0.01; {width: vTileWidth + 4, height: vTileHeight + 10}; {width: vTileWidth + 4, height: vTileHeight + 10}"/>
			<block className="notification_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<bind name="vTileHack"/>
			<style>
				<height value="100%"/>
				<marginTop value="2px"/>
				<marginBottom value="1px"/>
				<marginLeft value="-1px"/>
				<flow value="vtile"/>
				<position value="absolute"/>
			</style>
			<bind name="repeat" value="_list; 'ShipInteractionsTooltipRow'; {_childrenLength: _list.length, _marginLeft: '3px'}"/>
		</block>
		<block>
			<bind name="visible" value="(vTileHeight &gt; (maxHeight - 50))"/>
			<bind name="fade" value="vTileWidth + vTileHeight; 0.01; {height: vTileHeight + 6}; {height: vTileHeight + 6}"/>
			<style>
				<left value="320px"/>
				<height value="300px"/>
				<marginTop value="2px"/>
				<position value="absolute"/>
			</style>
			<block className="VerticalDivider">
				<style>
					<height value="100%"/>
					<width value="3px"/>
				</style>
				<block className="divider_v" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="(vTileHeight &gt; (maxHeight*2 - 50))"/>
			<bind name="fade" value="vTileWidth + vTileHeight; 0.01; {height: vTileHeight + 6}; {height: vTileHeight + 6}"/>
			<style>
				<left value="640px"/>
				<height value="300px"/>
				<marginTop value="2px"/>
				<position value="absolute"/>
			</style>
			<block className="VerticalDivider">
				<style>
					<height value="100%"/>
					<width value="3px"/>
				</style>
				<block className="divider_v" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="BattleStatsDetailedReportRowValue">
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="style" value="'hitTest'; hint ? true : false"/>
		<block>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="tooltip" value="'SimpleTooltip'; hint ? {tooltipText: hint} : null"/>
			<bind name="child" value="type ? type : 'no_format'; {	_value: value, _fontColorClass: _fontColorClass,
													_fontSizeClass: _fontSizeClass}; {	time		: 'BattleStatsDetailedReportRowTimeValue',
																						period		: 'BattleStatsDetailedReportRowPeriodValue',
																						distance	: 'BattleStatsDetailedReportRowDistanceValue',
																						bold		: 'BattleStatsDetailedReportRowBoldValue',
																						no_value			: 'EmptyItem',
																						no_format			: 'BattleStatsDetailedReportRowDefaultValue'}"/>
		</block>
		<block type="text">
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$TextDefault"/>
			<bind name="class" value="_fontColorClass"/>
			<bind name="class" value="_fontSizeClass"/>
			<bind name="text" value="(($index &gt; 0) &amp;&amp; (type != 'no_value') ? '/' : '')"/>
		</block>
	</block>
	<block className="BattleStatsDetailedReportRowTimeValue">
		<bind name="timeFormat" value="_value; 'hh:mm  dd.MM.yyyy'; 'formattedTime'; true"/>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="_fontColorClass"/>
			<bind name="class" value="_fontSizeClass"/>
			<bind name="text" value="formattedTime"/>
		</block>
	</block>
	<block className="BattleStatsDetailedReportRowPeriodValue">
		<bind name="timeFormat" value="_value; 'mm:ss'; 'formattedTime'; false"/>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="_fontColorClass"/>
			<bind name="class" value="_fontSizeClass"/>
			<bind name="text" value="formattedTime"/>
		</block>
	</block>
	<block className="BattleStatsDetailedReportRowDistanceValue">
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="_fontColorClass"/>
			<bind name="class" value="_fontSizeClass"/>
			<bind name="text" value="format(_value, 2)+' '+tr('IDS_KILOMETER')"/>
		</block>
	</block>
	<block className="BattleStatsDetailedReportRowBoldValue">
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="_fontColorClass"/>
			<bind name="class" value="_fontSizeClass"/>
			<bind name="class" value="'$Bold'"/>
			<bind name="text" value="format(_value, -1)"/>
		</block>
	</block>
	<block className="BattleStatsDetailedReportRowDefaultValue">
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="_fontColorClass"/>
			<bind name="class" value="_fontSizeClass"/>
			<bind name="text" value="format(_value, -1)"/>
		</block>
	</block>
	<block className="PBSTeamKillerTooltip">
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<marginTop value="8px"/>
				<marginBottom value="4px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="class" value="'$FontColorTeamkiller'"/>
				<bind name="text" value="'IDS_YOU_GOT_TEAMKILLER_STATUS'"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="5px"/>
				<marginBottom value="4px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<style>
					<leading value="-2"/>
					<maxWidth value="280"/>
				</style>
				<text value="IDS_YOU_GOT_TEAMKILLER_STATUS_INFO_1"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<style>
					<leading value="-2"/>
					<maxWidth value="280"/>
					<marginTop value="2px"/>
				</style>
				<text value="IDS_YOU_GOT_TEAMKILLER_STATUS_INFO_2"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<style>
					<marginRight value="2px"/>
					<marginBottom value="2px"/>
					<marginLeft value="2px"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<style>
					<marginTop value="6px"/>
					<marginBottom value="10px"/>
				</style>
				<styleClass value="$InfoBlockHorizontalIndent"/>
				<block type="text">
					<style>
						<maxWidth value="250"/>
						<leading value="-3"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="'IDS_BATTLES_TO_LEFT_TEAMKILLER_STATUS'"/>
				</block>
				<block type="text">
					<styleClass value="$AlignRight"/>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="_entity.battleResultsEntry.values[0].value"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="EconomicsSection">
		<styleClass value="$FullsizeAbsolute"/>
		<bind name="dispatch" value="'addedToStage'; startShow ? null : 'showEv'; {}; false; 0.17"/>
		<bind name="catch" value="'showEv'; {startShow: true}"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'RealEconomicsSection'; startShow ? _data : null"/>
		</block>
		<block type="text">
			<bind name="appear" value="startShow ? 'nullEvent' : 'addedToStage'; 0.15; 0.02; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'statsLoaded'; 0.15; 0.15; {alpha: 1, top: 0}; {alpha: 0, top: 10}"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextAccentBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<top value="33%"/>
				<hitTest value="false"/>
			</style>
			<bind name="text" value="toUpperCase(tr('IDS_WAITING_SCREEN_LOADING_DATA'))"/>
		</block>
	</block>
	<block className="RealEconomicsSection">
		<bind name="dispatch" value="'addedToStage'; loaded ? 'showFast' : null; {}; false"/>
		<bind name="dispatch" value="'addedToStage'; loaded ? null : 'statsLoaded'; {}; false; 0"/>
		<bind name="catch" value="'statsLoaded'; {loaded: true}"/>
		<bind name="appear" value="'showFast'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'statsLoaded'; 0.15; 0.4; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="primaryEntityDH" value="'battleResultsDH'; CC.battleResultsComponent; game_data.arena_id"/>
		<style>
			<width value="100%"/>
			<alpha value="0"/>
		</style>
		<bind name="style" value="'height'; (_PBSHeight + 'px')"/>
		<bind name="watch" value="'columnWidth'; ((_PBSWidth - 3) / 2) + 'px'"/>
		<block>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<overflow value="scroll"/>
				<height value="100%"/>
			</style>
			<block>
				<block>
					<bind name="style" value="'alpha'; battleResultsDH.battleResultsStructured.isPremium ? 0.5 : 1"/>
					<bind name="style" value="'width'; columnWidth"/>
					<bind name="instance" value="'BattleStatsEconomicsColumn'; {list: battleResultsDH.battleResultsStructured.base_economics, _isPremium: false, _shipId: battleResultsDH.battleResultsStructured.shipId}"/>
				</block>
				<block>
					<style>
						<marginLeft value="3px"/>
					</style>
					<bind name="style" value="'alpha'; battleResultsDH.battleResultsStructured.isPremium ? 1 : 0.5"/>
					<bind name="style" value="'width'; columnWidth"/>
					<bind name="instance" value="'BattleStatsEconomicsColumn'; {list: battleResultsDH.battleResultsStructured.prem_economics, _isPremium: true, _shipId: battleResultsDH.battleResultsStructured.shipId}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
	</block>
	<block className="BattleStatsEconomicsColumn">
		<style>
			<width value="100%"/>
		</style>
		<block className="inner_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="list; 'BattleStatsEconomicsRow'; {_childrenLength: _entity.battleResultsEntry.children.length, _isPremium: _isPremium, _shipId: _shipId}; false; 0"/>
		</block>
	</block>
	<block className="BattleStatsEconomicsRow">
		<bind name="entityDH" value="'entity'; $value"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="style" value="'marginTop';	entity.battleResultsEntry.type == 3 &amp;&amp; $index == 0		?	'3px'	:
								entity.battleResultsEntry.type == 3 &amp;&amp; $index &gt; 0		?	'0px'
																									:	'0px'"/>
		<bind name="style" value="'marginBottom';	entity.battleResultsEntry.type == 3 &amp;&amp;
									(($index + 1) == _childrenLength)						? '9px'
 																							: '0px'"/>
		<bind name="child" value="entity.battleResultsEntry.type ? entity.battleResultsEntry.type
                                                : 'no_item'; {	_entity: entity,
                                                                _isPremium: _isPremium,
                                                                _shipId: _shipId}; 	{		0			 	: 'BattleStatsEconomicsHeader',
                                                                                            1			: 'BattleStatsEconomicsSubHeader',
                                                                                            2					: 'BattleStatsEconomicsLine',
                                                                                            3				: 'BattleStatsEconomicsSubLine',
                                                                                            4					: 'BattleStatsEconomicsList',
                                                                                            5				: 'BattleStatsEconomicsTotal',
                                                                                            11	: 'BattleStatsEconomicsExpWithProgress',
                                                                                            13			: 'BattleStatsEconomicsTooltipLine',
                                                                                            no_item						: 'EmptyItem'}"/>
	</block>
	<block className="BattleStatsEconomicsHeader">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<height value="30px"/>
			</style>
			<block className="battle_stats_backgrounds" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="gotoAndStop!" value="_entity.battleResultsEntry.bgColor"/>
			</block>
			<block>
				<styleClass value="$Fullsize"/>
				<style>
					<marginTop value="-2px"/>
				</style>
				<bind name="instance" value="'BattleStatsEconomicsRowItem'; {_entity: _entity, _class: '$TextLargeHeaderBold', _isPremium: _isPremium, _shipId:_shipId}"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_entity.battleResultsEntry.children; 'BattleStatsEconomicsRow'; {_childrenLength: _entity.battleResultsEntry.children.length, _shipId: _shipId}; false"/>
		</block>
	</block>
	<block className="BattleStatsEconomicsSubHeader">
		<style>
			<width value="100%"/>
		</style>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'groupExpandedPref'; (userPrefs.PBSEconomicsExpand[_entity.battleResultsEntry.expandGroupName] == null) ? false : (userPrefs.PBSEconomicsExpand[_entity.battleResultsEntry.expandGroupName])"/>
		<bind name="action" value="'expandEconomicsGroup'; 'setUserPref' ; {value : !(groupExpandedPref), name : 'PBSEconomicsExpand', subName: _entity.battleResultsEntry.expandGroupName}"/>
		<block>
			<bind name="tooltip" value="'MouseInstructionTooltip'; _entity.battleResultsEntry.hint	? {	_multiParagraphArray: [{_paragraphText: _entity.battleResultsEntry.hint}],
																						_mouseInstructions: [{_type: 'left', _instructionText: groupExpanded ? 'IDS_HINT_COLLAPSE_GROUP' : 'IDS_HINT_EXPAND_GROUP'}],	
																						_maxWidth: 250}: null"/>
			<style>
				<width value="100%"/>
				<height value="30px"/>
			</style>
			<bind name="instance" value="'BattleStatsExpandElement'; {_entity: _entity, _expandGroupEvent: 'expandEconomicsGroup', _groupExpanded: groupExpandedPref, _stateOver: rollOver}"/>
		</block>
		<block>
			<bind name="visible" value="_entity.battleResultsEntry.values[1].value &gt; 0 &amp;&amp; (_entity.battleResultsEntry.values[1].type == 'skill_points')"/>
			<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_HINT_FREE_SKILLPOINTS'}"/>
			<bind name="instance" value="'CrewSkillPointBadge';	_entity.battleResultsEntry.values[1].value != null	? {	_skillPoints: _entity.battleResultsEntry.values[1].value}
																									: null"/>
			<style>
				<right value="142px"/>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="_entity.battleResultsEntry.values[0].type  == 'warning_icon'"/>
			<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_BATTLE_STATS_WARNING_ICON_HINT'}"/>
			<bind name="instance" value="'BattleStatsEconomicsRowWarningIcon';	_entity.battleResultsEntry.values[0].value == true	? {} : null"/>
			<style>
				<right value="260px"/>
				<position value="absolute"/>
				<marginTop value="2px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="fade" value="groupExpandedPref; 0.15; {scaleY: 0, ubScaleY: 0, alpha: 0}; {scaleY: 1, ubScaleY: 1, alpha: 1}; {scaleY: 0, ubScaleY: 0, alpha: 0}; 2; 0"/>
			<bind name="repeat" value="_entity.battleResultsEntry.children; 'BattleStatsEconomicsRow'; {_childrenLength: _entity.battleResultsEntry.children.length, _shipId: _shipId}"/>
		</block>
	</block>
	<block className="BattleStatsEconomicsTotal">
		<style>
			<width value="100%"/>
			<height value="50px"/>
		</style>
		<block className="battle_stats_backgrounds" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="gotoAndStop!" value="_entity.battleResultsEntry.bgColor"/>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="instance" value="'BattleStatsEconomicsRowItem'; {_entity: _entity, _class: '$TextLargeHeaderBold', _large: true}"/>
		</block>
	</block>
	<block className="BattleStatsExpandElement">
		<style>
			<width value="100%"/>
			<height value="30px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="_entity.battleResultsEntry.bgColor != null"/>
			<block className="battle_stats_backgrounds" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="gotoAndStop!" value="_entity.battleResultsEntry.bgColor"/>
			</block>
		</block>
		<block className="button_expand" type="native">
			<bind name="visible" value="!(_entity.battleResultsEntry.hideExpand)"/>
			<style>
				<width value="100%"/>
				<marginTop value="3px"/>
				<marginLeft value="9px"/>
				<position value="absolute"/>
			</style>
			<params>
				<param name="toggle" value="true"/>
				<param name="soundSet" value="dropmenu_button"/>
				<param name="focusable" value="false"/>
			</params>
			<bind name="selected" value="_groupExpanded"/>
			<bind name="dispatch" value="'click'; _expandGroupEvent; {}"/>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<marginLeft value="18px"/>
				<hitTest value="false"/>
			</style>
			<bind name="instance" value="'BattleStatsEconomicsRowItem'; {_entity: _entity,  _class: '$TextHeaderWhiteBold', _medium: true, _shipId: _shipId}"/>
		</block>
	</block>
	<block className="BattleStatsEconomicsTooltipLine">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<marginTop value="6px"/>
				<marginBottom value="-6px"/>
				<height value="26px"/>
				<width value="100%"/>
				<alpha value="0.95"/>
			</style>
			<bind name="instance" value="'BattleStatsEconomicsRowItem'; {_entity: _entity, _class: '$TextHeaderBold'}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_entity.battleResultsEntry.children; 'BattleStatsEconomicsRow' ; {_childrenLength: _entity.battleResultsEntry.children.length}"/>
		</block>
	</block>
	<block className="BattleStatsEconomicsLine">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<height value="20px"/>
			</style>
			<bind name="instance" value="'BattleStatsEconomicsRowItem'; {_entity: _entity, _class: '$TextDefault'}"/>
			<block>
				<styleClass value="$InfoBlockHorizontalIndent"/>
				<style>
					<bottom value="1"/>
					<position value="absolute"/>
					<alpha value="0.5"/>
				</style>
				<block className="DottedLine">
					<style>
						<backgroundImage value="symbol:dotted_line"/>
						<backgroundRepeatX value="true"/>
						<width value="100%"/>
						<height value="1px"/>
						<alpha value="0.5"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_entity.battleResultsEntry.children; 'BattleStatsEconomicsRow' ; {_childrenLength: _entity.battleResultsEntry.children.length}"/>
		</block>
	</block>
	<block className="BattleStatsEconomicsSubLine">
		<bind name="tooltip" value="'SimpleTooltip'; _entity.battleResultsEntry.hint	? {tooltipText: _entity.battleResultsEntry.hint}: null"/>
		<style>
			<width value="100%"/>
			<height value="20px"/>
			<backgroundColor value="0x01FFFFFF"/>
		</style>
		<bind name="instance" value="'BattleStatsEconomicsRowItem'; {_entity: _entity, _class: '$TextDefault', _shipId: _shipId}"/>
		<block>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<style>
				<bottom value="1"/>
				<position value="absolute"/>
				<alpha value="0.5"/>
			</style>
			<block className="DottedLine">
				<style>
					<backgroundImage value="symbol:dotted_line"/>
					<backgroundRepeatX value="true"/>
					<width value="100%"/>
					<height value="1px"/>
					<alpha value="0.5"/>
				</style>
			</block>
		</block>
	</block>
	<block className="BattleStatsEconomicsList">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_entity.battleResultsEntry.children; 'BattleStatsEconomicsRow' ; {_childrenLength: _entity.battleResultsEntry.children.length, _shipId: _shipId}"/>
		</block>
	</block>
	<block className="BattleStatsEconomicsExpWithProgress">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<styleClass value="$InfoBlockIndent"/>
		<block>
			<bind name="tooltip" value="_entity.battleResultsEntry.blockName == USSConstants.BLOCK_ACCOUNTEXP 	? 'SimpleTooltip'
																								: 'CrewTooltip'; {	_crewID: _entity.dataComponent.data,
																													_checkPenalty: false,
																													_inPBS: true,
																													tooltipText: 'IDS_TOOLTIP_CURRENT_ACCOUNT_LEVEL'}"/>
			<style>
				<width value="250px"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<bind name="class" value="(_entity.battleResultsEntry.blockName == USSConstants.BLOCK_ACCOUNTEXP) ? '$TextAccentBold' : '$TextDefaultBold'"/>
				<bind name="text" value="_entity.battleResultsEntry.values[0].value"/>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
					<marginTop value="-5px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="_entity.battleResultsEntry.values[1].value"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="(_entity.battleResultsEntry.values[3].value) != 0"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _entity.battleResultsEntry.blockName == USSConstants.BLOCK_ACCOUNTEXP ? 	'IDS_HINT_ACCOUNT_EXPERIENCE' : 
																																'IDS_BATTLE_STATS_CREW_EXP_HINT'}"/>
			<style>
				<marginTop value="7px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<block>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="child" value="(_entity.battleResultsEntry.blockName == USSConstants.BLOCK_ACCOUNTEXP) ? 0: 1; {_entity: _entity}; 'ProgressBarYellow'; 'ProgressBarGreen'"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<style>
					<marginTop value="3px"/>
					<hitTest value="false"/>
					<styleSheet value="h3
					{
						font-size: 17;
						font-family: $WWSDefaultFontBold;
						alpha: 0.3;
					}
					h2
					{
						color: #CCCCCC;
					}"/>
				</style>
				<bind name="text" value="'&lt;body&gt;' + '&lt;h3&gt;' + (_entity.battleResultsEntry.values[2].value + '/' + '&lt;/h3&gt;' + (_entity.battleResultsEntry.values[3].value)) +  '  ' + 
						'&lt;h2&gt;' + '(' + tr('IDS_MORE') + ' ' + (_entity.battleResultsEntry.values[3].value - _entity.battleResultsEntry.values[2].value) + ')' + '&lt;/h2&gt;' + '&lt;/body&gt;'"/>
			</block>
		</block>
	</block>
	<block className="BattleStatsEconomicsRowItem">
		<bind name="tooltip" value="	(_entity.battleResultsEntry.tooltipType	== USSConstants.TOOLTIPTYPE_ENSIGNS)		? 	'ExteriorPostBattleTooltip' :
					(_entity.battleResultsEntry.tooltipType	== USSConstants.TOOLTIPTYPE_SSE)			? 	'PostBattleSSEQuestTooltip':
					(_entity.battleResultsEntry.tooltipType	== USSConstants.TOOLTIPTYPE_REAMMUNITION)	? 	'PostBattleReammunitionTooltip':
					(_entity.battleResultsEntry.tooltipType	== USSConstants.TOOLTIPTYPE_RECAMO)			? 	'PostBattleRecamoTooltip' :
					(_entity.battleResultsEntry.tooltipType	== USSConstants.TOOLTIPTYPE_RESIGNAL)		? 	'PostBattleResignalTooltip' :
					(_entity.battleResultsEntry.tooltipType	== USSConstants.TOOLTIPTYPE_REEQUIP)		? 	'PostBattleReequipTooltip'
																										:	'EmptyItem';
					{	_entity: 	_entity,
						_id:		_entity.dataComponent.data.id,
						progressCurrent: 1,
						progressMax: 1,
						titleText: _entity.dataComponent.data.name,
						_shipId: _shipId
					}"/>
		<styleClass value="$InfoBlockHorizontalIndent"/>
		<style>
			<height value="100%"/>
			<flow value="horizontal"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; 	_entity.battleResultsEntry.hint	&amp;&amp; 
												(_entity.battleResultsEntry.type == 0 || _entity.battleResultsEntry.type == 5) ? 
												{tooltipText: _entity.battleResultsEntry.hint}: null"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<bind name="class" value="	(_entity.battleResultsEntry.color == 'black')	? '$FontColorAlmostBlack'
																				: _class"/>
					<bind name="class" value="	(_entity.battleResultsEntry.color == 'black') 	? '$FontDropShadowWhite'
																				: '$None'"/>
					<bind name="text" value="_entity.battleResultsEntry.title"/>
				</block>
			</block>
			<block>
				<bind name="style" value="'marginTop';  	_medium ? '1px': 
										_large ? '-2px' : '0px'"/>
				<styleClass value="$AlignRight"/>
				<bind name="repeat" value="_entity.battleResultsEntry.values; 'BattleStatsEconomicsRowValue'; {_entity: _entity, _fontStyleClass: _class, _large: _large, _medium: _medium}; true"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="tooltip" value="'SimpleTooltip';  {tooltipText: _isPremium? 'IDS_WITH_PREM_HINT' : 'IDS_WITHOUT_PREM_DESC'}"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<right value="0"/>
				<position value="absolute"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="class" value="_isPremium ? '$FontColorGolden': '$None'"/>
				<bind name="text" value="_entity.battleResultsEntry.subtitle"/>
			</block>
		</block>
	</block>
	<block className="ProgressBarGreen">
		<block className="indicator_progress_bar_lightgreen" type="native">
			<style>
				<width value="190px"/>
			</style>
			<bind name="value" value="(_entity.battleResultsEntry.values[2].value / _entity.battleResultsEntry.values[3].value)*10"/>
		</block>
	</block>
	<block className="ProgressBarYellow">
		<block className="indicator_progress_bar_yellow" type="native">
			<style>
				<width value="190px"/>
			</style>
			<bind name="value" value="(_entity.battleResultsEntry.values[2].value / _entity.battleResultsEntry.values[3].value)*10"/>
		</block>
	</block>
	<block className="BattleStatsEconomicsRowSubtitle">
		<style>
			<right value="0px"/>
		</style>
		<block type="text">
			<styleClass value="$TextHeaderWhiteBold"/>
			<bind name="class" value="'$FontColorGolden'"/>
			<bind name="text" value="toUpperCase(tr(_subtitle))"/>
		</block>
	</block>
	<block className="BattleStatsEconomicsRowNewLevel">
		<bind name="visible" value="_value == 1"/>
		<style>
			<right value="130px"/>
		</style>
		<block type="text">
			<styleClass value="$TextHeaderWhiteBold"/>
			<bind name="class" value="'$FontColorGolden'"/>
			<bind name="text" value="toUpperCase(tr('IDS_NEW_ACCOUNT_LEVEL'))"/>
		</block>
	</block>
	<block className="BattleStatsEconomicsRowValue">
		<bind name="child" value="type ? type : 'no_format'; {	_value: value, _type: type,
												_fontStyleClass: _fontStyleClass,
												_large: _large, _medium: _medium, 
												_entity: _entity}; 					{	credits			: 'BattleStatsEconomicsRowCredits',
																						gold				: 'BattleStatsEconomicsRowGold',
																						credits_applied	: 'BattleStatsEconomicsRowCreditsApplied',
																						credits_applied_show_zero : 'BattleStatsEconomicsRowCreditsAppliedShowZero',
																						gold_applied		: 'BattleStatsEconomicsRowGoldApplied',
																						gold_right			: 'BattleStatsEconomicsRowGoldRight',
																						credits_zero_hide	: 'BattleStatsEconomicsRowCreditsHideZero',
																						exp				: 'BattleStatsEconomicsRowExp',
																						freexp			: 'BattleStatsEconomicsRowFreeXP',
																						freexp_right		: 'BattleStatsEconomicsRowFreeXPRight',
																						percents			: 'BattleStatsEconomicsRowPercents',
																						skill_points		: 'EmptyItem',
																						subtitle			: 'BattleStatsEconomicsRowSubtitle',
																						new_level			: 'BattleStatsEconomicsRowNewLevel',
																						AOGAS				: 'BattleStatsEconomicsRowAOGAS',
																						tooltip_percents	: 'BattleStatsEconomicsRowTooltipPercents',
																						warning_icon		: 'EmptyItem',
																						no_value					: 'EmptyItem',
																						no_format					: 'BattleStatsDetailedEconomicsRowDefaultValue'}"/>
	</block>
	<block className="BattleStatsDetailedEconomicsRowDefaultValue">
		<block type="text">
			<bind name="class" value="_fontColorClass"/>
			<bind name="class" value="_fontStyleClass"/>
			<bind name="text" value="_value"/>
		</block>
	</block>
	<block className="BattleStatsEconomicsRowCredits">
		<bind name="tooltip" value="'SimpleTooltip'; _entity.battleResultsEntry.type == 5 ? {tooltipText: 'IDS_BATTLE_STATS_TOTAL_CREDITS_COUNT_HINT'}: null"/>
		<bind name="style" value="'marginRight'; _medium ? '3px' : '0px'"/>
		<style>
			<position value="absolute"/>
			<right value="0"/>
		</style>
		<bind name="instance" value="'PriceTag';_value != null	? {	priceInfo: { finalPrice: _value,
																 currency: 'credits'},
													_large: _large, _medium: _medium}
												: null"/>
	</block>
	<block className="BattleStatsEconomicsRowCreditsApplied">
		<bind name="style" value="'marginRight'; _medium ? '3px' : '0px'"/>
		<style>
			<position value="absolute"/>
			<right value="0"/>
			<hitTest value="false"/>
			<flow value="horizontal"/>
		</style>
		<bind name="visible" value="_value.value != 0"/>
		<block>
			<style>
				<marginRight value="3px"/>
			</style>
			<bind name="visible" value=" !(_value.applied)"/>
			<block className="IconWarningSmall">
				<block className="icon_warning_orange" type="native">
					<style>
						<marginTop value="5px"/>
					</style>
				</block>
			</block>
		</block>
		<bind name="instance" value="'PriceTag';_value != null	? {	priceInfo: { finalPrice: _value.value,
																 currency: 'credits'},
													_large: _large, _medium: _medium, _deficit: !(_value.applied)}
												: null"/>
	</block>
	<block className="BattleStatsEconomicsRowCreditsAppliedShowZero">
		<bind name="style" value="'marginRight'; _medium ? '3px' : '0px'"/>
		<style>
			<position value="absolute"/>
			<right value="0"/>
			<hitTest value="false"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<marginRight value="3px"/>
			</style>
			<bind name="visible" value=" !(_value.applied)"/>
			<block className="IconWarningSmall">
				<block className="icon_warning_orange" type="native">
					<style>
						<marginTop value="5px"/>
					</style>
				</block>
			</block>
		</block>
		<bind name="instance" value="'PriceTag';_value != null	? {	priceInfo: { finalPrice: _value.value,
																 currency: 'credits'},
													_large: _large, _medium: _medium, _deficit: !(_value.applied)}
												: null"/>
	</block>
	<block className="BattleStatsEconomicsRowGold">
		<bind name="tooltip" value="'SimpleTooltip'; _entity.battleResultsEntry.type == 5 ? {tooltipText: 'IDS_BATTLE_STATS_TOTAL_GOLD_COUNT_HINT'}: null"/>
		<bind name="style" value="'marginRight'; _medium ? '3px' : '0px'"/>
		<style>
			<position value="absolute"/>
			<right value="130"/>
		</style>
		<bind name="visible" value="_value != 0"/>
		<bind name="instance" value="'PriceTag';_value != null	? {	priceInfo: { finalPrice: _value,
																 currency: 'gold'},
													_large: _large, _medium: _medium}
												: null"/>
	</block>
	<block className="BattleStatsEconomicsRowGoldApplied">
		<bind name="style" value="'marginRight'; _medium ? '3px' : '0px'"/>
		<style>
			<position value="absolute"/>
			<right value="130"/>
			<flow value="horizontal"/>
			<hitTest value="false"/>
		</style>
		<bind name="visible" value="_value.value != 0"/>
		<block>
			<style>
				<marginRight value="3px"/>
			</style>
			<bind name="visible" value=" !(_value.applied)"/>
			<block className="IconWarningSmall">
				<block className="icon_warning_orange" type="native">
					<style>
						<marginTop value="5px"/>
					</style>
				</block>
			</block>
		</block>
		<bind name="instance" value="'PriceTag';_value != null	? {	priceInfo: { finalPrice: _value.value,
																 currency: 'gold'},
													_large: _large, _medium: _medium, _deficit: !(_value.applied)}
												: null"/>
	</block>
	<block className="BattleStatsEconomicsRowGoldRight">
		<bind name="style" value="'marginRight'; _medium ? '3px' : '0px'"/>
		<style>
			<position value="absolute"/>
			<right value="0"/>
			<hitTest value="false"/>
		</style>
		<bind name="instance" value="'PriceTag';_value != 0	? {	priceInfo: { finalPrice: _value,
																 currency: 'gold'},
													_large: _large, _medium: _medium}
												: null"/>
	</block>
	<block className="BattleStatsEconomicsRowCreditsHideZero">
		<bind name="style" value="'marginRight'; _medium ? '3px' : '0px'"/>
		<bind name="visible" value="_value != 0"/>
		<style>
			<position value="absolute"/>
			<right value="0"/>
			<hitTest value="false"/>
		</style>
		<bind name="instance" value="'PriceTag';_value != 0	? {	priceInfo: { finalPrice: _value,
																 currency: 'credits'},
													_large: _large, _medium: _medium}
												: null"/>
	</block>
	<block className="BattleStatsEconomicsRowExp">
		<bind name="tooltip" value="'SimpleTooltip'; _entity.battleResultsEntry.type == 5 ? {tooltipText: 'IDS_BATTLE_STATS_TOTAL_EXP_COUNT_HINT'}: null"/>
		<bind name="style" value="'marginRight'; _medium ? '3px' : '0px'"/>
		<style>
			<position value="absolute"/>
			<right value="0"/>
		</style>
		<bind name="instance" value="'PriceTag';_value != null	? {	priceInfo: { finalPrice: _value,
																 currency: 'exp'},
													_large: _large, _medium: _medium}
												: null"/>
	</block>
	<block className="BattleStatsEconomicsRowFreeXP">
		<bind name="tooltip" value="'PostBattleFreeExpTooltip'; {_entity: _entity}"/>
		<bind name="style" value="'marginRight'; _medium ? '3px' : '0px'"/>
		<style>
			<position value="absolute"/>
			<right value="130"/>
		</style>
		<bind name="visible" value="_value != 0"/>
		<bind name="instance" value="'PriceTag';_value != null	? {	priceInfo: { finalPrice: _value,
																 currency: 'freexp'},
													_large: _large, _medium: _medium}
												: null"/>
	</block>
	<block className="BattleStatsEconomicsRowFreeXPRight">
		<bind name="style" value="'marginRight'; _medium ? '3px' : '0px'"/>
		<style>
			<position value="absolute"/>
			<right value="0"/>
			<hitTest value="false"/>
		</style>
		<bind name="instance" value="'PriceTag';_value != null	? {	priceInfo: { finalPrice: _value,
																 currency: 'freexp'},
													_large: _large, _medium: _medium}
												: null"/>
	</block>
	<block className="BattleStatsEconomicsRowAOGAS">
		<style>
			<position value="absolute"/>
			<right value="270"/>
		</style>
		<bind name="visible" value="(_value != null) ? true : false"/>
		<bind name="tooltip" value="'AOGASPostBattleTooltip'; _value ? {_value: _value} : null"/>
		<block className="icon_warning_orange_big" type="native">
			<style>
				<marginTop value="5px"/>
			</style>
		</block>
	</block>
	<block className="BattleStatsEconomicsRowWarningIcon">
		<style>
			<alpha value="0.9"/>
		</style>
		<block className="icon_warning_orange_big" type="native"/>
	</block>
	<block className="BattleStatsEconomicsRowPercents">
		<style>
			<position value="absolute"/>
			<right value="210"/>
			<hitTest value="false"/>
		</style>
		<bind name="visible" value="_value != 0"/>
		<block type="text">
			<bind name="class" value="_fontStyleClass"/>
			<bind name="text" value="((_value &gt; 0) 	? ('+' + (_value) + '%')
									: ((_value) + '%'))"/>
		</block>
	</block>
	<block className="BattleStatsEconomicsRowTooltipPercents">
		<style>
			<position value="absolute"/>
			<right value="90"/>
		</style>
		<bind name="visible" value="_value != 0"/>
		<block type="text">
			<bind name="class" value="_fontStyleClass"/>
			<bind name="text" value="((_value &gt; 0) 	? ('+' + (_value) + '%')
									: ((_value) + '%'))"/>
		</block>
	</block>
	<block className="IconWarningSmall">
		<block className="icon_warning_orange" type="native">
			<style>
				<marginTop value="5px"/>
			</style>
		</block>
	</block>
	<block className="PersonalResultSection">
		<styleClass value="$FullsizeAbsolute"/>
		<bind name="instance" value="'RealPersonalResultSection'; _data"/>
	</block>
	<block className="RealPersonalResultSection">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<bind name="watch" value="'delay'; 1.6"/>
		<bind name="watch" value="'achievementDelay'; 2.3"/>
		<bind name="watch" value="'ribbonsDelay'; 2.3 + ((personal.achievements.length) * 0.15)+0.2"/>
		<bind name="watch" value="'campTaskDelay'; 	1.95 + ((personal.ribbons.length-1) * 0.2) + ((personal.achievements.length-1) * 0.2)"/>
		<bind name="watch" value="'questsDelay'; 	1.95 + ((personal.ribbons.length-1) * 0.2) + ((personal.achievements.length-1) * 0.2) + (personal.tasksResults.length-1) * 0.2"/>
		<bind name="appear" value="'startHide'; 0.8; 0; {alpha: 1}; {alpha: 0}"/>
		<styleClass value="$Fullsize"/>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.05; {alpha: 0, top: 10}; {alpha: 0.9, top: 0}"/>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<block className="wows_logo_pb" type="native">
				<bind name="gotoAndStop!" value="realmConstants.wowsLogo"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.2; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<maxWidth value="1280"/>
				<width value="78sw"/>
				<height value="70sh"/>
				<top value="43%"/>
				<marginTop value="-50%"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<block type="text">
						<bind name="appear" value="'startShow'; 0.15; delay; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
						<bind name="class" value="game_data.battle_result == 1 ? '$FontColorGolden' : '$FontColorBlueish'"/>
						<styleClass value="$TextDefaultBold"/>
						<style>
							<fontSize value="75"/>
						</style>
						<bind name="name" value="'BattleResultText'"/>
						<bind name="text" value="resultText"/>
					</block>
					<block type="text">
						<bind name="appear" value="'startShow'; 0.15; delay + 0.1; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
						<styleClass value="$ResultsHeader"/>
						<style>
							<marginTop value="-9px"/>
						</style>
						<bind name="name" value="'BattleResultSubText'"/>
						<bind name="text" value="commentText"/>
					</block>
					<block>
						<bind name="appear" value="'startShow'; 0.15; delay + 0.2; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
						<block>
							<bind name="instance" value="'PBSPlayerWithShip'; {	_shipId: personal.player.shipId, _name: personal.player.name, _isEnemy: false, _fontSizeClass: '$FontSizeLarge',
															_isTeamKiller: personal.player.tkStatus, _isSelf: true, _isInMyDivision: false, _noWidth: true}"/>
						</block>
						<block>
							<bind name="instance" value="'PersonalResultKiller'; personal.killed ? { _killer: personal.killer,																				
																				_relation: personal.killer.relation, _killerIsBuilding: personal.killerIsBuilding,
																				_killerBuildingName: personal.killerBuilding.ids_name } : null"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block>
						<bind name="appear" value="'startShow'; 0.15; delay + 0.25; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
						<styleClass value="$AlignRight"/>
						<style>
							<top value="36px"/>
						</style>
						<block type="text">
							<styleClass value="$TextHeaderBigDefault"/>
							<bind name="class" value="'$FontColorBlueish'"/>
							<style>
								<right value="0"/>
							</style>
							<bind name="text" value="tr(game_data.map_name) + '  ' + tr(game_data.battle_mode)"/>
						</block>
						<block type="text">
							<styleClass value="$TextHeaderBigDefault"/>
							<bind name="class" value="'$FontColorBlueish'"/>
							<style>
								<right value="0"/>
							</style>
							<bind name="text" value="tr('IDS_BATTLE_START_TIME') + ': ' + game_data.battle_date"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<marginTop value="2sh"/>
					</style>
					<block type="text">
						<bind name="visible" value="game_data.battle_mode_id != 3"/>
						<bind name="appear" value="'startShow'; 0.15; delay + 0.3; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
						<styleClass value="$ResultsHeader"/>
						<text value="IDS_BATTLE_STATS_TAKEN_TILL_BATTLE"/>
					</block>
					<block>
						<bind name="visible" value="game_data.battle_mode_id != 3"/>
						<style>
							<marginTop value="-2px"/>
						</style>
						<block>
							<bind name="appear" value="'startShow'; 0.15; delay + 0.4; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
							<block type="text">
								<styleClass value="$ResultsReward"/>
								<bind name="name" value="'BattleResultCreditsGain'"/>
								<bind name="text" value="format(credits_experience.result.gui_main_credits, -1)"/>
							</block>
							<block className="icon_credit_big" type="native">
								<styleClass value="$MiddleVAligned"/>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
						<block>
							<bind name="appear" value="'startShow'; 0.15; delay + 0.5; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
							<style>
								<marginLeft value="24px"/>
							</style>
							<block type="text">
								<styleClass value="$ResultsReward"/>
								<bind name="name" value="'BattleResultExperienceGain'"/>
								<bind name="text" value="format(credits_experience.result.gui_main_exp, -1)"/>
							</block>
							<block className="icon_exp_big" type="native">
								<styleClass value="$MiddleVAligned"/>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
						<block>
							<bind name="feature" value="5; ''"/>
							<bind name="visible" value="feature_5 != 'locked'"/>
							<bind name="appear" value="'startShow'; 0.15; delay + 0.6; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
							<style>
								<marginLeft value="24px"/>
							</style>
							<block type="text">
								<styleClass value="$ResultsReward"/>
								<bind name="name" value="'BattleResultFreeExperienceGain'"/>
								<bind name="text" value="format(credits_experience.result.gui_main_free_exp, -1)"/>
							</block>
							<block className="icon_exp_free_big" type="native">
								<styleClass value="$MiddleVAligned"/>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
						<block>
							<bind name="name" value="'BattleResultAchievements'"/>
							<style>
								<marginLeft value="26px"/>
								<marginTop value="12px"/>
							</style>
							<bind name="var" value="{animationOn: true}"/>
							<bind name="dispatch" value="'startShow'; 'switchAnimationOff'; null; false; 0.1"/>
							<bind name="catch" value="'switchAnimationOff'; {animationOn: false}"/>
							<bind name="repeat" value="personal.achievements; 'AchievementAppearAnimation'; {_delay: achievementDelay, _animationOn: animationOn}"/>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block>
						<bind name="appear" value="'startShow'; 0.15; delay + 0.6; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
						<block>
							<bind name="visible" value="credits_experience.result.credits_penalty != 0 || credits_experience.result.exp_penalty != 0"/>
							<style>
								<marginRight value="12px"/>
							</style>
							<block type="text">
								<styleClass value="$TextHeaderBigDefault"/>
								<bind name="class" value="'$FontColorCompareNegative'"/>
								<bind name="text" value="tr('IDS_BATTLE_STATS_FINE_OF_DAMAGE') + ': '"/>
							</block>
							<block>
								<bind name="visible" value="credits_experience.result.credits_penalty != 0"/>
								<block type="text">
									<styleClass value="$TextHeaderBigDefault"/>
									<bind name="class" value="'$Bold'"/>
									<bind name="name" value="'BattleResultCreditsPenalty'"/>
									<bind name="text" value="format(credits_experience.result.credits_penalty, -1)"/>
								</block>
								<block className="icon_credit_small" type="native">
									<style>
										<marginTop value="6px"/>
									</style>
								</block>
								<style>
									<flow value="horizontal"/>
								</style>
							</block>
							<block type="text">
								<bind name="visible" value="credits_experience.result.credits_penalty != 0 &amp;&amp; credits_experience.result.exp_penalty != 0"/>
								<style>
									<marginLeft value="2px"/>
									<marginRight value="2px"/>
								</style>
								<styleClass value="$TextHeaderBigDefault"/>
								<bind name="class" value="'$FontColorBlueish'"/>
								<text value="IDS_AND"/>
							</block>
							<block>
								<bind name="visible" value="credits_experience.result.exp_penalty != 0"/>
								<block type="text">
									<styleClass value="$TextHeaderBigDefault"/>
									<bind name="class" value="'$Bold'"/>
									<bind name="name" value="'BattleResultExperiencePenalty'"/>
									<bind name="text" value="format(credits_experience.result.exp_penalty, -1)"/>
								</block>
								<block className="icon_exp_small" type="native">
									<style>
										<marginTop value="6px"/>
									</style>
								</block>
								<style>
									<flow value="horizontal"/>
								</style>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
						<block>
							<bind name="visible" value="credits_experience.result.compensation_for_allied_damage != 0"/>
							<block type="text">
								<styleClass value="$TextHeaderBigDefault"/>
								<bind name="class" value="'$FontColorBlueish'"/>
								<bind name="text" value="tr('IDS_BATTLE_STATS_FINE_FOR_DAMAGE') + ': '"/>
							</block>
							<block>
								<block type="text">
									<styleClass value="$TextHeaderBigDefault"/>
									<bind name="class" value="'$Bold'"/>
									<bind name="name" value="'BattleResultCreditsCompensation'"/>
									<bind name="text" value="format(credits_experience.result.compensation_for_allied_damage, -1)"/>
								</block>
								<block className="icon_credit_small" type="native">
									<style>
										<marginTop value="6px"/>
									</style>
								</block>
								<style>
									<flow value="horizontal"/>
								</style>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
				<block>
					<bind name="primaryEntityDH" value="'battleResultsDH'; CC.battleResultsComponent; game_data.arena_id"/>
					<bind name="entityDH" value="'causedDamageEntity'; battleResultsDH.battleResultsStructured.causedDamage[0]"/>
					<style>
						<marginTop value="1.5sh"/>
						<width value="100%"/>
					</style>
					<block type="text">
						<bind name="appear" value="'startShow'; 0.15; ribbonsDelay-0.1; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
						<styleClass value="$ResultsHeader"/>
						<style>
							<marginBottom value="9px"/>
						</style>
						<text value="IDS_BATTLE_EFFICIENCY"/>
					</block>
					<block type="text">
						<bind name="visible" value="(personal.ribbons.length == 0 &amp;&amp; causedDamageEntity.battleResultsEntry.values[0].value == 0)"/>
						<bind name="appear" value="'startShow'; 0.15; ribbonsDelay; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
						<styleClass value="$ResultsWarning"/>
						<style>
							<marginTop value="-4px"/>
							<marginBottom value="32px"/>
						</style>
						<text value="IDS_YOU_DIDNT_SHOW_RESULTS"/>
					</block>
					<block>
						<bind name="visible" value="(personal.ribbons.length &gt; 0 || causedDamageEntity.battleResultsEntry.values[0].value &gt; 0)"/>
						<style>
							<marginTop value="4px"/>
							<width value="100%"/>
						</style>
						<block>
							<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
							<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
							<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
							<bind name="watch" value="'showExtendedRibbons'; (userPrefs.extendedRibbons == null) ? false : userPrefs.extendedRibbons "/>
							<bind name="catch" value="'switchRibbonSet'; { showExtendedRibbons: !showExtendedRibbons }; 'saveRibbonSet'"/>
							<bind name="action" value="'saveRibbonSet' ; 'setUserPref' ; {value: showExtendedRibbons, name: 'extendedRibbons'}"/>
							<style>
								<width value="100%"/>
							</style>
							<block>
								<style>
									<flow value="htile"/>
									<width value="100%"/>
								</style>
								<block>
									<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_RIBBON_TOTAL_DAMAGE'}"/>
									<bind name="appear" value="'startShow'; 0.15; ribbonsDelay + 0.15; {top: 10, alpha: 0}; {top: 0, alpha: 1}"/>
									<style>
										<marginTop value="-13px"/>
										<marginRight value="10px"/>
									</style>
									<block type="text">
										<style>
											<minWidth value="129"/>
											<fontSize value="53"/>
											<textAlign value="center"/>
										</style>
										<styleClass value="$ResultsReward"/>
										<bind name="text" value="format(causedDamageEntity.battleResultsEntry.values[0].value, -1)"/>
									</block>
									<block type="text">
										<style>
											<marginTop value="-10px"/>
										</style>
										<styleClass value="$MiddleAligned"/>
										<styleClass value="$TextDefault"/>
										<bind name="class" value="'$FontColorBlueish'"/>
										<bind name="text" value="'IDS_TOTAL_DAMAGE'"/>
									</block>
								</block>
								<bind name="repeat" value="personal.ribbons; 'RibbonItem'; {_delay: ribbonsDelay + 0.30, _animationOn: animationOn, _showExtendedRibbons: showExtendedRibbons }"/>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
				</block>
				<block>
					<bind name="visible" value="(personal.tasksResults.length &gt; 0) || (personal.campaignTasksResults.length &gt; 0)"/>
					<style>
						<marginTop value="2sh"/>
					</style>
					<block type="text">
						<bind name="appear" value="'startShow'; 0.15; campTaskDelay-0.05; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
						<styleClass value="$ResultsHeader"/>
						<text value="IDS_TASKS"/>
					</block>
					<block>
						<style>
							<marginTop value="4px"/>
						</style>
						<bind name="appear" value="'startShow'; 0.15; campTaskDelay; {alpha: 0}; {alpha: 1}"/>
						<block>
							<bind name="name" value="'BattleResultQuestContainer'"/>
							<bind name="appear" value="'startShow'; 0.01; campTaskDelay; {alpha: 0, scaleY: 0}; {alpha: 1, scaleY: 1} "/>
							<styleClass value="$FullsizeAbsolute"/>
							<block>
								<bind name="repeat" value="personal.campaignTasksResults; 'PostBattleCampaignTasksItem'; { _delay: campTaskDelay }"/>
								<style>
									<flow value="horizontal"/>
								</style>
							</block>
							<block>
								<bind name="repeat" value="personal.tasksResults; 'PostBattleMainQuestsElement'; { _delay: questsDelay }"/>
								<style>
									<flow value="horizontal"/>
								</style>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="PostBattleMainQuestsElement">
		<bind name="watch" value="'isDone'; progressCurrent == progressMax"/>
		<bind name="tooltip" value="'PostBattleSSEQuestTooltip'; { _type: type, _id: id, _doneThisBattle: progressCurrent == progressMax }; 0"/>
		<style>
			<height value="120px"/>
			<width value="120px"/>
		</style>
		<block type="text">
			<bind name="appear" value="'startShow'; 0.15; ($index*0.25) + _delay; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextDefault"/>
			<style>
				<width value="120px"/>
				<textAlign value="center"/>
				<multiline value="false"/>
			</style>
			<bind name="class" value="'$FontColorDefault'"/>
			<bind name="text" value="titleText"/>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; ($index*0.25) + 0.07 + _delay; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<block className="icon_sse" type="native">
				<bind name="gotoAndStop!" value="type"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="isDone"/>
			<bind name="appear" value="'startShow'; 0.15; ($index*0.25) + 0.15 + _delay; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="name" value="'SSE_complete_' + taskName"/>
			<style>
				<position value="absolute"/>
				<right value="16px"/>
				<top value="21px"/>
			</style>
			<block className="done_icon" type="native"/>
		</block>
		<block>
			<bind name="visible" value="(progressCurrent &lt; progressMax) "/>
			<bind name="appear" value="'startShow'; 0.15; ($index*0.25) + 0.22 + _delay; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<block className="indicator_progress_bar" type="native">
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="12px"/>
					<width value="80px"/>
				</style>
				<bind name="name" value="'SSE_progress_' + taskName"/>
				<bind name="value" value="(progressCurrent / progressMax) * 10"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="isDone"/>
			<bind name="appear" value="'startShow'; 0.15; ($index*0.25) + 0.22 + _delay; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<styleClass value="$FontSizeLarge"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<textAlign value="center"/>
					<marginTop value="6px"/>
				</style>
				<text value="IDS_DONE"/>
			</block>
		</block>
	</block>
	<block className="PostBattleCampaignTasksItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="primaryEntityDH" value="'campaignTaskEntity'; CC.campaignTaskParams; id"/>
		<bind name="primaryEntityDH" value="'mission'; CC.campaignMissionParams; campaignTaskEntity.campaignTaskParams.missionID"/>
		<bind name="primaryEntityDH" value="'campaing'; CC.campaignParams; campaignTaskEntity.campaignTaskParams.campaignID"/>
		<bind name="watchDH" value="'number';[]; campaignTaskEntity.campaignTaskParams.number"/>
		<bind name="watchDH" value="'campaignName';[]; campaing.campaignParams.name"/>
		<bind name="watchDH" value="'uiNumber';[]; mission.campaignMissionParams.uiNumber"/>
		<style>
			<height value="120px"/>
			<width value="120px"/>
		</style>
		<block>
			<bind name="tooltip" value="'TaskItemTooltip'; {	_taskID: id, _isInPostbattle: true}"/>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<bind name="appear" value="'startShow'; 0.15; ($index*0.25) + _delay; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextDefault"/>
				<style>
					<width value="120px"/>
					<textAlign value="center"/>
					<multiline value="false"/>
				</style>
				<bind name="class" value="'$FontColorDefault'"/>
				<bind name="text" value="(tr('IDS_CAMPAIGN_TASK') + ' ' +  number)"/>
			</block>
			<block>
				<bind name="appear" value="'startShow'; 0.15; ($index*0.25) + 0.07 + _delay; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<style>
					<width value="70px"/>
					<height value="70px"/>
					<backgroundSize value="cover"/>
					<marginTop value="-5px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:../campaigns/missions_pin/' + campaignName + '_pin.png'"/>
				<block type="text">
					<style>
						<alpha value="0.8"/>
						<position value="absolute"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextAccentBold"/>
					<bind name="text" value="uiNumber"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'startShow'; 0.15; ($index*0.25) + 0.22 + _delay; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<bind name="visible" value="!isDone"/>
				<styleClass value="$MiddleAligned"/>
				<block className="indicator_progress_bar" type="native">
					<style>
						<width value="80px"/>
						<marginTop value="1px"/>
					</style>
					<bind name="value" value="(progress/total) * 10"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; ($index*0.25) + 0.15 + _delay; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="visible" value="isDone"/>
			<style>
				<position value="absolute"/>
				<top value="25px"/>
				<right value="25px"/>
			</style>
			<block className="done_icon" type="native"/>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; ($index*0.25) + 0.22 + _delay; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_TAKE_REWARD_IN_TASK_WINDOW'}"/>
			<bind name="visible" value="isDone"/>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<styleClass value="$FontSizeLarge"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<textAlign value="center"/>
					<marginTop value="-5px"/>
				</style>
				<text value="IDS_DONE"/>
			</block>
		</block>
	</block>
	<block className="PersonalResultKiller">
		<block>
			<bind name="visible" value="!_killerIsBuilding"/>
			<block type="text">
				<style>
					<marginLeft value="3px"/>
					<marginRight value="3px"/>
				</style>
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<text value="IDS_BATTLE_STATS_DAMAGED_BY"/>
			</block>
			<block>
				<bind name="instance" value="'PBSPlayerWithShip'; {	_shipId: _killer.shipId, _name: _killer.name, _isEnemy: (_killer.relation == 2), _fontSizeClass: '$FontSizeLarge',
													_isTeamKiller: _killer.tkStatus, _isSelf: (_killer.relation == 0), _isInMyDivision: _killer.isInSameDivision, _noWidth: true}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="_killerIsBuilding"/>
			<block type="text">
				<style>
					<marginLeft value="3px"/>
					<marginRight value="3px"/>
				</style>
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<text value="IDS_BATTLE_STATS_DAMAGED_BY_FORT"/>
			</block>
			<block>
				<style>
					<backgroundSize value="cover"/>
					<width value="11px"/>
					<height value="15px"/>
					<marginTop value="6px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'symbol:icon_ground_artillery_type_1_enemy'"/>
			</block>
			<block type="text">
				<style>
					<marginLeft value="3px"/>
					<marginRight value="3px"/>
				</style>
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="class" value="'$FontColorCompareNegative'"/>
				<bind name="text" value="_killerBuildingName"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="RibbonItem">
		<bind name="name" value="'BattleResultRibbonContainer'"/>
		<bind name="appear" value="'addedToStage'; (_animationOn ? 0.15 : 0 ); (_animationOn ? (0.15 * $index + _delay) : 0); {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="tooltip" value="'RibbonItemTooltip'; { _showExtendedRibbons: _showExtendedRibbons, _groupId: groupId, _amount: amount, _groupName: groupName, _ribbons: ribbons }"/>
		<block>
			<style>
				<marginRight value="10px"/>
			</style>
			<bind name="instance" value="'RibbonIcon'; { _amount: amount, _groupName: groupName}"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<style>
					<marginRight value="10px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="tr('IDS_RIBBON_' + groupId)"/>
			</block>
		</block>
	</block>
	<block className="RibbonItemTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="340px"/>
		</style>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<style>
				<marginTop value="20px"/>
				<marginLeft value="20px"/>
				<marginBottom value="20px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'RibbonIcon'; {_amount: _amount, _groupName: _groupName}"/>
			</block>
			<block>
				<style>
					<marginTop value="10px"/>
					<marginLeft value="150px"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="170"/>
					</style>
					<styleClass value="$TextLargeHeaderBold"/>
					<bind name="text" value="tr('IDS_RIBBON_' + (_groupId))"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="'IDS_RIBBON_DESCRIPTION_' + (_groupId)"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(_ribbons.length &gt; 1) &amp;&amp; (_showExtendedRibbons == true)"/>
			<styleClass value="$InfoBlockIndent"/>
			<style>
				<marginBottom value="0px"/>
			</style>
			<bind name="repeat" value="_ribbons; 'RibbonIconExtended'; {}"/>
		</block>
	</block>
	<block className="RibbonIconExtended">
		<style>
			<flow value="horizontal"/>
			<marginBottom value="10px"/>
		</style>
		<bind name="visible" value="count != 0"/>
		<block>
			<style>
				<width value="51px"/>
				<height value="51px"/>
			</style>
			<bind name="style" value="'marginBottom'; ribbons.length &gt; 1 ? '10px' : '0px'"/>
			<bind name="style" value="'backgroundImage'; ('symbol:' + ribbonName)"/>
			<block type="text">
				<style>
					<marginTop value="30px"/>
					<right value="-11px"/>
				</style>
				<styleClass value="$TextHeaderBold"/>
				<bind name="text" value="'x' + count"/>
			</block>
		</block>
		<block type="text">
			<style>
				<marginLeft value="20px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextHeaderWhite"/>
			<bind name="text" value="tr('IDS_RIBBON_' + ribbonId)"/>
		</block>
	</block>
	<block className="RibbonIcon">
		<block>
			<style>
				<height value="51px"/>
				<width value="133px"/>
			</style>
			<bind name="style" value="'backgroundImage'; ('symbol:' + _groupName)"/>
			<block type="text">
				<style>
					<marginTop value="22px"/>
					<right value="2px"/>
				</style>
				<styleClass value="$TextLargeHeaderBold"/>
				<bind name="text" value="'x' + _amount"/>
			</block>
		</block>
	</block>
	<block className="TeamResultSection">
		<styleClass value="$FullsizeAbsolute"/>
		<bind name="dispatch" value="'addedToStage'; startShow ? null : 'showEv'; {}; false; 0.17"/>
		<bind name="catch" value="'showEv'; {startShow: true}"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'RealTeamResultSection'; startShow ? _data : null"/>
		</block>
		<block type="text">
			<bind name="appear" value="startShow ? 'nullEvent' : 'addedToStage'; 0.15; 0.02; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'statsLoaded'; 0.15; 0.15; {alpha: 1, top: 0}; {alpha: 0, top: 10}"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextAccentBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<top value="33%"/>
				<hitTest value="false"/>
			</style>
			<bind name="text" value="toUpperCase(tr('IDS_WAITING_SCREEN_LOADING_DATA'))"/>
		</block>
	</block>
	<block className="RealTeamResultSection">
		<bind name="dispatch" value="'addedToStage'; loaded ? 'showFast' : null; {}; false"/>
		<bind name="dispatch" value="'addedToStage'; loaded ? null : 'statsLoaded'; {}; false; 0"/>
		<bind name="catch" value="'statsLoaded'; {loaded: true}"/>
		<bind name="appear" value="'showFast'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'statsLoaded'; 0.15; 0.4; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<width value="1280px"/>
			<alpha value="0"/>
			<marginTop value="3sh"/>
		</style>
		<styleClass value="$MiddleAligned"/>
		<bind name="instance" value="'UIListTeamResult'; {team_results: team_results, game_data: game_data, personal: personal, _isHistoryPBS: _isHistoryPBS}"/>
	</block>
	<block className="VoiceChatOutgoingIcon">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
		<bind name="transition" value="VoiceChatState.outgoing; 0.15; {alpha: 0}; {alpha: 1}"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; VoiceChatState.outgoing ?	{	_multiParagraphArray:  [{_paragraphText: 'IDS_VOICE_CHAT_OUTGOING_STATE_HINT'}],
													_maxWidth: 250, _isInBattle: _isInBattle} : null"/>
		<block>
			<bind name="transition" value="_isSpeaking; 0.15; {alpha: 0.6}; {alpha: 1}"/>
			<block className="icon_voice_chat" type="native"/>
		</block>
	</block>
	<block className="ScenarioResultSection">
		<styleClass value="$FullsizeAbsolute"/>
		<bind name="dispatch" value="'addedToStage'; startShow ? null : 'showEv'; {}; false; 0.17"/>
		<bind name="catch" value="'showEv'; {startShow: true}"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'RealScenarioResultSection'; startShow ? _data : null"/>
		</block>
		<block type="text">
			<bind name="appear" value="startShow ? 'nullEvent' : 'addedToStage'; 0.15; 0.02; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'statsLoaded'; 0.15; 0.15; {alpha: 1, top: 0}; {alpha: 0, top: 10}"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextAccentBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<top value="33%"/>
				<hitTest value="false"/>
			</style>
			<bind name="text" value="toUpperCase(tr('IDS_WAITING_SCREEN_LOADING_DATA'))"/>
		</block>
	</block>
	<block className="RealScenarioResultSection">
		<bind name="dispatch" value="'addedToStage'; loaded ? 'showFast' : null; {}; false"/>
		<bind name="dispatch" value="'addedToStage'; loaded ? null : 'statsLoaded'; {}; false; 0"/>
		<bind name="catch" value="'statsLoaded'; {loaded: true}"/>
		<bind name="appear" value="'showFast'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'statsLoaded'; 0.15; 0.4; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
			<alpha value="0"/>
		</style>
		<bind name="style" value="'height'; (_PBSHeight + 'px')"/>
		<styleClass value="$MiddleAligned"/>
		<block>
			<style>
				<maxWidth value="1280"/>
				<width value="78sw"/>
				<height value="70sh"/>
				<top value="43%"/>
				<marginTop value="-50%"/>
			</style>
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'PVETasksList'; {	_primaryTasks: game_data.primaryTasks, _secondaryTasks: game_data.secondaryTasks}"/>
		</block>
	</block>
	<block className="TempTestTask">
		<style>
			<width value="100%"/>
		</style>
	</block>
	<block className="DropdownInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<style>
			<width value="1px"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '100px'"/>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-9px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-19px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="_dropdownContentElement; { _menuScope: _menuScope }"/>
		</block>
	</block>
	<block className="InstructionParagraph">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<style>
				<width value="100%"/>
				<alpha value="0.9"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 220"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="InstructionMultiParagraph">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
		</style>
		<block className="icon_instruction" type="native">
			<bind name="gotoAndStop!" value="_type"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-3px"/>
			</style>
			<bind name="repeat" value="_instructionArray; 'InstructionParagraph'"/>
		</block>
	</block>
	<block className="InstructionWarning">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$WarningTextOrange"/>
				<style>
					<width value="100%"/>
					<alpha value="0.9"/>
				</style>
				<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 280"/>
				<bind name="text" value="_instructionText"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="MouseInstruction">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="visible" value="_type!='no_icon'"/>
			<block className="icon_mouse" type="native">
				<bind name="gotoAndStop!" value="_type"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="style" value="'marginLeft'; (_type=='no_icon') ? '0px' : '4px'"/>
			<style>
				<marginTop value="-2px"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 180"/>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="MouseInstructionRepeater">
		<bind name="style" value="'marginBottom'; $index != _lastIndex ? '6px' : '0px'"/>
		<bind name="instance" value="'MouseInstruction'; { _type: _type, _instructionText: _instructionText, _maxWidth: _maxWidth }"/>
	</block>
	<block className="InstructionBigTech">
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 500"/>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="DockTopMenuLinkText">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<block type="text">
			<styleClass value="$TextDockNano"/>
			<bind name="class" value="rollOver &amp;&amp; !(mouseDown) ? '$FontColorDefault' : '$None'"/>
			<bind name="text" value="_label"/>
		</block>
	</block>
	<block className="EmptyStatusParagraph">
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="_sizeClass ? _sizeClass : '$FontSizeLarge'"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 250"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="InvertableTextLine">
		<block type="text">
			<bind name="name" value="_name"/>
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.35"/>
				<top value="1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.1"/>
				<top value="-1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.2"/>
				<left value="1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.2"/>
				<left value="-1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _invertedClass : _normalClass"/>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="ResizeFrame">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<bind name="visible" value="!(restrict.up)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="6px"/>
				<top value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_top"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="6px"/>
				<bottom value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_bottom"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="6px"/>
				<height value="100%"/>
				<left value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="6px"/>
				<height value="100%"/>
				<right value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_right"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.up || restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<top value="-5px"/>
				<left value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_top_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.up || restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<top value="-5px"/>
				<right value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_top_right"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down || restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<bottom value="-5px"/>
				<left value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_bottom_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down || restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<bottom value="-5px"/>
				<right value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_bottom_right"/>
			</params>
		</block>
	</block>
	<css name="$WarningTextRed">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$WarningTextOrange">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<block className="WarningMessage">
		<bind name="appear" value="'addedToStage'; 0.15; _delay; {alpha: 0, top: _startTop ? _startTop : 10}; {alpha: 1, top: 0}; 2"/>
		<block type="text">
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 280"/>
			<bind name="class" value="_highWarning ? '$WarningTextRed' : '$WarningTextOrange'"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="WrongTextInputNotification">
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: _startTop ? _startTop : 10}; {alpha: 1, top: 0}; 2"/>
		<style>
			<width value="100%"/>
			<marginRight value="-1px"/>
			<marginLeft value="-1px"/>
		</style>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="1px"/>
				<marginBottom value="0px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="8px"/>
				<marginBottom value="7px"/>
			</style>
			<bind name="instance" value="'WarningMessage'; true	? { _delay: 0.07, _startTop: _startTop, _messageHiglight: _messageHiglight, _maxWidth: _maxWidth, _text: _text}
												: null"/>
		</block>
	</block>
	<block className="MultiParagraphHelpTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="330px"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : 330"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="GUIContrast">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block className="icon_question_mark" type="native">
				<style>
					<marginRight value="6px"/>
					<marginTop value="4px"/>
				</style>
			</block>
			<block type="text">
				<bind name="style" value="'maxWidth'; _width ? _width - 60 : 270"/>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="_tooltipHeader"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block>
				<style>
					<marginLeft value="12px"/>
					<marginRight value="12px"/>
					<marginTop value="9px"/>
					<marginBottom value="3px"/>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="_multiParagraphArray; 'RepeatParagraphItem'; {_maxWidth: _width - 24}"/>
			</block>
		</block>
	</block>
	<block className="RepeatParagraphItem">
		<bind name="style" value="'marginBottom'; _marginBottom ? _marginBottom : '6px'"/>
		<bind name="class" value="_middleAligned ? '$MiddleAligned' : ''"/>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="_class"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<bind name="style" value="'textAlign'; _textAlign ? _textAlign : 'left'"/>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 300"/>
			<bind name="text" value="(_toUpperCase ? toUpperCase(tr(_paragraphText)) : _paragraphText)"/>
			<bind name="substitute" value="	_substitute.mapName ? _substitute.mapName : '';
							_substitute.imageOffset ? _substitute.imageOffset : 0;
							_substitute.map ? _substitute.map : {}"/>
		</block>
	</block>
	<block className="GUIContrast">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
	</block>
	<block className="CheckBox">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<block className="checkbox_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="selected" value="switchProperty"/>
		</block>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<style>
				<marginLeft value="23px"/>
				<marginTop value="-3px"/>
				<hitTest value="false"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxTfWidth ? _maxTfWidth : 300"/>
			<bind name="transition" value="rollOver &amp;&amp; !mouseDown; 0.15; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<bind name="text" value="label"/>
		</block>
	</block>
	<block className="IconSlimClient">
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _isEventLike ? 'IDS_ENTER_IN_FULL_VERSION_FOR_ANNOUNCE_SHIPS' : 'IDS_ENTER_IN_FULL_VERSION_FOR_SHIPS'}"/>
		<block className="game_downloading" type="native"/>
	</block>
	<block className="ShipTitleWithIconAndSilhouette">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<block>
			<block>
				<bind name="instance" value="'ShipTitleWithIconAndLevel'; {_shipID : _shipID}"/>
			</block>
			<block>
				<style>
					<width value="122px"/>
					<height value="22px"/>
					<marginLeft value="12px"/>
					<marginTop value="-2px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathTinyIcon"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ShipTitleWithIconAndLevel">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<block>
			<style>
				<height value="27px"/>
			</style>
			<block className="icon_wreath" type="native">
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
					<top value="-1px"/>
				</style>
				<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
				<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
								shipInfo.isPremium 	? 'premium'
													: 'elite'"/>
			</block>
			<block>
				<style>
					<marginLeft value="5px"/>
					<marginTop value="7px"/>
				</style>
				<block className="icon_ship" type="native">
					<styleClass value="$MouseDisable"/>
					<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial 	? shipInfo.subtype + '_P'
																				: shipInfo.subtype"/>
				</block>
			</block>
			<block>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="-2px"/>
				</style>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial	? '$FontShipnameGolden'
																		: '$FontShipnameWhite'"/>
					<bind name="text" value="shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS))"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CharCounter">
		<bind name="transition" value="_string.length &gt; 0; 0.15; {alpha: 0, top:10}; {alpha: 1, top:0}; {alpha: 0, top:10}; 1; 0"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CHARS_LEFT'}"/>
		<style>
			<backgroundColor value="0x01000000"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="_string.length &gt; _maxChars ? '$FontColorUnready' : '$FontColorDefault'"/>
			<bind name="style" value="'alpha'; _string.length &gt; _maxChars ? 1 : 0.6"/>
			<bind name="text" value="_maxChars - _string.length"/>
		</block>
	</block>
	<block className="BusyIndicator">
		<bind name="fade" value="_showBusyIndicator; 0.15; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1; 0.3"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="indicator_busy_small" type="native"/>
		<block type="text">
			<bind name="visible" value="_label.length &gt; 0"/>
			<styleClass value="$TextDefaultTech"/>
			<bind name="class" value="'$Bold'"/>
			<style>
				<marginLeft value="6px"/>
				<marginTop value="-2px"/>
			</style>
			<bind name="text" value="toUpperCase(tr(_label))"/>
		</block>
	</block>
	<block className="FormationPlayerIcon">
		<style>
			<width value="15px"/>
		</style>
		<block className="formation_player_status" type="native">
			<bind name="gotoAndStop!" value="_isEmptySlot				?	('empty_slot_' + _formationType) :
							isOtherDivision				?	(isCommander	? 'player_ready_other_division_commander'
																			: 'player_ready_other_division') :
							isInBattle &amp;&amp; _isWardog		?	('player_in_battle_' + _formationType + '_merc') :
							isInBattle					?	('player_in_battle_' + _formationType) :
							_isWardog &amp;&amp; isReady		?	('player_ready_' + _formationType + '_merc') :
							_isWardog &amp;&amp; !isReady		?	('player_not_ready_' + _formationType + '_merc') :
							isCommander &amp;&amp; isReady		?	('commander_' + _formationType) :
							isCommander &amp;&amp; !isReady		?	('commander_not_ready_' +_formationType) :
							!isCommander &amp;&amp; isReady		?	('player_ready_' + _formationType) :
							!isCommander &amp;&amp; !isReady	?	('player_not_ready_' + _formationType)
														:	'empty_slot_division'"/>
			<style>
				<marginTop value="3px"/>
			</style>
		</block>
	</block>
	<css name="$TextBackBtn">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<block className="BackButton">
		<style>
			<height value="30px"/>
		</style>
		<block className="button_dock" type="native">
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _text}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="dispatch" value="'buttonClick'; _event ? _event : null ; _eventData ? _eventData : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<params>
				<param name="focusable" value="false"/>
			</params>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<hitTest value="false"/>
			</style>
			<block className="icon_navigate" type="native">
				<bind name="gotoAndStop!" value="'left'"/>
				<style>
					<marginLeft value="6px"/>
				</style>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="2px"/>
					<marginRight value="7px"/>
				</style>
				<block>
					<style>
						<marginTop value="-4px"/>
					</style>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.4"/>
							<top value="1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<top value="-1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<left value="1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<left value="-1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="_text"/>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<css name="$DefaultTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$DefaultInstantTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.06,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.06,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$DefaultMenuBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.07,
		appearOffset: 10.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: 10.0,
		tinyOffset: 0,
		rightOffset: 0,
		bottomOffset: 0
	}"/>
	</css>
	<css name="$DefaultSubMenuBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.15,
		appearOffset: 0.0,
		disappearDelay: 0.35,
		disappearDuration: 0.1,
		disappearOffset: 5.0,
		tinyOffset: 0,
		rightOffset: 0,
		bottomOffset: 0
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 0,
		bottomOffset: 0
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviourCenter">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: -8,
		bottomOffset: 0,
		screenBottomOffset: 26,
		isTipCenter: true
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviourCenterUpper">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: -8,
		bottomOffset: 0,
		isTipCenter: true,
		fixedDirectionUp: true
	}"/>
	</css>
	<css name="$HorizontalInfotipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 0,
		rightOffset: -10,
		bottomOffset: 0,
		isTipCenter: true
	}"/>
	</css>
	<css name="$FightButtonTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.0,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$WarningTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$ModuleTreeTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$SmallListItem">
		<width value="100%"/>
		<height value="18px"/>
	</css>
	<css name="$SmallListItemValue">
		<position value="absolute"/>
		<right value="0px"/>
	</css>
	<css name="$DefaultTooltipWidth">
		<width value="300px"/>
	</css>
	<block className="EmptyLine"/>
	<block className="MouseInstructionTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<bind name="visible" value="_multiParagraphArray.length &gt; 0"/>
			<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
			<style>
				<marginTop value="9px"/>
			</style>
			<bind name="style" value="'marginBottom'; (_multiParagraphArray.length &gt; 0) &amp;&amp; (_mouseInstructions.length &gt; 0) ? '0px' : '5px'"/>
			<bind name="repeat" value="_multiParagraphArray; 'RepeatParagraphItem'; {_maxWidth: _maxWidth, _marginBottom: _marginBottom}"/>
		</block>
		<block>
			<bind name="visible" value="(_multiParagraphArray.length &gt; 0) &amp;&amp; (_mouseInstructions.length &gt; 0)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_mouseInstructions.length &gt; 0"/>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<bind name="repeat" value="_mouseInstructions; 'MouseInstructionRepeater'; {_maxWidth: _maxWidth, _lastIndex: _mouseInstructions.length - 1}"/>
		</block>
	</block>
	<block className="SimpleTooltip">
		<block className="SimpleTooltipTemplate">
			<styleClass value="$DefaultTooltipBehaviour"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="hint_panel" type="native">
				<style>
					<position value="absolute"/>
				</style>
				<styleClass value="$Fullsize"/>
			</block>
			<block type="text">
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="style" value="'leading'; tooltipText.length &gt; 40 ? 0 : -3"/>
				<style>
					<maxWidth value="300"/>
				</style>
				<bind name="text" value="tooltipText"/>
			</block>
		</block>
	</block>
	<block className="SubTextTooltip">
		<block className="SubTextTooltipTemplate">
			<styleClass value="$DefaultTooltipBehaviour"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="hint_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<block type="text">
					<styleClass value="$TextHeaderBold"/>
					<style>
						<leading value="-3"/>
						<maxWidth value="260"/>
					</style>
					<bind name="text" value="tooltipText"/>
				</block>
				<block type="text">
					<styleClass value="$TextHeaderBigDefault"/>
					<style>
						<marginTop value="3px"/>
						<leading value="-3"/>
						<maxWidth value="260"/>
					</style>
					<bind name="text" value="tooltipSubText"/>
				</block>
			</block>
		</block>
	</block>
	<block className="SimpleWarningTooltip">
		<styleClass value="$WarningTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="2px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<maxWidth value="240"/>
					<leading value="-3"/>
				</style>
				<bind name="text" value="_text"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="TooltipBackground">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'DeclareBlurLayer'; _isInBattle ?  null : {}"/>
			<bind name="instance" value="'BlurMap'; _isInBattle ? null : {}"/>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="(optionData.contrast == true || _isInBattle == true)"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="!(_isInBattle)"/>
			<block className="hint_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
	</block>
	<block className="TimerTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block type="text">
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<styleClass value="$TextHeader"/>
			<bind name="class" value="'$FontSizeHeader4'"/>
			<bind name="pureText" value="_text"/>
		</block>
	</block>
	<block className="PlayerTooltipInvitationCountdown">
		<bind name="countdown" value="_expirationTime; 'countdownText'; 'mm:ss'"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="4px"/>
				<marginLeft value="7px"/>
				<marginRight value="4px"/>
				<marginBottom value="3px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<marginRight value="6px"/>
				</style>
				<block>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: true, _formationType: _formationType}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
						<maxWidth value="158"/>
						<leading value="-3"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorWhite'"/>
					<bind name="text" value="_text"/>
				</block>
				<block type="text">
					<style>
						<top value="-4px"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<styleClass value="$AlignRight"/>
					<bind name="class" value="'$FontSizeHeader6'"/>
					<bind name="pureText" value="'-' + countdownText"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="BattleStatsInteractionsCarousel">
		<style>
			<width value="100%"/>
			<height value="124px"/>
		</style>
		<bind name="var" value="{itemWidth: 218}"/>
		<bind name="watch" value="'isScrollNeeded'; _PBSWidth &lt; ((	_shipsInteractionsEntity.battleResultsEntry.children.length +
													_buildingInteractionsEntity.battleResultsEntry.children.length) * itemWidth)"/>
		<bind name="child" value="isScrollNeeded; {	_repeatCollectionShips: _shipsInteractionsEntity.battleResultsEntry.children,
									_repeatCollectionBuildings: _buildingInteractionsEntity.battleResultsEntry.children,
									_interactionsEntity: _interactionsEntity, _itemWidth: itemWidth,
									_wheelScrollSpeed: itemWidth}; 'PBSCarouselNoScroll'; 'PBSCarouselScroll'"/>
	</block>
	<block className="PBSCarouselScroll">
		<styleClass value="$Fullsize"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
				<width value="18px"/>
				<height value="100%"/>
				<left value="-10px"/>
			</style>
			<block className="button_slide_left" type="native">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MiddleAligned"/>
				<params>
					<param name="focusable" value="false"/>
				</params>
				<bind name="event" value="'click'; scrollLeftByOneUnit"/>
			</block>
		</block>
		<block>
			<style>
				<marginRight value="18px"/>
				<marginLeft value="18px"/>
				<flow value="horizontal"/>
				<width value="100%"/>
				<height value="100%"/>
				<overflow value="scroll"/>
				<scrollArea value="ModernScrollAreaHorizontal"/>
				<scrollbarController value="lesta.unbound.style.UbScrollingControllerTouch"/>
				<itemWidth value="218"/>
				<itemHeight value="124"/>
			</style>
			<bind name="style" value="'itemWidth'; _itemWidth"/>
			<bind name="style" value="'wheelScrollSpeed'; _wheelScrollSpeed"/>
			<bind name="controller" value="lesta.unbound.controls.UbCarouselController"/>
			<bind name="repeat" value="_repeatCollectionShips; 'BattleResultsInteractionShipItem'; {_itemWidth: _itemWidth}"/>
			<bind name="repeat" value="_repeatCollectionBuildings; 'BattleResultsInteractionBuildingItem'; {_itemWidth: _itemWidth}"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<width value="18px"/>
				<height value="100%"/>
				<right value="-10px"/>
			</style>
			<block className="button_slide_right" type="native">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MiddleAligned"/>
				<params>
					<param name="focusable" value="false"/>
				</params>
				<bind name="name" value="'buttonCarouselRight'"/>
				<bind name="event" value="'click'; scrollRightByOneUnit"/>
			</block>
		</block>
	</block>
	<block className="PBSCarouselNoScroll">
		<style>
			<flow value="horizontal"/>
			<marginLeft value="-5px"/>
		</style>
		<bind name="repeat" value="_repeatCollectionShips; 'BattleResultsInteractionShipItem'; {_itemWidth: _itemWidth}"/>
		<bind name="repeat" value="_repeatCollectionBuildings; 'BattleResultsInteractionBuildingItem'; {_itemWidth: _itemWidth}"/>
	</block>
	<block className="BattleResultsInteractionBuildingItem">
		<bind name="entityDH" value="'entity'; $value"/>
		<bind name="watch" value="'paramsId'; entity.battleResultsEntry.values[0].value"/>
		<bind name="watch" value="'name'; entity.battleResultsEntry.values[1].value"/>
		<bind name="watch" value="'suppressionCount'; entity.battleResultsEntry.values[2].value"/>
		<bind name="watch" value="'buildingType'; entity.battleResultsEntry.values[3].value"/>
		<bind name="watch" value="'causedDamage'; entity.battleResultsEntry.values[4].value"/>
		<bind name="watch" value="'totalHits'; entity.battleResultsEntry.values[5].value"/>
		<style>
			<height value="124px"/>
			<marginLeft value="5px"/>
			<marginRight value="5px"/>
		</style>
		<bind name="style" value="'width'; ((_itemWidth - 10) + 'px')"/>
		<block className="pbs_slot_bg" type="native">
			<bind name="tooltip" value="'BattleResultsShipInteractionsTooltip'; {_list: entity.battleResultsEntry.children}"/>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<marginTop value="11px"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block className="icons_team_result_ground_objects" type="native">
				<bind name="gotoAndStop!" value="buildingType"/>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-3px"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'BattleResultsBuildingIconWithTitle'; {_name: name, _buildingType: buildingType}"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="11px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block>
				<block>
					<bind name="tooltip" value="'SimpleTooltip'; buildingType == 'Complex' ?	{tooltipText: 'IDS_BATTLE_STATS_FORT_BUILDING_SUPPRESSIONS_HINT'} :
																			{tooltipText: 'IDS_BATTLE_STATS_WATCHTOWER_BUILDING_SUPPRESSIONS_HINT'}"/>
					<bind name="visible" value="suppressionCount &gt; 0"/>
					<style>
						<marginLeft value="4px"/>
						<marginRight value="7px"/>
					</style>
					<block className="icon_stat_damage" type="native">
						<bind name="gotoAndStop!" value="'suppression'"/>
						<bind name="alpha" value="0.7"/>
					</block>
					<block type="text">
						<style>
							<marginLeft value="1px"/>
						</style>
						<styleClass value="$TextLargeHeaderBold"/>
						<bind name="text" value="suppressionCount"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="tooltip" value="'SimpleTooltip'; buildingType == 'Complex' ?	{tooltipText: 'IDS_BATTLE_STATS_FORT_BUILDING_DAMAGE_HINT'} :
																			{tooltipText: 'IDS_BATTLE_STATS_WATCHTOWER_BUILDING_DAMAGE_HINT'}"/>
					<bind name="visible" value="causedDamage &gt; 0 || totalHits &gt; 0"/>
					<style>
						<marginLeft value="4px"/>
						<marginRight value="2px"/>
					</style>
					<block className="icon_stat_damage" type="native">
						<bind name="gotoAndStop!" value="'damage'"/>
						<bind name="alpha" value="0.7"/>
					</block>
					<block type="text">
						<style>
							<marginLeft value="-1px"/>
						</style>
						<styleClass value="$TextLargeHeaderBold"/>
						<bind name="text" value="format(causedDamage, -1)"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="BattleResultsInteractionShipItem">
		<bind name="entityDH" value="'entity'; $value"/>
		<bind name="watch" value="'playerName'; entity.battleResultsEntry.values[1].value"/>
		<bind name="watch" value="'isEnemy'; !(entity.battleResultsEntry.values[2].value)"/>
		<bind name="watch" value="'isKilled'; !(entity.battleResultsEntry.values[3].value)"/>
		<bind name="watch" value="'isKilledByMe'; entity.battleResultsEntry.values[4].value"/>
		<bind name="watch" value="'planesKilled'; entity.battleResultsEntry.values[5].value"/>
		<bind name="watch" value="'causedDamage'; entity.battleResultsEntry.values[6].value"/>
		<bind name="watch" value="'totalHits'; entity.battleResultsEntry.values[7].value"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; entity.battleResultsEntry.values[0].value; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<style>
			<height value="124px"/>
			<marginLeft value="5px"/>
			<marginRight value="5px"/>
		</style>
		<bind name="style" value="'width'; ((_itemWidth - 10) + 'px')"/>
		<block className="pbs_slot_bg" type="native">
			<bind name="tooltip" value="'BattleResultsShipInteractionsTooltip'; {_list: entity.battleResultsEntry.children}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="gotoAndStop!" value="(isEnemy ? 'enemy' : 'ally')"/>
		</block>
		<block>
			<style>
				<marginTop value="13px"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block>
				<style>
					<width value="122px"/>
					<height value="22px"/>
				</style>
				<bind name="style" value="'marginRight'; isEnemy ?	(shipInfo.subtype == ShipTypes.Destroyer)	? '-26px' :
													(shipInfo.subtype == ShipTypes.Cruiser)		? '-14px'
																									: '0px'
												:	(shipInfo.subtype == ShipTypes.Destroyer)	? '26px' :
													(shipInfo.subtype == ShipTypes.Cruiser)		? '14px'
																									: '0px'"/>
				<bind name="style" value="'right'; isEnemy ? '-122px' : '0'"/>
				<bind name="scaleX" value="isEnemy ? '-1' : '1'"/>
				<bind name="style" value="'backgroundImage'; 'url:' + (isKilled ? shipInfo.pathTinyDeadIcon : shipInfo.pathTinyIcon)"/>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-3px"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'BattleResultsShipTitleWithIconAndLevel'; {_shipID : entity.battleResultsEntry.values[0].value, _isEnemy: isEnemy, _isKilled: isKilled}"/>
		</block>
		<block>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="	isKilled	? '$FontColorAlmostBlack'
										: '$None'"/>
				<bind name="class" value="isKilled ? '$FontDropShadowWhite' : '$None'"/>
				<bind name="text" value="playerName"/>
			</block>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="12px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block>
				<block>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_BATTLE_STATS_KILL_HINT'}"/>
					<bind name="visible" value="isKilledByMe"/>
					<style>
						<marginLeft value="4px"/>
						<marginRight value="5px"/>
					</style>
					<block className="icon_stat_damage" type="native">
						<bind name="gotoAndStop!" value="'kill'"/>
						<bind name="alpha" value="0.7"/>
						<styleClass value="$GivenDamageRMargin"/>
					</block>
				</block>
				<block>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_BATTLE_STATS_PLANE_HINT'}"/>
					<bind name="visible" value="planesKilled &gt; 0"/>
					<style>
						<marginLeft value="4px"/>
						<marginRight value="3px"/>
					</style>
					<block className="icon_stat_damage" type="native">
						<bind name="gotoAndStop!" value="'plane'"/>
						<bind name="alpha" value="0.7"/>
					</block>
					<block type="text">
						<style>
							<marginLeft value="-2px"/>
						</style>
						<styleClass value="$TextLargeHeaderBold"/>
						<bind name="text" value="planesKilled"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_BATTLE_STATS_DAMAGE_HINT'}"/>
					<bind name="visible" value="causedDamage &gt; 0 || totalHits &gt; 0"/>
					<style>
						<marginLeft value="4px"/>
						<marginRight value="4px"/>
					</style>
					<block className="icon_stat_damage" type="native">
						<bind name="gotoAndStop!" value="'damage'"/>
						<bind name="alpha" value="0.7"/>
					</block>
					<block type="text">
						<style>
							<marginLeft value="-1px"/>
						</style>
						<styleClass value="$TextLargeHeaderBold"/>
						<bind name="text" value="format(causedDamage, -1)"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="BattleResultsShipInteractionsTooltip">
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<bind name="stageSize"/>
		<bind name="watch" value="'maxHeight'; (stageHeight - 124 - 62 - (10 + (stageHeight - 720) * 0.36))"/>
		<bind name="style" value="'height'; (stageHeight - 124 - 62 - (10 + (stageHeight - 720) * 0.36))+'px'"/>
		<style>
			<hitTest value="false"/>
		</style>
		<block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<marginBottom value="1px"/>
					<marginTop value="1px"/>
				</style>
				<block className="BlurMap">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<style>
							<width value="100%"/>
							<height value="100%"/>
						</style>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
			</block>
			<style>
				<width value="318px"/>
				<height value="100px"/>
			</style>
			<bind name="fade" value="vTileWidth + vTileHeight; 0.01; {width: vTileWidth + 4, height: vTileHeight + 10}; {width: vTileWidth + 4, height: vTileHeight + 10}"/>
			<block className="notification_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<bind name="vTileHack"/>
			<style>
				<height value="100%"/>
				<marginTop value="2px"/>
				<marginBottom value="1px"/>
				<marginLeft value="-1px"/>
				<flow value="vtile"/>
				<position value="absolute"/>
			</style>
			<bind name="repeat" value="_list; 'ShipInteractionsTooltipRow'; {_childrenLength: _list.length, _marginLeft: '3px'}"/>
		</block>
		<block>
			<bind name="visible" value="(vTileHeight &gt; (maxHeight - 50))"/>
			<style>
				<left value="320px"/>
				<height value="300px"/>
				<marginTop value="2px"/>
				<position value="absolute"/>
			</style>
			<block>
				<bind name="fade" value="vTileWidth + vTileHeight; 0.01; {height: vTileHeight + 6}; {height: vTileHeight + 6}"/>
				<style>
					<height value="300px"/>
				</style>
				<block className="VerticalDivider">
					<style>
						<height value="100%"/>
						<width value="3px"/>
					</style>
					<block className="divider_v" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(vTileHeight &gt; (maxHeight*2 - 50))"/>
			<style>
				<left value="640px"/>
				<height value="300px"/>
				<marginTop value="2px"/>
				<position value="absolute"/>
			</style>
			<block>
				<bind name="fade" value="vTileWidth + vTileHeight; 0.01; {height: vTileHeight + 6}; {height: vTileHeight + 6}"/>
				<style>
					<height value="300px"/>
				</style>
				<block className="VerticalDivider">
					<style>
						<height value="100%"/>
						<width value="3px"/>
					</style>
					<block className="divider_v" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="ShipInteractionsTooltipRow">
		<bind name="entityDH" value="'entity'; $value"/>
		<style>
			<width value="318px"/>
		</style>
		<bind name="style" value="'marginLeft'; _marginLeft ? _marginLeft : '0px'"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'marginTop'; (entity.battleResultsEntry.type == 15) &amp;&amp; ($index == 0) ? '-5px' : '0px'"/>
			<bind name="child" value="entity.battleResultsEntry.type ? entity.battleResultsEntry.type
													: 'no_item'; {_entity: entity}; {	14	: 'ShipInteractionsBuildingTooltipHeader',
																						10	: 'ShipInteractionsTooltipHeader',
																						0			: 'ShipInteractionsHeader',
																						1		: 'ShipInteractionsSubHeader',
																						2				: 'ShipInteractionsLine',
																						3			: 'ShipInteractionsSubLine',
																						4				: 'BattleStatsDetailedReportList',
																						12		: 'ShipInteractionsTooltipEmptyLine',
																						15			: 'ShipInteractionsPlayer',
																						13		: 'ShipInteractionsTooltipLine',
																						no_item					: 'EmptyItem'}"/>
		</block>
	</block>
	<block className="ShipInteractionsBuildingTooltipHeader">
		<bind name="watch" value="'buildingType'; _entity.battleResultsEntry.values[0].value"/>
		<bind name="watch" value="'name'; _entity.battleResultsEntry.values[1].value"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<backgroundColor value="0x12ffffff"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="6px"/>
				<marginTop value="5px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<bind name="instance" value="'BattleResultsBuildingIconWithTitle'; {_name: name, _buildingType: buildingType}"/>
		</block>
		<block>
			<style>
				<marginBottom value="8px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 285"/>
				<bind name="text" value="'IDS_BATTLE_STATS_BUILDING_DAMAGE_NOT_FOR_STATS'"/>
			</block>
		</block>
	</block>
	<block className="ShipInteractionsTooltipHeader">
		<style>
			<width value="100%"/>
		</style>
		<bind name="watch" value="'shipId'; _entity.battleResultsEntry.values[0].value"/>
		<bind name="watch" value="'playerName'; _entity.battleResultsEntry.values[1].value"/>
		<bind name="watch" value="'isPlayerAlly'; _entity.battleResultsEntry.values[2].value"/>
		<bind name="watch" value="'isPlayerSelf'; _entity.battleResultsEntry.values[3].value"/>
		<bind name="watch" value="'isPlayerInMyDivision'; false"/>
		<bind name="watch" value="'isPlayerTk'; _entity.battleResultsEntry.values[5].value"/>
		<bind name="watch" value="'killerShipId'; _entity.battleResultsEntry.values[6].value"/>
		<bind name="watch" value="'killerName'; _entity.battleResultsEntry.values[7].value"/>
		<bind name="watch" value="'isKillerAlly'; _entity.battleResultsEntry.values[8].value"/>
		<bind name="watch" value="'isKillerSelf'; _entity.battleResultsEntry.values[9].value"/>
		<bind name="watch" value="'isKillerInMyDivision'; _entity.battleResultsEntry.values[10].value"/>
		<bind name="watch" value="'isKillerTk'; _entity.battleResultsEntry.values[11].value"/>
		<block>
			<style>
				<backgroundColor value="0x12ffffff"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="5px"/>
				<marginTop value="5px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'PBSPlayerWithShip'; {	_shipId: shipId, _name: playerName, _isEnemy: !(isPlayerAlly), _fontSizeClass: '$FontSizeHeader6',
													_isTeamKiller: isPlayerTk, _isSelf: isPlayerSelf, _isInMyDivision: isPlayerInMyDivision}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="visible" value="killerShipId ? true : false"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<bind name="text" value="toLowerCase(tr('IDS_KILLED_BY_PLAYER'))"/>
				</block>
				<block>
					<style>
						<marginLeft value="4px"/>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'PBSPlayerWithShip'; {	_shipId: killerShipId, _name: killerName, _isEnemy: !(isKillerAlly), _fontSizeClass: '$FontSizeDefault',
														_isTeamKiller: isKillerTk, _isSelf: isKillerSelf, _isInMyDivision: isKillerInMyDivision}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="PBSPlayerWithShip">
		<bind name="style" value="'width'; _noWidth ? 'auto' : '100%'"/>
		<bind name="style" value="'flow'; _noWidth ? 'horizontal' : 'htile'"/>
		<bind name="watch" value="'nameFontColorClass';	_isEnemy 						? '$FontColorCompareNegative' :
										_isTeamKiller					? '$FontColorTeamkiller' :
										(_isSelf || _isInMyDivision)	? '$FontColorGolden'
																		: '$FontColorWhite'"/>
		<bind name="watch" value="'shipFontColorClass';	_isEnemy 						? '$FontColorCompareNegative' :
										(_isSelf || _isInMyDivision)	? '$FontColorGolden'
																		: '$FontColorWhite'"/>
		<block type="text">
			<styleClass value="$TextHeaderWhite"/>
			<bind name="style" value="'width'; _noWidth ? 'auto' : '100%f'"/>
			<bind name="class" value="_isSelf ? '$Bold' : '$None'"/>
			<bind name="class" value="nameFontColorClass"/>
			<bind name="class" value="_fontSizeClass"/>
			<bind name="text" value="_name + '  '"/>
		</block>
		<block>
			<bind name="instance" value="'ShipTitleWithIconAndLevelPBS'; {_shipID: _shipId, _isSelf: _isSelf, _isEnemy: _isEnemy, _isTeamKiller: _isTeamKiller, _fontColorClass: shipFontColorClass, _fontSizeClass: _fontSizeClass}"/>
		</block>
	</block>
	<block className="ShipInteractionsHeader">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<height value="30px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="battle_stats_backgrounds" type="native">
					<style>
						<alpha value="0.7"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="gotoAndStop!" value="'grey'"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="1px"/>
				</style>
				<bind name="instance" value="'BattleStatsDetailedReportRowItem'; {_entity: _entity, _labelClass: '$TextHeaderWhiteBold', _valueSizeClass: '$FontSizeHeader6'}"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_entity.battleResultsEntry.children; 'ShipInteractionsTooltipRow'; {_childrenLength: _entity.battleResultsEntry.children.length}"/>
		</block>
	</block>
	<block className="ShipInteractionsSubHeader"/>
	<block className="ShipInteractionsTooltipLine">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<backgroundColor value="0x12ffffff"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="5px"/>
				</style>
				<bind name="instance" value="'BattleStatsDetailedReportRowItem'; {_entity: _entity, _labelClass: '$TextHeaderWhiteBold', _valueSizeClass: '$FontSizeHeader6'}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="7px"/>
					<marginTop value="2px"/>
				</style>
				<styleClass value="$InfoBlockHorizontalIndent"/>
				<block type="text">
					<styleClass value="$TextHeaderBigDefault"/>
					<style>
						<maxWidth value="290"/>
						<leading value="-1"/>
					</style>
					<bind name="text" value="_entity.battleResultsEntry.hint"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
					<bottom value="0"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="ShipInteractionsPlayer">
		<bind name="watch" value="'shipId'; _entity.battleResultsEntry.values[0].value"/>
		<bind name="watch" value="'playerName'; _entity.battleResultsEntry.values[1].value"/>
		<bind name="watch" value="'isPlayerAlly'; _entity.battleResultsEntry.values[2].value"/>
		<bind name="watch" value="'isPlayerSelf'; _entity.battleResultsEntry.values[3].value"/>
		<bind name="watch" value="'isPlayerInMyDivision'; _entity.battleResultsEntry.values[4].value"/>
		<bind name="watch" value="'isPlayerTk'; _entity.battleResultsEntry.values[5].value"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<style>
				<marginBottom value="-2px"/>
				<marginTop value="10px"/>
			</style>
			<bind name="instance" value="'PBSPlayerWithShip'; {	_shipId: shipId, _name: playerName, _isEnemy: !(isPlayerAlly), _fontSizeClass: '$FontSizeLarge',
												_isTeamKiller: isPlayerTk, _isSelf: isPlayerSelf, _isInMyDivision: isPlayerInMyDivision}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="2px"/>
			</style>
			<bind name="repeat" value="_entity.battleResultsEntry.children; 'ShipInteractionsTooltipRow'; {_childrenLength: _entity.battleResultsEntry.children.length}"/>
		</block>
	</block>
	<block className="ShipInteractionsLine">
		<style>
			<height value="26px"/>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="battle_stats_backgrounds" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="gotoAndStop!" value="3"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="0px"/>
			</style>
			<bind name="instance" value="'BattleStatsDetailedReportRowItem'; {_entity: _entity, _labelClass: '$TextHeaderBold', _valueSizeClass: '$FontSizeLarge'}"/>
		</block>
	</block>
	<block className="ShipInteractionsSubLine">
		<style>
			<width value="100%"/>
			<marginTop value="1px"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<alpha value="0.9"/>
			</style>
			<bind name="instance" value="'BattleStatsDetailedReportRowItem'; {_entity: _entity, _labelClass: '$TextDefault', _valueSizeClass: '$FontSizeDefault'}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<style>
				<marginTop value="-3px"/>
				<alpha value="0.5"/>
			</style>
			<block className="DottedLine">
				<style>
					<backgroundImage value="symbol:dotted_line"/>
					<backgroundRepeatX value="true"/>
					<width value="100%"/>
					<height value="1px"/>
					<alpha value="0.5"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ShipInteractionsTooltipEmptyLine">
		<style>
			<width value="100%"/>
			<height value="8px"/>
		</style>
	</block>
	<block className="BattleResultsShipTitleWithIconAndLevel">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<style>
			<height value="20px"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<width value="21px"/>
				<marginRight value="-7px"/>
			</style>
			<bind name="style" value="'marginTop'; _isEnemy ? '13px' : '12px'"/>
			<block className="icon_ship_centered" type="native">
				<bind name="rotation" value="_isEnemy ? '180' : '0'"/>
				<bind name="gotoAndStop!" value="(_isKilled ? (shipInfo.subtype + '_U') : shipInfo.subtype)"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="	_isKilled	? '$FontColorAlmostBlack'
									: '$FontColorWhite'"/>
			<bind name="class" value="_isKilled ? '$FontDropShadowWhite' : '$None'"/>
			<bind name="text" value="shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS))"/>
		</block>
	</block>
	<block className="ShipTitleWithIconAndLevelPBS">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="visible" value="_isSelf &amp;&amp; (upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial)"/>
				<block className="icon_wreath" type="native">
					<style>
						<marginTop value="4px"/>
						<marginRight value="2px"/>
					</style>
					<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
									shipInfo.isPremium 	? 'premium'
														: 'elite'"/>
				</block>
			</block>
			<block>
				<style>
					<marginTop value="2px"/>
					<hitTest value="false"/>
				</style>
				<block className="icon_ship" type="native">
					<bind name="gotoAndStop!" value="_isSelf &amp;&amp; (shipInfo.isPremium || shipInfo.uiSpecial)	?	(shipInfo.subtype + '_P') :
									_isEnemy												?	(shipInfo.subtype + '_E')
																							:	shipInfo.subtype"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginLeft value="4px"/>
			</style>
			<block type="text">
				<bind name="class" value="_isSelf ? '$Bold' : '$None'"/>
				<styleClass value="$TextHeaderWhite"/>
				<bind name="class" value="_fontColorClass"/>
				<bind name="class" value="_fontSizeClass"/>
				<bind name="text" value="shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS))"/>
			</block>
		</block>
	</block>
	<block className="BattleResultsBuildingIconWithTitle">
		<style>
			<height value="20px"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<width value="13px"/>
				<marginTop value="6px"/>
				<marginRight value="3px"/>
			</style>
			<block className="icon_ground_object" type="native">
				<bind name="gotoAndStop!" value="(_buildingType + '_N')"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$TextHeaderBold"/>
			<bind name="text" value="_name"/>
		</block>
	</block>
	<block className="PostBattleReammunitionTooltip">
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<marginTop value="8px"/>
				<marginBottom value="4px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="_entity.battleResultsEntry.title"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_entity.battleResultsEntry.children.length &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<style>
					<marginRight value="2px"/>
					<marginLeft value="2px"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<bind name="visible" value="_entity.battleResultsEntry.children.length &gt; 0"/>
				<style>
					<width value="100%"/>
					<marginTop value="6px"/>
					<marginBottom value="2px"/>
					<alpha value="0.95"/>
				</style>
				<bind name="repeat" value="_entity.battleResultsEntry.children; 'BattleStatsEconomicsRow'; {_childrenLength: _entity.battleResultsEntry.children.length}"/>
			</block>
			<block>
				<style>
					<bottom value="0"/>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<height value="30px"/>
				<marginTop value="6px"/>
				<marginBottom value="8px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<bind name="watch" value="'tempValueCredits'; _entity.battleResultsEntry.values[0].value"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="250"/>
						<alpha value="0.8"/>
					</style>
					<styleClass value="$TextHeaderWhiteBold"/>
					<bind name="text" value="'IDS_PRICE_Q'"/>
				</block>
				<block>
					<style>
						<top value="2px"/>
					</style>
					<styleClass value="$AlignRight"/>
					<bind name="instance" value="'PriceTag';	{	priceInfo: { finalPrice: tempValueCredits.value,
															 currency: 'credits'}, _medium: true, _deficit: !(tempValueCredits.applied)}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="PostBattleFreeExpTooltip">
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<marginTop value="8px"/>
				<marginBottom value="4px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<block type="text">
				<style>
					<maxWidth value="280"/>
				</style>
				<styleClass value="$TextHeaderWhiteBold"/>
				<text value="IDS_FREE_EXPERIENCE_C"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="5px"/>
				<marginBottom value="4px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<style>
					<leading value="-3"/>
					<maxWidth value="280"/>
				</style>
				<text value="IDS_FREE_XP_DESC"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<style>
					<marginRight value="2px"/>
					<marginLeft value="2px"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="6px"/>
					<marginBottom value="2px"/>
					<alpha value="0.95"/>
				</style>
				<bind name="repeat" value="_entity.battleResultsEntry.children; 'BattleStatsEconomicsRow'; {_childrenLength: _entity.battleResultsEntry.children.length}"/>
			</block>
			<block>
				<style>
					<bottom value="0"/>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<height value="30px"/>
				<marginTop value="6px"/>
				<marginBottom value="8px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="250"/>
						<alpha value="0.8"/>
					</style>
					<styleClass value="$TextHeaderWhiteBold"/>
					<bind name="text" value="tr('IDS_EARNED') + tr('IDS_COLON')"/>
				</block>
				<block>
					<styleClass value="$AlignRight"/>
					<style>
						<top value="2px"/>
					</style>
					<bind name="instance" value="'PriceTag'; {	priceInfo: { 	finalPrice: _entity.battleResultsEntry.values[1].value,
																currency: _entity.battleResultsEntry.values[1].type},
																_medium: true}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="PostBattleReequipTooltip">
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<marginTop value="8px"/>
				<marginBottom value="4px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="_entity.battleResultsEntry.title"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_entity.battleResultsEntry.children.length &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<bind name="visible" value="_entity.battleResultsEntry.children.length &gt; 0"/>
				<style>
					<width value="100%"/>
					<marginTop value="3px"/>
					<marginBottom value="3px"/>
				</style>
				<bind name="repeat" value="_entity.battleResultsEntry.children; 'PBSConsumablesList'; {_childrenLength: _entity.battleResultsEntry.children.length}"/>
			</block>
			<block>
				<style>
					<bottom value="0"/>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<style>
					<marginRight value="2px"/>
					<marginLeft value="2px"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<bind name="visible" value="_entity.battleResultsEntry.children.length &gt; 0"/>
				<style>
					<width value="100%"/>
					<marginTop value="6px"/>
					<marginBottom value="2px"/>
					<alpha value="0.95"/>
				</style>
				<bind name="repeat" value="_entity.battleResultsEntry.children; 'BattleStatsEconomicsRow'; {_childrenLength: _entity.battleResultsEntry.children.length}"/>
			</block>
			<block>
				<style>
					<bottom value="0"/>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<height value="30px"/>
				<marginTop value="6px"/>
				<marginBottom value="8px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<bind name="watch" value="'tempValueCredits'; _entity.battleResultsEntry.values[0].value"/>
			<bind name="watch" value="'tempValueGold'; _entity.battleResultsEntry.values[1].value"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="250"/>
						<leading value="-3"/>
						<alpha value="0.8"/>
					</style>
					<styleClass value="$TextHeaderWhiteBold"/>
					<bind name="text" value="'IDS_PRICE_Q'"/>
				</block>
				<block>
					<styleClass value="$AlignRight"/>
					<style>
						<top value="2px"/>
					</style>
					<block>
						<bind name="visible" value="(tempValueGold.value != 0)"/>
						<bind name="instance" value="'PriceTag';	{	priceInfo: { finalPrice: tempValueGold.value,
																 currency: 'gold'}, _medium: true, _deficit: !(tempValueGold.applied)}"/>
					</block>
					<block>
						<bind name="visible" value="(tempValueCredits.value != 0)"/>
						<style>
							<marginLeft value="6px"/>
						</style>
						<bind name="instance" value="'PriceTag';	{	priceInfo: { finalPrice: tempValueCredits.value,
																 currency: 'credits'}, _medium: true, _deficit: !(tempValueCredits.applied)}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ExteriorPostBattleTooltip">
		<bind name="primaryEntityDH" value="'exteriorEntity'; CC.exteriorConfig; _id"/>
		<bind name="watchDH" value="'exteriorConfig'; []; exteriorEntity.exteriorConfig"/>
		<bind name="watch" value="'exteriorName'; exteriorConfig.name"/>
		<bind name="watch" value="'achieves'; exteriorConfig.achievements"/>
		<bind name="watch" value="'selectedExteriorParams';	exteriorConfig.params"/>
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<styleClass value="$MouseDisable"/>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<style>
			<width value="300px"/>
		</style>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<style>
				<marginTop value="12px"/>
			</style>
			<bind name="instance" value="'ExteriorTooltipHeader'; {_exteriorId: _id, _shipId: _shipId, _amount: 0}"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="selectedExteriorParams.length &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="repeat" value="selectedExteriorParams; 'ExteriorParams'"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<bottom value="-1px"/>
					<position value="absolute"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="achievements.length &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="tr('IDS_GET_FOR_ACHIEVEMENTS') + tr('IDS_COLON')"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="achievements; 'AchievementIconWithTitleForFlags'"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<bottom value="0px"/>
					<position value="absolute"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<height value="30px"/>
				<marginTop value="6px"/>
				<marginBottom value="8px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<bind name="watch" value="'tempValue'; _entity.battleResultsEntry.values[0].value"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="250"/>
						<alpha value="0.8"/>
					</style>
					<styleClass value="$TextHeaderWhiteBold"/>
					<bind name="text" value="tr('IDS_EARNED') + tr('IDS_COLON')"/>
				</block>
				<block>
					<styleClass value="$AlignRight"/>
					<style>
						<top value="2px"/>
					</style>
					<bind name="instance" value="'PriceTag'; {	priceInfo: { 	finalPrice: _entity.battleResultsEntry.values[0].value,
																currency: _entity.battleResultsEntry.values[0].type},
																_medium: true}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="PostBattleRecamoTooltip">
		<bind name="primaryEntityDH" value="'exteriorEntity'; CC.exteriorConfig; _id"/>
		<bind name="watchDH" value="'exteriorConfig'; []; exteriorEntity.exteriorConfig"/>
		<bind name="watch" value="'exteriorName'; exteriorConfig].name"/>
		<bind name="watch" value="'achieves'; exteriorConfig.achievements"/>
		<bind name="watch" value="'selectedExteriorParams';	exteriorConfig.params"/>
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<styleClass value="$MouseDisable"/>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<style>
			<width value="300px"/>
		</style>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<style>
				<marginTop value="12px"/>
			</style>
			<bind name="instance" value="'ExteriorTooltipHeader'; {_exteriorId: _id, _amount: 0}"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="selectedExteriorParams.length &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="repeat" value="selectedExteriorParams; 'ExteriorParams'"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<bottom value="-1px"/>
					<position value="absolute"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<height value="30px"/>
				<marginTop value="6px"/>
				<marginBottom value="8px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<bind name="watch" value="'tempValueCredits'; _entity.battleResultsEntry.values[0].value"/>
			<bind name="watch" value="'tempValueGold'; _entity.battleResultsEntry.values[1].value"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="250"/>
						<leading value="-3"/>
						<alpha value="0.8"/>
					</style>
					<styleClass value="$TextHeaderWhiteBold"/>
					<bind name="text" value="'IDS_PRICE_Q'"/>
				</block>
				<block>
					<styleClass value="$AlignRight"/>
					<style>
						<top value="2px"/>
					</style>
					<block>
						<bind name="visible" value="(tempValueGold.value != 0)"/>
						<bind name="instance" value="'PriceTag';	{	priceInfo: { finalPrice: tempValueGold.value,
																 currency: 'gold'}, _medium: true, _deficit: !(tempValueGold.applied)}"/>
					</block>
					<block>
						<bind name="visible" value="(tempValueCredits.value != 0)"/>
						<style>
							<marginLeft value="6px"/>
						</style>
						<bind name="instance" value="'PriceTag';	{	priceInfo: { finalPrice: tempValueCredits.value,
																 currency: 'credits'}, _medium: true, _deficit: !(tempValueCredits.applied)}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="AOGASPostBattleTooltip">
		<style>
			<width value="330px"/>
		</style>
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<styleClass value="$MouseDisable"/>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<style>
					<maxWidth value="260"/>
				</style>
				<text value="IDS_AOGAS_FACTOR"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<style>
					<maxWidth value="260"/>
				</style>
				<bind name="text" value="subst('IDS_PL_TIME_SPENT_IN_GAME_MORE_THAN', [], {hours: _value.online}) "/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<style>
					<marginRight value="2px"/>
					<marginLeft value="2px"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'InstructionWarning'; { _instructionText: 'IDS_AOGAS_FACTOR_HINT', _maxWidth: '190'}"/>
				</block>
				<block type="text">
					<style>
						<position value="absolute"/>
						<right value="0"/>
					</style>
					<styleClass value="$WarningTextOrange"/>
					<bind name="text" value="-(1-_value.factor) * 100 + '%'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="PBSConsumables">
		<bind name="entityDH" value="'entity'; $value"/>
		<style>
			<width value="70px"/>
			<height value="70px"/>
		</style>
		<block>
			<style>
				<width value="60px"/>
				<height value="60px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAligned"/>
			<bind name="style" value="'backgroundImage'; ('url:../consumables/consumable_' + entity.dataComponent.data.source.name + '.png')"/>
		</block>
	</block>
	<block className="PBSConsumablesList">
		<bind name="entityDH" value="'entity'; $value"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<flow value="htile"/>
				<align value="center"/>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="entity.battleResultsEntry.children; 'PBSConsumables' ; {_childrenLength: _entity.battleResultsEntry.children.length}"/>
		</block>
	</block>
	<block className="PostBattleResignalTooltip">
		<styleClass value="$DefaultInstantTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<bind name="watch" value="'exteriorsList'; _entity.battleResultsEntry.values[2].value"/>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<marginTop value="8px"/>
				<marginBottom value="4px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="_entity.battleResultsEntry.title"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<flow value="htile"/>
					<align value="center"/>
					<marginTop value="3px"/>
					<marginBottom value="3px"/>
				</style>
				<bind name="repeat" value="exteriorsList; 'PBSExteriorIcon' ; (exteriorsList.length &gt; 0) ? {} : null"/>
			</block>
			<block>
				<style>
					<bottom value="0"/>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<style>
					<marginRight value="2px"/>
					<marginLeft value="2px"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="6px"/>
					<marginBottom value="2px"/>
					<alpha value="0.95"/>
				</style>
				<bind name="repeat" value="_entity.battleResultsEntry.children; 'BattleStatsEconomicsRow'; {_childrenLength: _entity.battleResultsEntry.children.length}"/>
			</block>
			<block>
				<style>
					<bottom value="0"/>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<height value="30px"/>
				<marginTop value="6px"/>
				<marginBottom value="8px"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<bind name="watch" value="'tempValueCredits'; _entity.battleResultsEntry.values[0].value"/>
			<bind name="watch" value="'tempValueGold'; _entity.battleResultsEntry.values[1].value"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="250"/>
						<leading value="-3"/>
						<alpha value="0.8"/>
					</style>
					<styleClass value="$TextHeaderWhiteBold"/>
					<bind name="text" value="'IDS_PRICE_Q'"/>
				</block>
				<block>
					<styleClass value="$AlignRight"/>
					<style>
						<top value="2px"/>
					</style>
					<block>
						<bind name="visible" value="(tempValueGold.value != 0)"/>
						<bind name="instance" value="'PriceTag';	{	priceInfo: { finalPrice: tempValueGold.value,
																 currency: 'gold'}, _medium: true, _deficit: !(tempValueGold.applied)}"/>
					</block>
					<block>
						<bind name="visible" value="(tempValueCredits.value != 0)"/>
						<style>
							<marginLeft value="6px"/>
						</style>
						<bind name="instance" value="'PriceTag';	{	priceInfo: { finalPrice: tempValueCredits.value,
																 currency: 'credits'}, _medium: true, _deficit: !(tempValueCredits.applied)}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="PBSExteriorIcon">
		<style>
			<width value="100%"/>
			<height value="60px"/>
			<width value="60px"/>
			<marginLeft value="5px"/>
			<marginRight value="5px"/>
			<marginTop value="5px"/>
			<marginBottom value="5px"/>
		</style>
		<bind name="primaryEntityDH" value="'exteriorEntity'; CC.exteriorConfig; _id"/>
		<bind name="watchDH" value="'exteriorConfig'; []; exteriorEntity.exteriorConfig"/>
		<bind name="style" value="'backgroundImage'; ('url:' + exteriorConfig.iconPath)"/>
	</block>
	<block className="ChooseTask">
		<bind name="primaryEntityDH" value="'mission'; CC.campaignMissionParams; _curMissionId"/>
		<bind name="watchDH" value="'usualTasks';[]; mission.campaignMissionParams.usualTasks"/>
		<styleClass value="$Fullsize"/>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="2sh"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'WindowTaskHeaderInstruction'; {_curMissionId: _curMissionId}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<height value="25sh"/>
					<top value="98px"/>
					<position value="absolute"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
				<block className="gradient_half_sphere" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<flow value="htile"/>
				<align value="center"/>
				<overflow value="scroll"/>
				<marginTop value="2.5sh"/>
			</style>
			<bind name="repeat" value="usualTasks; 'TaskItem'; {_isShipSuitable: true, _isBattleSuitable: true, _needMargins: true, _isUseless: false}"/>
		</block>
	</block>
	<block className="TaskItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="primaryEntityDH" value="'campaignTaskEntity'; CC.campaignTaskParams; _taskID ? _taskID : $value"/>
		<bind name="primaryEntityDH" value="'mission'; CC.campaignMissionParams; campaignTaskEntity.campaignTaskParams.missionID"/>
		<bind name="primaryEntityDH" value="'campaing'; CC.campaignParams; campaignTaskEntity.campaignTaskParams.campaignID"/>
		<bind name="watchDH" value="'missionState';['mission.campaignMissionPlayer.evUpdate']; mission.campaignMissionPlayer.state"/>
		<bind name="watchDH" value="'state';['campaignTaskEntity.campaignTaskPlayer.evUpdate']; campaignTaskEntity.campaignTaskPlayer.state"/>
		<bind name="watchDH" value="'isLooted';['campaignTaskEntity.campaignTaskPlayer.evUpdate']; campaignTaskEntity.campaignTaskPlayer.isLooted"/>
		<bind name="watchDH" value="'taskProgress';['campaignTaskEntity.progress.evChanged']; campaignTaskEntity.progress.value"/>
		<bind name="watchDH" value="'max';[]; campaignTaskEntity.progress.max"/>
		<bind name="watchDH" value="'number';[]; campaignTaskEntity.campaignTaskParams.number"/>
		<bind name="watchDH" value="'campaignName';[]; campaing.campaignParams.name"/>
		<bind name="watchDH" value="'uiNumber';[]; mission.campaignMissionParams.uiNumber"/>
		<bind name="watchDH" value="'isMainTask';[]; campaignTaskEntity.campaignTaskParams.isMainTask"/>
		<bind name="watchDH" value="'lootStars';[]; campaignTaskEntity.campaignTaskParams.lootStars"/>
		<bind name="watchDH" value="'costUnlock';[]; campaignTaskEntity.campaignTaskParams.costUnlock"/>
		<bind name="watchDH" value="'bgIconID';[]; campaignTaskEntity.campaignTaskParams.bgIconID"/>
		<bind name="watchDH" value="'stars';['mission.campaignMissionPlayer.evUpdate']; mission.campaignMissionPlayer.stars"/>
		<bind name="watchDH" value="'rewards';['campaignTaskEntity.campaignTaskPlayer.evUpdate']; campaignTaskEntity.campaignTaskParams.rewards"/>
		<bind name="watchDH" value="'startTime';['campaignTaskEntity.campaignTaskRestrictions.evUpdate']; campaignTaskEntity.campaignTaskRestrictions.startTime"/>
		<bind name="watch" value="'canOpenFinalTask'; isMainTask &amp;&amp; (stars &gt;= costUnlock) &amp;&amp; (state == 0)"/>
		<style>
			<width value="230px"/>
			<height value="80px"/>
		</style>
		<bind name="class" value="_needMargins ? '$RepeatMarginsForTasks' : null"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="style" value="'colorMatrixFilter'; (state == 0 &amp;&amp; !canOpenFinalTask)	? '0 -80 0 0' :
																						isLooted 	? '0 -50 0 0'
																									: '0 0 0 0'"/>
			<bind name="style" value="'alpha'; state == 0 ? 0.8 : 1"/>
			<block>
				<block className="DropShadow">
					<styleClass value="$FullsizeAbsolute"/>
					<styleClass value="$MouseDisable"/>
					<block className="drop_shadow" type="native">
						<styleClass value="$Fullsize"/>
						<style>
							<position value="absolute"/>
							<marginTop value="-2px"/>
							<marginRight value="-6px"/>
							<marginBottom value="-10px"/>
							<marginLeft value="-6px"/>
						</style>
					</block>
				</block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<bind name="name" value="'TaskItem_' + number"/>
					<style>
						<backgroundSize value="cover"/>
						<width value="230px"/>
						<height value="80px"/>
						<position value="absolute"/>
					</style>
					<bind name="style" value="'backgroundImage'; 'url:../campaigns/bg_task_item/' + 'task_bg_campaign_' + (bgIconID ? bgIconID : number) + '.png'"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="2.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block className="white_panel_gradient" type="native">
					<bind name="transition" value="rollOver; 0.15; {alpha: 0}; {alpha: 0.7}"/>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block className="hint_panel_bold" type="native">
					<style>
						<marginTop value="-2px"/>
						<marginBottom value="-2px"/>
						<marginLeft value="-2px"/>
						<marginRight value="-2px"/>
					</style>
					<bind name="transition" value="(state == 2) || (state == 3) || (canOpenFinalTask); 0.15; {alpha: 0}; {alpha: 1}"/>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<style>
						<width value="128px"/>
						<height value="80px"/>
						<alpha value="0.4"/>
					</style>
					<bind name="style" value="'alpha'; (isMainTask &amp;&amp; (state == 0)) ? 0.3 : 0.6"/>
					<bind name="style" value="'backgroundImage'; (state == CAMPAIGN_STATE_COMPLETED) ? 	'url:../campaigns/task_item_icons/' + campaignName + '_done.png' : 
																						'url:../campaigns/task_item_icons/' + campaignName + '.png'"/>
					<block>
						<bind name="visible" value="(state != 0)"/>
						<style>
							<width value="66px"/>
							<height value="100%"/>
						</style>
						<block type="text">
							<style>
								<alpha value="0.6"/>
							</style>
							<styleClass value="$MiddleAligned"/>
							<styleClass value="$MiddleVAligned"/>
							<styleClass value="$TextAccentBoldAccountLevel1"/>
							<bind name="text" value="uiNumber"/>
						</block>
					</block>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<left value="70px"/>
						<position value="absolute"/>
					</style>
					<block>
						<block type="text">
							<style>
								<marginTop value="3px"/>
								<maxWidth value="140"/>
							</style>
							<styleClass value="$TextLargeHeaderBold"/>
							<bind name="text" value="isMainTask 	? (toUpperCase(tr('IDS_FINAL_TASK')))
												: (toUpperCase(tr('IDS_CAMPAIGN_TASK'))) + ' ' + number"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block className="indicator_progress_bar" type="native">
						<bind name="visible" value="((taskProgress &gt; 0) &amp;&amp; (taskProgress &lt; max) )"/>
						<style>
							<width value="140px"/>
							<marginTop value="2px"/>
						</style>
						<bind name="value" value="(taskProgress / max) * 10"/>
					</block>
					<block>
						<bind name="visible" value="((missionState == 0) || (missionState == 2)) &amp;&amp; !isMainTask"/>
						<style>
							<marginTop value="5px"/>
						</style>
						<block>
							<bind name="repeat" value="lootStars; 'StarsEarnedEnable'"/>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
						<block>
							<style>
								<position value="absolute"/>
							</style>
							<bind name="repeat" value="costUnlock; 'StarsEarnedDisabled'"/>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="state == 0"/>
				<style>
					<width value="64px"/>
					<height value="100%"/>
					<position value="absolute"/>
				</style>
				<block>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$MiddleVAligned"/>
					<block className="icon_locked_mc" type="native"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(!_isShipSuitable || !_isBattleSuitable || _isUseless) &amp;&amp; (state != 3)"/>
			<styleClass value="$FullsizeAbsolute"/>
			<block>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5_feather" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<style>
							<width value="100%"/>
							<height value="100%"/>
						</style>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<block className="modal_panel" type="native">
					<styleClass value="$Fullsize"/>
					<bind name="style" value="'alpha'; optionData.contrast ? 1.0 : 0.3"/>
				</block>
			</block>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextHeaderBigWhite"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<maxWidth value="210"/>
					<textAlign value="center"/>
				</style>
				<bind name="text" value="!(_isShipSuitable) 						? 'IDS_TASK_UNSUITABLE_SHIP' :
						!(_isBattleSuitable) 					? 'IDS_TASK_UNSUITABLE_BATTLE' :
						 (_isUseless) 							? 'IDS_TASK_IS_USELESS'
																: ''"/>
			</block>
		</block>
		<block>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<params>
				<param name="doubleClickEnabled" value="true"/>
			</params>
			<bind name="soundSet" value="'default_button'"/>
			<bind name="tooltip" value="'TaskItemTooltip'; {	_taskID: campaignTaskEntity.campaignTaskParams.id}"/>
			<bind name="tooltip" value="'TaskItemInfotip'; {	_taskID: campaignTaskEntity.campaignTaskParams.id}; TooltipBehaviour.infotip"/>
			<bind name="action" value="'doubleClick';  ((state == 1) &amp;&amp; (startTime == 0))											? 'CampaignsProxy.activateTask' :
									  ((state == 2) &amp;&amp; ((taskProgress == 0) || (taskProgress == null)))	? 'CampaignsProxy.deactivateTask'
																																	: null ; { taskID: campaignTaskEntity.campaignTaskParams.id}"/>
		</block>
		<block>
			<bind name="visible" value="(state == 3) || (canOpenFinalTask)"/>
			<styleClass value="$FullsizeAbsolute"/>
			<block>
				<style>
					<alpha value="0.3"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5_feather" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<style>
							<width value="100%"/>
							<height value="100%"/>
						</style>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<block className="modal_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block className="button_default" type="native">
				<bind name="style" value="'width'; canOpenFinalTask ? '210px' : '170px'"/>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="focus" value="0; true"/>
				<bind name="label" value=" 	(state == 3) &amp;&amp; !(isLooted)	? toUpperCase(tr('IDS_TAKE_REWARD')) :
							(state == 3) &amp;&amp; (isLooted) 	? toUpperCase(tr('IDS_TAKE_STARS'))  :
							(canOpenFinalTask) 									? toUpperCase(tr('IDS_OPEN_FINAL_TASK'))
																				: null"/>
				<bind name="action" value="'buttonClick';  	(state == 3) 	? 'CampaignsProxy.takeReward' :
											(canOpenFinalTask) 					? 'CampaignsProxy.unlockTask'
																				: null ; { taskID: campaignTaskEntity.campaignTaskParams.id}"/>
			</block>
		</block>
		<bind name="watch" value="'showGiftbox'; (rollOver &amp;&amp; (state != 3) &amp;&amp; !(canOpenFinalTask))"/>
		<block>
			<bind name="transition" value="showGiftbox; 0.15; {alpha: 0, top: 5}; {alpha: 1, top: 0}; {alpha: 0, top: 5}; 2"/>
			<style>
				<right value="9px"/>
				<bottom value="6px"/>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'hitTest'; showGiftbox"/>
			<bind name="tooltip" value="'RewardContainerTooltip'; { _rewards: rewards, _tooltipHeader: 'IDS_REWARDS_CAMPAIGN_TASK', _isDH20: true}"/>
			<block>
				<bind name="style" value="'alpha'; (isLooted ? 0.7 : 1)"/>
				<block className="icon_giftbox_small" type="native"/>
				<block>
					<bind name="visible" value="isLooted"/>
					<style>
						<position value="absolute"/>
						<top value="21px"/>
						<left value="23px"/>
					</style>
					<block className="icon_issued_small" type="native">
						<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
						<bind name="gotoAndStop!" value="'issued'"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="	(state == 3) ||
						(state == 5) ||
						(isLooted &amp;&amp; _needMargins)"/>
			<style>
				<backgroundImage value="symbol:quest_done_icon"/>
				<top value="5px"/>
				<right value="26px"/>
				<position value="absolute"/>
			</style>
		</block>
	</block>
	<block className="TaskItemTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'premiumUpdate'"/>
		<bind name="collectionDH" value="CC.campaignTaskPlayer; 'choosenTasks'; 'active'"/>
		<bind name="firstEntityDH" value="'slotsEntity'; CC.constantsCampaignSlots"/>
		<bind name="primaryEntityDH" value="'campaignTaskEntity'; CC.campaignTaskParams; _taskID"/>
		<bind name="primaryEntityDH" value="'mission'; CC.campaignMissionParams; campaignTaskEntity.campaignTaskParams.missionID"/>
		<bind name="primaryEntityDH" value="'campaing'; CC.campaignParams; campaignTaskEntity.campaignTaskParams.campaignID"/>
		<bind name="watchDH" value="'missionState';['mission.campaignMissionPlayer.evUpdate']; mission.campaignMissionPlayer.state"/>
		<bind name="watchDH" value="'state';['campaignTaskEntity.campaignTaskPlayer.evUpdate']; campaignTaskEntity.campaignTaskPlayer.state"/>
		<bind name="watchDH" value="'isLooted';['campaignTaskEntity.campaignTaskPlayer.evUpdate']; campaignTaskEntity.campaignTaskPlayer.isLooted"/>
		<bind name="watchDH" value="'taskProgress';['campaignTaskEntity.progress.evChanged']; campaignTaskEntity.progress.value"/>
		<bind name="watchDH" value="'isMainTask';[]; campaignTaskEntity.campaignTaskParams.isMainTask"/>
		<bind name="watchDH" value="'costUnlock';[]; campaignTaskEntity.campaignTaskParams.costUnlock"/>
		<bind name="watchDH" value="'isActivated';['campaignTaskEntity.campaignTaskPlayer.evUpdate']; campaignTaskEntity.campaignTaskPlayer.isActivated"/>
		<bind name="watchDH" value="'goals';['campaignTaskEntity.campaignTaskPlayer.evUpdate']; campaignTaskEntity.campaignTaskParams.goals"/>
		<bind name="watchDH" value="'rewards';['campaignTaskEntity.campaignTaskPlayer.evUpdate']; campaignTaskEntity.campaignTaskParams.rewards"/>
		<bind name="watchDH" value="'stars';['mission.campaignMissionPlayer.evUpdate']; mission.campaignMissionPlayer.stars"/>
		<bind name="watchDH" value="'common'; []; slotsEntity.constantsCampaignSlots.common"/>
		<bind name="watchDH" value="'premium'; []; slotsEntity.constantsCampaignSlots.premium"/>
		<bind name="watchDH" value="'startTime';['campaignTaskEntity.campaignTaskRestrictions.evUpdate']; campaignTaskEntity.campaignTaskRestrictions.startTime"/>
		<bind name="watch" value="'canOpenFinalTask'; 	(isMainTask) &amp;&amp; (stars &gt;= costUnlock) &amp;&amp; (state == 0)"/>
		<bind name="watch" value="'availableSlots'; 		(accountResourceInfo.isPremium ? (common + premium) : common)"/>
		<bind name="watch" value="'taskWithoutProgress'; (taskProgress == 0) || (taskProgress == null)"/>
		<bind name="watch" value="'haveFreeSlot'; 		(choosenTasks.length &lt; availableSlots)"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="350px"/>
			<hitTest value="false"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block className="hint_panel_bold" type="native">
			<bind name="visible" value="isActivated"/>
			<style>
				<marginTop value="-2px"/>
				<marginBottom value="-2px"/>
				<marginLeft value="-2px"/>
				<marginRight value="-2px"/>
				<alpha value="0.6"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'TaskItemHeader'; {_taskID: _taskID}"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="visible" value="goals.length &gt; 0"/>
				<block>
					<styleClass value="$HugeMargins"/>
					<bind name="repeat" value="goals; 'GoalsItem'; {}"/>
				</block>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="-2px"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<bind name="instance" value="'TaskContainerRestriction'; {_taskID: _taskID}"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$HugeMargins"/>
				<block>
					<bind name="style" value="'alpha'; (isLooted ? 0.7 : 1)"/>
					<style>
						<marginRight value="16px"/>
					</style>
					<block className="icon_giftbox_small" type="native"/>
					<block>
						<bind name="visible" value="isLooted"/>
						<style>
							<position value="absolute"/>
							<top value="21px"/>
							<left value="23px"/>
						</style>
						<block className="icon_issued_small" type="native">
							<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
							<bind name="gotoAndStop!" value="'issued'"/>
						</block>
					</block>
				</block>
				<block type="text">
					<styleClass value="$MiddleVAligned"/>
					<style>
						<maxWidth value="240"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="!isLooted ? 'IDS_ADDITIONAL_REWARD_BEFORE' : 'IDS_ADDITIONAL_REWARD_AFTER'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(taskWithoutProgress) || (state == 3) || (state == 5)"/>
			<styleClass value="$HugeMargins"/>
			<style>
				<marginTop value="12px"/>
				<marginBottom value="12px"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextLargeHeaderBold"/>
				<bind name="text" value="(state == 3)		? toUpperCase(tr('IDS_TASK_IN_PROGRESS_DONE')) :
						(state == 5)	? toUpperCase(tr('IDS_TASK_COMPLETED')) :
						!(taskWithoutProgress)					? toUpperCase(tr('IDS_TASK_IN_PROGRESS'))
																: ''"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(taskWithoutProgress) || (state == 3) || (state == 5)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="((state == 1) &amp;&amp; (startTime &gt; 0))"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="timeFormat" value="!!(startTime) ? startTime : 0; 'hh:mm dd.MM.yyyy'; 'startTimeDate'; true"/>
			<block type="text">
				<styleClass value="$HugeMargins"/>
				<style>
					<maxWidth value="320"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<bind name="text" value="subst('IDS_TOOLTIP_WAIT_FOR_STARTTIME', [], {timeDate: startTimeDate})"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="	!_isInPostbattle &amp;&amp; ( ((state == 1) &amp;&amp; haveFreeSlot &amp;&amp; (startTime == 0)) ||
											(state == 2) || ((state == 3)) || (canOpenFinalTask)) )"/>
			<styleClass value="$HugeMargins"/>
			<bind name="instance" value="'MouseInstruction'; { 	_type: 'left', 
												_instructionText: 	(state == 1 &amp;&amp; (startTime == 0))			? 'IDS_SHOW_TASK_DETAILS' :
																	(state == 2 &amp;&amp; taskWithoutProgress) 	? 'IDS_SHOW_TASK_DETAILS' :
																	(state == 2 &amp;&amp; !taskWithoutProgress) 	? 'IDS_TASK_CANCEL_EXECUTION' :
																	(state == 3) 								? 'IDS_TAKE_REWARD':
																	(canOpenFinalTask) 												? 'IDS_OPEN_FINAL_TASK'
																							 										: '',
												_maxWidth: 300 }"/>
		</block>
		<block>
			<styleClass value="$HugeMargins"/>
			<style>
				<marginTop value="-6px"/>
			</style>
			<bind name="visible" value="	!_isInPostbattle &amp;&amp;
						((state == 1) &amp;&amp; haveFreeSlot &amp;&amp; (startTime == 0)) || ((state == 2) &amp;&amp; taskWithoutProgress)"/>
			<bind name="instance" value="'MouseInstruction'; { 	_type: 'double_left', 
												_instructionText: 	((state == 1) &amp;&amp; (startTime == 0)) 	? 'IDS_CHOOSE_TASK_FOR_PASSING_QUICK' :
																	(state == 2) 						? 'IDS_SHOW_TASK_DETAILS_QUICK' 
																							 									: '',
												_maxWidth: 300 }"/>
		</block>
	</block>
	<block className="TaskItemInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'premiumUpdate'"/>
		<bind name="primaryEntityDH" value="'campaignTaskEntity'; CC.campaignTaskParams; _taskID"/>
		<bind name="primaryEntityDH" value="'mission'; CC.campaignMissionParams; campaignTaskEntity.campaignTaskParams.missionID"/>
		<bind name="primaryEntityDH" value="'campaing'; CC.campaignParams; campaignTaskEntity.campaignTaskParams.campaignID"/>
		<bind name="firstEntityDH" value="'slotsEntity'; CC.constantsCampaignSlots"/>
		<bind name="collectionDH" value="CC.campaignTaskPlayer; 'choosenTasks'; 'active'"/>
		<bind name="watchDH" value="'stars';['mission.campaignMissionPlayer.evUpdate']; mission.campaignMissionPlayer.stars"/>
		<bind name="watchDH" value="'state';['campaignTaskEntity.campaignTaskPlayer.evUpdate']; campaignTaskEntity.campaignTaskPlayer.state"/>
		<bind name="watchDH" value="'isLooted';['campaignTaskEntity.campaignTaskPlayer.evUpdate']; campaignTaskEntity.campaignTaskPlayer.isLooted"/>
		<bind name="watchDH" value="'goals';['campaignTaskEntity.campaignTaskPlayer.evUpdate']; campaignTaskEntity.campaignTaskParams.goals"/>
		<bind name="watchDH" value="'rewards';['campaignTaskEntity.campaignTaskPlayer.evUpdate']; campaignTaskEntity.campaignTaskParams.rewards"/>
		<bind name="watchDH" value="'taskProgress';['campaignTaskEntity.progress.evChanged']; campaignTaskEntity.progress.value"/>
		<bind name="watchDH" value="'max';[]; campaignTaskEntity.progress.max"/>
		<bind name="watchDH" value="'common'; []; slotsEntity.constantsCampaignSlots.common"/>
		<bind name="watchDH" value="'premium'; []; slotsEntity.constantsCampaignSlots.premium"/>
		<bind name="watchDH" value="'isMainTask';[]; campaignTaskEntity.campaignTaskParams.isMainTask"/>
		<bind name="watchDH" value="'costUnlock';[]; campaignTaskEntity.campaignTaskParams.costUnlock"/>
		<bind name="watchDH" value="'missionState';['mission.campaignMissionPlayer.evUpdate']; mission.campaignMissionPlayer.state"/>
		<bind name="watchDH" value="'startTime';['campaignTaskEntity.campaignTaskRestrictions.evUpdate']; campaignTaskEntity.campaignTaskRestrictions.startTime"/>
		<bind name="watch" value="'canOpenFinalTask'; 	(isMainTask) &amp;&amp; (stars &gt;= costUnlock) &amp;&amp; (state == 0)"/>
		<bind name="watch" value="'availableSlots'; 		(accountResourceInfo.isPremium ? (common + premium) : common)"/>
		<bind name="watch" value="'haveFreeSlot'; 		(choosenTasks.length &lt; availableSlots)"/>
		<style>
			<width value="350px"/>
		</style>
		<styleClass value="$VerticalInfotipBehaviourCenter"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginTop value="-8px"/>
				<marginRight value="-13px"/>
				<marginLeft value="-13px"/>
				<marginBottom value="-16px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'TaskItemHeader'; {_taskID: _taskID}"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="goals.length &gt; 0"/>
			<block>
				<styleClass value="$HugeMargins"/>
				<bind name="repeat" value="goals; 'GoalsItem'; {}"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="-2px"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<bind name="instance" value="'TaskContainerRestriction'; {_taskID: _taskID}"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<styleClass value="$HugeMargins"/>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="tooltip" value="'RewardContainerTooltip'; { _rewards: rewards, _tooltipHeader: 'IDS_REWARDS_CAMPAIGN_TASK', _isDH20: true}"/>
			<block>
				<style>
					<marginRight value="16px"/>
				</style>
				<bind name="style" value="'alpha'; (isLooted ? 0.7 : 1)"/>
				<block className="icon_giftbox_small" type="native"/>
				<block>
					<bind name="visible" value="isLooted"/>
					<style>
						<position value="absolute"/>
						<top value="21px"/>
						<left value="23px"/>
					</style>
					<block className="icon_issued_small" type="native">
						<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
						<bind name="gotoAndStop!" value="'issued'"/>
					</block>
				</block>
			</block>
			<block type="text">
				<style>
					<maxWidth value="240"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="!isLooted ? 'IDS_ADDITIONAL_REWARD_BEFORE' : 'IDS_ADDITIONAL_REWARD_AFTER'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="(state == 2) || (state == 3) || canOpenFinalTask ||
					   ((state == 1) &amp;&amp; (startTime == 0) &amp;&amp; haveFreeSlot)"/>
			<styleClass value="$HugeMargins"/>
			<block className="button_default" type="native">
				<params>
					<param name="name" value="ActivateButtonTask"/>
				</params>
				<style>
					<width value="210px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<bind name="focus" value="1; true"/>
				<bind name="label" value=" 	(state == 1) 			 	? toUpperCase(tr('IDS_ACTIVATE_TASK'))  :
							(state == 2) 			 	? toUpperCase(tr('IDS_DEACTIVATE_TASK'))  :
							(state == 3) &amp;&amp; !(isLooted)	? toUpperCase(tr('IDS_TAKE_REWARD')) :
							(state == 3) &amp;&amp; (isLooted) 	? toUpperCase(tr('IDS_TAKE_STARS'))  :
							(canOpenFinalTask) 									? toUpperCase(tr('IDS_OPEN_FINAL_TASK'))
																				: null"/>
				<bind name="action" value="'buttonClick';  ((taskProgress &gt; 0) &amp;&amp; (taskProgress &lt; max)) 	? null 
																						: (state == 1) 		? 'CampaignsProxy.activateTask'
																						: (state == 2) 	? 'CampaignsProxy.deactivateTask'
																						: (state == 3) 		? 'CampaignsProxy.takeReward'
																						: (canOpenFinalTask)						? 'CampaignsProxy.unlockTask'
																																	: null ; { taskID: campaignTaskEntity.campaignTaskParams.id}"/>
				<bind name="dispatch" value="'buttonClick'; 'Tooltip.Close'; {}"/>
				<bind name="request" value="'buttonClick'; ((taskProgress &gt; 0) &amp;&amp; (taskProgress &lt; max)) 	? 'CampaignsProxy.deactivateTask'
																						: null; {taskID: campaignTaskEntity.campaignTaskParams.id}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="	(state == 5) || (state == 0) || ((state == 1) &amp;&amp; !(haveFreeSlot))
						|| ((state == 1) &amp;&amp; (startTime &gt; 0))"/>
			<bind name="timeFormat" value="!!(startTime) ? startTime : 0; 'hh:mm dd.MM.yyyy'; 'startTimeDate'; true"/>
			<styleClass value="$HugeMargins"/>
			<block type="text">
				<style>
					<maxWidth value="320"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<bind name="text" value="(state == 5) 						? 'IDS_IMPOSSIBLE_TO_CHOOSE_TASK':
						((state == 1) &amp;&amp; !(haveFreeSlot)) 	? 'IDS_TOOLTIP_NEED_FREE_SLOT':
						((state == 1) &amp;&amp; (startTime &gt; 0)) 	? subst('IDS_TOOLTIP_WAIT_FOR_STARTTIME', [], { timeDate: startTimeDate }):
						(state == 0) &amp;&amp; (isMainTask) &amp;&amp; (missionState != 0)	? 'IDS_TOOLTIP_FINAL_TASK_LOCKED':
						(state == 0)							? 'IDS_TOOLTIP_TASK_LOCKED'
										 											: ''"/>
			</block>
		</block>
		<block className="dock_panel_pin_h" type="native">
			<style>
				<position value="absolute"/>
				<marginTop value="-8px"/>
			</style>
			<bind name="gotoAndStop!" value="'left'"/>
			<params>
				<param name="name" value="pinLeft"/>
			</params>
		</block>
		<block className="dock_panel_pin_h" type="native">
			<style>
				<position value="absolute"/>
				<marginTop value="-8px"/>
				<right value="-8px"/>
			</style>
			<bind name="gotoAndStop!" value="'right'"/>
			<params>
				<param name="name" value="pinRight"/>
			</params>
		</block>
	</block>
	<block className="TaskItemHeader">
		<bind name="primaryEntityDH" value="'campaignTaskEntity'; CC.campaignTaskParams; _taskID"/>
		<bind name="primaryEntityDH" value="'mission'; CC.campaignMissionParams; campaignTaskEntity.campaignTaskParams.missionID"/>
		<bind name="primaryEntityDH" value="'campaing'; CC.campaignParams; campaignTaskEntity.campaignTaskParams.campaignID"/>
		<bind name="watchDH" value="'state';['campaignTaskEntity.campaignTaskPlayer.evUpdate']; campaignTaskEntity.campaignTaskPlayer.state"/>
		<bind name="watchDH" value="'taskProgress';['campaignTaskEntity.progress.evChanged']; campaignTaskEntity.progress.value"/>
		<bind name="watchDH" value="'max';[]; campaignTaskEntity.progress.max"/>
		<bind name="watchDH" value="'missionState';['mission.campaignMissionPlayer.evUpdate']; mission.campaignMissionPlayer.state"/>
		<bind name="watchDH" value="'number';[]; campaignTaskEntity.campaignTaskParams.number"/>
		<bind name="watchDH" value="'campaignName';[]; campaing.campaignParams.name"/>
		<bind name="watchDH" value="'uiNumber';[]; mission.campaignMissionParams.uiNumber"/>
		<bind name="watchDH" value="'isMainTask';[]; campaignTaskEntity.campaignTaskParams.isMainTask"/>
		<bind name="watchDH" value="'lootStars';[]; campaignTaskEntity.campaignTaskParams.lootStars"/>
		<bind name="watchDH" value="'costUnlock';[]; campaignTaskEntity.campaignTaskParams.costUnlock"/>
		<bind name="watchDH" value="'bgIconID';[]; campaignTaskEntity.campaignTaskParams.bgIconID"/>
		<bind name="watchDH" value="'isLooted';['campaignTaskEntity.campaignTaskPlayer.evUpdate']; campaignTaskEntity.campaignTaskPlayer.isLooted"/>
		<style>
			<width value="100%"/>
			<height value="120px"/>
			<paddingTop value="2px"/>
			<paddingRight value="2px"/>
			<paddingLeft value="2px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../campaigns/bg_task_item/' + 'task_bg_campaign_' + (bgIconID ? bgIconID : number) + '.png'"/>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<style>
					<alpha value="2.5"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="(state == 3) || (state == 5) || isLooted"/>
			<style>
				<backgroundImage value="symbol:quest_done_icon"/>
				<top value="10px"/>
				<right value="32px"/>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<block>
				<style>
					<width value="120px"/>
					<height value="120px"/>
				</style>
				<bind name="tooltip" value="'SimpleTooltip';  {tooltipText: 'IDS_MISSION_NUMBER'}"/>
				<bind name="style" value="'backgroundImage'; (missionState == 5) 	? 'url:../campaigns/missions_pin/' + campaignName + '_done_pin.png'
																								: 'url:../campaigns/missions_pin/' + campaignName + '_pin.png'"/>
				<block type="text">
					<bind name="visible" value="(state != 0) &amp;&amp; (missionState != 5)"/>
					<style>
						<alpha value="0.8"/>
						<position value="absolute"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextAccentBoldAccountLevel2"/>
					<bind name="text" value="uiNumber"/>
				</block>
				<block>
					<bind name="visible" value="state == 0"/>
					<styleClass value="$FullsizeAbsolute"/>
					<block>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$MiddleVAligned"/>
						<block className="icon_locked_mc" type="native"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<style>
						<marginTop value="3px"/>
						<maxWidth value="140"/>
					</style>
					<styleClass value="$TextLargeHeaderBold"/>
					<bind name="text" value="isMainTask 	? (toUpperCase(tr('IDS_FINAL_TASK')))
										: (toUpperCase(tr('IDS_CAMPAIGN_TASK'))) + ' ' + number"/>
				</block>
				<block className="indicator_progress_bar" type="native">
					<bind name="visible" value="((taskProgress &gt; 0) &amp;&amp; (taskProgress &lt; max) )"/>
					<style>
						<width value="200px"/>
					</style>
					<bind name="value" value="(taskProgress/max) * 10"/>
				</block>
				<block>
					<bind name="visible" value="((taskProgress &gt; 0) &amp;&amp; (taskProgress &lt; max) )"/>
					<style>
						<width value="100%"/>
						<marginTop value="-3px"/>
					</style>
					<block type="text">
						<styleClass value="$TextHeader"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="taskProgress + '/' + max"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="((missionState == 0) || (missionState == 2)) &amp;&amp; !isMainTask"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_STARS_FOR_BATTLE'}"/>
					<style>
						<marginTop value="5px"/>
						<marginLeft value="-2px"/>
					</style>
					<block>
						<bind name="repeat" value="lootStars; 'StarsEarnedEnable'"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block>
						<style>
							<position value="absolute"/>
						</style>
						<bind name="repeat" value="costUnlock; 'StarsEarnedDisabled'"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="WindowTaskHeaderInstruction">
		<bind name="primaryEntityDH" value="'mission'; CC.campaignMissionParams; _curMissionId"/>
		<bind name="primaryEntityDH" value="'missionMainTaskEntity'; CC.campaignTaskParams; mission.campaignMissionParams.mainTask"/>
		<bind name="watchDH" value="'missionState';['mission.campaignMissionPlayer.evUpdate']; mission.campaignMissionPlayer.state"/>
		<bind name="watchDH" value="'costUnlock';[]; missionMainTaskEntity.campaignTaskParams.costUnlock"/>
		<bind name="watchDH" value="'mainTask';[]; mission.campaignMissionParams.mainTask"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="instance" value="'TaskItem'; {_isShipSuitable: true, _isBattleSuitable: true, _isUseless: false, _taskID: mainTask}"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="1.5sw"/>
			</style>
			<block>
				<bind name="instance" value="'WindowHeaderCostUnlock'; {_curMissionId: _curMissionId, _isInHeader: true}"/>
			</block>
			<block>
				<style>
					<marginTop value="3px"/>
				</style>
				<block type="text">
					<styleClass value="$TextHeaderWhite"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<style>
						<maxWidth value="500"/>
						<leading value="-2"/>
					</style>
					<bind name="text" value="(missionState == 0) 		? 'IDS_MISSION_STATE_LOCKED' :
							(missionState == 2)	?  subst('IDS_CHOOSE_TASK_DESCR', [], {count: costUnlock}, costUnlock) :
							(missionState == 4) 	? 'IDS_MISSION_STATE_OPENED_BOSS'
																				: 'IDS_MISSION_STATE_COMPLETED'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="WindowHeaderCostUnlock">
		<bind name="primaryEntityDH" value="'campaignMissionEntity'; CC.campaignMissionParams; _curMissionId"/>
		<bind name="primaryEntityDH" value="'missionMainTaskEntity'; CC.campaignTaskParams; campaignMissionEntity.campaignMissionParams.mainTask"/>
		<bind name="watchDH" value="'stars';['campaignMissionEntity.campaignMissionPlayer.evUpdate']; campaignMissionEntity.campaignMissionPlayer.stars"/>
		<bind name="watchDH" value="'costUnlock'; []; missionMainTaskEntity.campaignTaskParams.costUnlock"/>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_STARS_FOR_BATTLE_EMPTY'}"/>
			<bind name="repeat" value="costUnlock; 'StarsEarnedDisabled'; {_isInHeader: _isInHeader}"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_STARS_FOR_BATTLE_EARNED'}"/>
			<bind name="repeat" value="stars; 'StarsEarnedEnable'; {_isInHeader: _isInHeader}"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="StarsEarnedEnable">
		<style>
			<width value="23px"/>
			<height value="23px"/>
		</style>
		<bind name="style" value="'marginLeft'; _isInHeader ? '10px' : '3px'"/>
		<bind name="style" value="'marginBottom'; _isInTooltip ? '6px' : '0px'"/>
		<block className="icon_campaign_ensign" type="native">
			<bind name="gotoAndStop!" value="'full'"/>
		</block>
	</block>
	<block className="StarsEarnedDisabled">
		<style>
			<width value="23px"/>
			<height value="23px"/>
		</style>
		<bind name="style" value="'marginLeft'; _isInHeader ? '10px' : '3px'"/>
		<bind name="style" value="'marginBottom'; _isInTooltip ? '6px' : '0px'"/>
		<block className="icon_campaign_ensign" type="native">
			<bind name="gotoAndStop!" value="'empty'"/>
		</block>
	</block>
	<block className="GoalsItem">
		<bind name="entityDH" value="'campaignGoalsEntity'; $value"/>
		<bind name="watchDH" value="'l10nText';[]; campaignGoalsEntity.campaignTaskGoal.l10nText"/>
		<bind name="watchDH" value="'l10nRestriction';[]; campaignGoalsEntity.campaignTaskGoal.l10nRestriction"/>
		<block type="text">
			<bind name="style" value="'maxWidth'; _isInMissionTooltip ? '245' : '320'"/>
			<styleClass value="$TextHeader"/>
			<bind name="text" value="l10nText"/>
		</block>
		<block type="text">
			<bind name="style" value="'maxWidth'; _isInMissionTooltip ? '245' : '320'"/>
			<styleClass value="$TextHeader"/>
			<bind name="text" value="l10nRestriction"/>
		</block>
	</block>
	<block className="BattleLoadingPVETasks">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-4px"/>
				<marginRight value="12px"/>
				<marginBottom value="22px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontSizeHeader6'"/>
				<style>
					<width value="100%"/>
					<leading value="1"/>
				</style>
				<text value="IDS_HALLOWEEN_LOADING_DESCRIPTION"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'PVETasksList'; {_primaryTasks: _primaryTasks, _secondaryTasks: _secondaryTasks}"/>
		</block>
	</block>
	<block className="PVETasksList">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="_primaryTasks.length &gt; 0"/>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="4px"/>
				</style>
				<bind name="instance" value="'PVETasksHeader'; {_headerText: 'IDS_PRIMARYHEADER'}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="15px"/>
					<marginBottom value="12px"/>
				</style>
				<bind name="repeat" value="_primaryTasks; 'PVETaskItem'"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="_secondaryTasks.length &gt; 0"/>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="4px"/>
				</style>
				<bind name="instance" value="'PVETasksHeader'; {_headerText: 'IDS_SECONDARYHEADER'}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="15px"/>
				</style>
				<bind name="repeat" value="_secondaryTasks; 'PVETaskItem'"/>
			</block>
		</block>
	</block>
	<block className="PVETasksHeader">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$TextDefaultBold"/>
			<bind name="class" value="'$FontSizeHeader4'"/>
			<bind name="class" value="'$FontColorDefault'"/>
			<bind name="text" value="_headerText"/>
		</block>
	</block>
	<block className="PVETaskItem">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
			<marginBottom value="4px"/>
		</style>
		<block>
			<style>
				<marginRight value="8px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_task_status" type="native">
				<bind name="gotoAndStop!" value="status == 2		? 'success' :
								status == 0 ? 'not_started' :
								status == 1	? 'not_started'
																		: 'fail'"/>
			</block>
		</block>
		<bind name="watch" value="'taskText'; '&lt;body&gt;' + tr('IDS_BATTLE_TASK_TEXT_' + name) + ((type != null &amp;&amp; type == 1)	? ('&lt;h3&gt; ('+ progressValue + '/' + progressMax + ')&lt;/h3&gt;&lt;/body&gt;')
																																: '&lt;/body&gt;')"/>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="'$FontSizeHeader6'"/>
			<style>
				<width value="100%f"/>
				<leading value="-3"/>
				<styleSheet value="h3{color: #9CBABA}"/>
			</style>
			<bind name="text" value="taskText"/>
		</block>
		<block>
			<bind name="visible" value="	(status != 0) &amp;&amp;
						(status != 1)"/>
			<style>
				<marginLeft value="10px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontSizeHeader6'"/>
				<bind name="class" value="(status == 2 ? '$FontColorHealth' : '$FontColorUnready')"/>
				<bind name="text" value="(status == 2 ? 'IDS_DONE' : 'IDS_FAILED')"/>
			</block>
		</block>
	</block>
	<css name="$RepeatMarginsForTasks">
		<marginTop value="1.2sw"/>
		<marginBottom value="1.2sw"/>
		<marginLeft value="1.2sw"/>
		<marginRight value="1.2sw"/>
	</css>
	<block className="ChooseCampaign">
		<bind name="collectionDH" value="CC.campaignParams; 'campaignParamsCollection'; 'campaignParamsSorted'"/>
		<params>
			<param name="name" value="ChooseCampaign"/>
		</params>
		<style>
			<width value="100%"/>
		</style>
		<bind name="instance" value="'SSECarousel'; {	_wheelScrollSpeed: 417,
										_repeatCollection: campaignParamsCollection,
										_repeatElement: 'CampaignItem',
										currentSelectedIndex: currentSelectedIndex,
										_height: '440px',
										_type: SSETypes.CHALLENGE }"/>
	</block>
	<block className="CampaignItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="collectionDH" value="CC.campaignPlayer; 'campaignPlayerCollection'"/>
		<bind name="entityDH" value="'campaignPlayerEntity'; campaignPlayerCollection[0].id"/>
		<bind name="watchDH" value="'state'; ['campaignPlayerEntity.campaignPlayer.evUpdate']; campaignPlayerEntity.campaignPlayer.state"/>
		<bind name="watchDH" value="'campaignName'; []; $dataRef.ref.campaignParams.name"/>
		<bind name="watchDH" value="'isActivated'; ['$dataRef.ref.campaignParams.evUpdate']; $dataRef.ref.campaignParams.isActivated"/>
		<bind name="watchDH" value="'allMissions'; []; $dataRef.ref.campaignParams.allMissions"/>
		<bind name="watchDH" value="'countTasks'; []; $dataRef.ref.campaignParams.countTasks"/>
		<bind name="watchDH" value="'startTime'; []; $dataRef.ref.campaignParams.startTime"/>
		<bind name="watchDH" value="'endTime'; []; $dataRef.ref.campaignParams.endTime"/>
		<bind name="transition" value="rollOver &amp;&amp; isActivated; 0.15; {alpha: 1}; {alpha: 1.3}"/>
		<bind name="dispatch" value="'click'; isActivated ? 'campaignParamsChanged' : null; {curCampaignId: $dataRef.ref.campaignParams.id}"/>
		<bind name="action" value="'click'; isActivated ? 'campaignState.missions' : null"/>
		<bind name="soundSet" value="'default_button'"/>
		<style>
			<width value="345px"/>
			<height value="440px"/>
			<marginLeft value="2sw"/>
			<marginRight value="2sw"/>
			<marginBottom value="2sw"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'alpha'; isActivated ? 1.0 : 0.7"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; isActivated 	? {_mouseInstructions: [{_type: 'left', _instructionText: 'IDS_CAMPAIGN_HINT_DESCR'}], _multiParagraphArray: null, _maxWidth: 250}
																		: {_mouseInstructions: null, _multiParagraphArray: [{_paragraphText: 'IDS_INACTIVE_CAMPAIGN_HINT_DESCR'}], _maxWidth: 250}"/>
			<block>
				<block className="DropShadow">
					<styleClass value="$FullsizeAbsolute"/>
					<styleClass value="$MouseDisable"/>
					<block className="drop_shadow" type="native">
						<styleClass value="$Fullsize"/>
						<style>
							<position value="absolute"/>
							<marginTop value="-2px"/>
							<marginRight value="-6px"/>
							<marginBottom value="-10px"/>
							<marginLeft value="-6px"/>
						</style>
					</block>
				</block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<width value="345px"/>
					<height value="440px"/>
					<position value="absolute"/>
					<alpha value="0.8"/>
					<backgroundSize value="cover"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:../campaigns/bg_campaign_item/' + campaignName + '_bg.png'"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="309px"/>
				</style>
				<block type="text">
					<bind name="name" value="'CampaignItem_' + campaignName"/>
					<styleClass value="$TextAccentBoldAccountLevel2"/>
					<style>
						<width value="100%"/>
						<textAlign value="center"/>
						<leading value="-10"/>
						<marginTop value="-50%"/>
					</style>
					<bind name="text" value="'IDS_' + toUpperCase(tr(campaignName)) + '_TITLE'"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<height value="95px"/>
				<bottom value="0px"/>
				<backgroundColor value="0x80000000"/>
				<position value="absolute"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block>
					<styleClass value="$MiddleAligned"/>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="subst('IDS_TOTAL_MISSIONS_IN_CAMPAIGN', [], {count: allMissions.length}, allMissions.length) "/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="'-' + ' ' + subst('IDS_TOTAL_TASKS_IN_CAMPAIGN', [], {count: countTasks}, countTasks) "/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="(isActivated &amp;&amp; (endTime != 0)) || !isActivated"/>
					<bind name="tooltip" value="'SimpleTooltip'; isActivated ? { tooltipText: 'IDS_HINT_CAMPAIGN_LIFETIME' }
															: { tooltipText: 'IDS_HINT_CAMPAIGN_STARTTIME' }"/>
					<bind name="timeFormat" value="endTime; 'dd.MM.yyyy'; 'finishCampaignAt'; true"/>
					<bind name="timeFormat" value="startTime; 'dd.MM.yyyy'; 'startCampaignAt'; true"/>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="isActivated ? subst('IDS_CAMPAIGH_TIME_FINISHED', [], { date: finishCampaignAt })
											: subst('IDS_CAMPAIGN_TIME_START', [], { date: startCampaignAt })"/>
					</block>
				</block>
			</block>
		</block>
	</block>
	<css name="$HugeMargins">
		<width value="100%"/>
		<marginTop value="10px"/>
		<marginLeft value="18px"/>
		<marginBottom value="10px"/>
		<marginRight value="18px"/>
	</css>
	<block className="ChooseMission">
		<bind name="primaryEntityDH" value="'campaign'; CC.campaignParams; _curCampaignId"/>
		<bind name="primaryEntityDH" value="'mainTaskEntity'; CC.campaignTaskParams; campaign.campaignParams.mainTask"/>
		<bind name="primaryEntityDH" value="'mapPositions'; CC.campaignTaskParams; campaign.campaignParams.mapPositions"/>
		<bind name="watchDH" value="'states';['campaign.campaignPlayer.evUpdate']; campaign.campaignPlayer.missionsStates"/>
		<bind name="repeat" value="campaign.campaignParams.allMissions; 'MissionItem'; {_curCampaignId: _curCampaignId, _mapPosition: campaign.campaignParams.mapPositions}"/>
		<styleClass value="$Fullsize"/>
		<block className="lesta.display.MapPath" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="states" value="states"/>
			<bind name="pathNodes" value="campaign.campaignParams.mapPositions"/>
			<bind name="dashSize" value="12"/>
			<bind name="spaceSize" value="8"/>
			<bind name="shadowDistance" value="3"/>
			<bind name="shadowAngle" value="60"/>
			<bind name="shadowColor" value="0"/>
			<bind name="shadowAlpha" value="0.6"/>
			<bind name="shadowStrength" value="1"/>
			<bind name="approximation" value="1"/>
			<bind name="tension" value="0.5"/>
			<bind name="linestyles" value="[
							{
								thickness: 1.5,
								color: 0xCCCCCC,
								alpha: 0.7,
								pixelHinting: false,
								scaleMode: 'normal',
								caps: 'none'
							},
							{
								thickness: 2.2,
								color: 0xffffff,
								alpha: 1,
								pixelHinting: false,
								scaleMode: 'normal',
								caps: 'none'
							},
							{
								thickness: 2.2,
								color: 0xffffff,
								alpha: 1,
								pixelHinting: false,
								scaleMode: 'normal',
								caps: 'none'
							},
							{
								thickness: 2.2,
								color: 0xffffff,
								alpha: 1,
								pixelHinting: false,
								scaleMode: 'normal',
								caps: 'none'
							},
							{
								thickness: 2.2,
								color: 0xffffff,
								alpha: 1,
								pixelHinting: false,
								scaleMode: 'normal',
								caps: 'none'
							},
							{
								thickness: 2.2,
								color: 0xffffff,
								alpha: 1,
								pixelHinting: false,
								scaleMode: 'normal',
								caps: 'none'
							},
							
						]"/>
		</block>
	</block>
	<block className="MissionItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="primaryEntityDH" value="'campaignMissionEntity'; CC.campaignMissionParams; $value"/>
		<bind name="primaryEntityDH" value="'missionMainTaskEntity'; CC.campaignTaskParams; mainTask"/>
		<bind name="primaryEntityDH" value="'campaing'; CC.campaignParams; _curCampaignId"/>
		<bind name="watchDH" value="'state';['campaignMissionEntity.campaignMissionPlayer.evUpdate']; campaignMissionEntity.campaignMissionPlayer.state"/>
		<bind name="watchDH" value="'missionProgress';['campaignMissionEntity.progress.evChanged']; campaignMissionEntity.progress.value"/>
		<bind name="watchDH" value="'missionProgressMax';['campaignMissionEntity.progress.evChanged']; campaignMissionEntity.progress.max"/>
		<bind name="watchDH" value="'mainTask';[]; campaignMissionEntity.campaignMissionParams.mainTask"/>
		<bind name="watchDH" value="'usualTasks';[]; campaignMissionEntity.campaignMissionParams.usualTasks"/>
		<bind name="watchDH" value="'mapPosition';[]; campaignMissionEntity.campaignMissionParams.mapPosition"/>
		<bind name="watchDH" value="'uiNumber';[]; campaignMissionEntity.campaignMissionParams.uiNumber"/>
		<bind name="watchDH" value="'campaignName';[]; campaing.campaignParams.name"/>
		<bind name="stageSize"/>
		<style>
			<position value="absolute"/>
		</style>
		<bind name="style" value="'left'; ((_mapPosition[$index*2]) * 100 + '%')"/>
		<bind name="style" value="'top'; ((_mapPosition[$index*2+1]) * 100 + '%')"/>
		<bind name="soundSet" value="'default_button'"/>
		<bind name="dispatch" value="'click'; 'campaignParamsChanged'; {curMissionId: campaignMissionEntity.campaignMissionParams.id}"/>
		<bind name="action" value="'click'; 'campaignState.tasks'"/>
		<bind name="tooltip" value="'MissionItemTooltip'; {_curItemId: campaignMissionEntity.campaignMissionParams.id, _curCampaignId: _curCampaignId}"/>
		<block>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<styleClass value="$MiddleVAligned"/>
			<block className="indicator_progress_bar" type="native">
				<bind name="visible" value="(missionProgress &gt; 0) &amp;&amp; (missionProgress != missionProgressMax)"/>
				<style>
					<width value="100%"/>
					<marginBottom value="2px"/>
				</style>
				<bind name="value" value="(missionProgress / (usualTasks.length + 1)) * 10"/>
			</block>
			<bind name="watch" value="'isGoodResolution'; (stageWidth  &gt;= 1440) || (stageHeight &gt;= 900)"/>
			<block>
				<bind name="name" value="'MissionItem_' + uiNumber"/>
				<bind name="style" value="'width';  isGoodResolution ? '120px' : '90px'"/>
				<bind name="style" value="'height'; isGoodResolution ? '120px' : '90px'"/>
				<style>
					<backgroundSize value="cover"/>
				</style>
				<bind name="transition" value="rollOver &amp;&amp; !(mouseDown); 0.15; {alpha: 0.9}; {alpha: 1}"/>
				<bind name="style" value="'backgroundImage'; (state == 0) 		? 'url:../campaigns/missions_pin/' + campaignName + '_locked_pin.png':
											(state == 5) 	? 'url:../campaigns/missions_pin/' + campaignName + '_done_pin.png'
																						: 'url:../campaigns/missions_pin/' + campaignName + '_pin.png'"/>
				<block>
					<bind name="visible" value="(state != 0)"/>
					<bind name="transition" value="rollOver; 0.15; {alpha: 0}; {alpha: 1}; {alpha: 0}"/>
					<bind name="style" value="'width';  isGoodResolution ? '120px' : '90px'"/>
					<bind name="style" value="'height'; isGoodResolution ? '120px' : '90px'"/>
					<style>
						<backgroundSize value="cover"/>
						<position value="absolute"/>
					</style>
					<bind name="style" value="'backgroundImage'; (state == 5) 	? 'url:../campaigns/missions_pin/over/' + campaignName + '_over_done_pin.png'
																							: 'url:../campaigns/missions_pin/over/' + campaignName + '_over_pin.png'"/>
				</block>
				<block type="text">
					<bind name="visible" value="(state == 2) || (state == 4)"/>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextAccentBoldAccountLevel2"/>
					<bind name="text" value="uiNumber"/>
				</block>
				<block>
					<bind name="visible" value="(state == 0)"/>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$MiddleVAligned"/>
					<block className="icon_locked_mc" type="native"/>
				</block>
			</block>
		</block>
	</block>
	<block className="MissionItemTooltip">
		<bind name="primaryEntityDH" value="'campaignMissionEntity'; CC.campaignMissionParams; _curItemId"/>
		<bind name="primaryEntityDH" value="'missionMainTaskEntity'; CC.campaignTaskParams; mainTask"/>
		<bind name="primaryEntityDH" value="'campaing'; CC.campaignParams; _curCampaignId"/>
		<bind name="watchDH" value="'stars';['campaignMissionEntity.campaignMissionPlayer.evUpdate']; campaignMissionEntity.campaignMissionPlayer.stars"/>
		<bind name="watchDH" value="'missionProgress';['campaignMissionEntity.progress.evChanged']; campaignMissionEntity.progress.value"/>
		<bind name="watchDH" value="'missionProgressMax';['campaignMissionEntity.progress.evChanged']; campaignMissionEntity.progress.max"/>
		<bind name="watchDH" value="'mainTask';[]; campaignMissionEntity.campaignMissionParams.mainTask"/>
		<bind name="watchDH" value="'mainTaskState';['missionMainTaskEntity.campaignTaskPlayer.evUpdate']; missionMainTaskEntity.campaignTaskPlayer.state"/>
		<bind name="watchDH" value="'missionState';['campaignMissionEntity.campaignMissionPlayer.evUpdate']; campaignMissionEntity.campaignMissionPlayer.state"/>
		<bind name="watchDH" value="'goals';[]; missionMainTaskEntity.campaignTaskParams.goals"/>
		<bind name="watchDH" value="'usualTasks';[]; campaignMissionEntity.campaignMissionParams.usualTasks"/>
		<bind name="watchDH" value="'costUnlock';[]; missionMainTaskEntity.campaignTaskParams.costUnlock"/>
		<bind name="watchDH" value="'uiNumber';[]; campaignMissionEntity.campaignMissionParams.uiNumber"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="350px"/>
			<hitTest value="false"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<height value="120px"/>
			</style>
			<bind name="instance" value="'MissionItemTooltipHeader'; {_curCampaignId: _curCampaignId, _curItemId: _curItemId}"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="missionState == 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$HugeMargins"/>
				<block type="text">
					<styleClass value="$TextHeader"/>
					<bind name="class" value="'$FontColorUnready'"/>
					<style>
						<maxWidth value="320"/>
						<textAlign value="center"/>
					</style>
					<bind name="text" value="'IDS_LOCKED_MISSION_TOOLTIP'"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(missionProgress &gt; 0) &amp;&amp; (missionProgress != missionProgressMax)"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$HugeMargins"/>
				<block className="indicator_progress_bar" type="native">
					<style>
						<width value="100%"/>
					</style>
					<bind name="value" value="(missionProgress / (usualTasks.length + 1)) * 10"/>
				</block>
				<block type="text">
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$TextHeader"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="tr('IDS_DONE_TASKS_COUNT') + ' ' + missionProgress + '/' + (usualTasks.length + 1)"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(missionState != 0)"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$HugeMargins"/>
				<block>
					<style>
						<flow value="htile"/>
						<alpha value="0.7"/>
						<width value="320px"/>
					</style>
					<bind name="repeat" value="costUnlock; 'StarsEarnedDisabled'; {_isInTooltip: true}"/>
				</block>
				<block>
					<style>
						<flow value="htile"/>
						<alpha value="1.2"/>
						<width value="320px"/>
						<position value="absolute"/>
					</style>
					<bind name="repeat" value="stars; 'StarsEarnedEnable'; {_isInTooltip: true}"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="-6px"/>
					</style>
					<styleClass value="$TextHeader"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="tr('IDS_MISSION_TAKE_STARS') + ' ' + stars + '/' + costUnlock"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="missionState != 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$HugeMargins"/>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<block type="text">
						<styleClass value="$TextHeader"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="'IDS_MISSION_FINAL_TASK'"/>
					</block>
					<block>
						<bind name="visible" value="(mainTaskState == 3) || (mainTaskState == 5)"/>
						<style>
							<backgroundImage value="symbol:quest_done_icon"/>
							<marginTop value="3px"/>
							<marginLeft value="3px"/>
						</style>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="repeat" value="goals; 'GoalsItem'; {_isInMissionTooltip: true}"/>
				</block>
				<block>
					<style>
						<right value="-6px"/>
						<position value="absolute"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<style>
							<width value="80px"/>
							<height value="80px"/>
							<alpha value="0.8"/>
							<backgroundSize value="cover"/>
						</style>
						<bind name="style" value="'backgroundImage'; (mainTaskState == 5) 	? 'url:../campaigns/missions_pin/' + (campaing.campaignParams.name) + '_done_pin.png'
																									: 'url:../campaigns/missions_pin/' + (campaing.campaignParams.name) + '_pin.png'"/>
						<block>
							<styleClass value="$MiddleAligned"/>
							<styleClass value="$MiddleVAligned"/>
							<block type="text">
								<bind name="visible" value="(mainTaskState == 1) || (mainTaskState == 2)"/>
								<styleClass value="$TextHeaderWhiteBold"/>
								<bind name="text" value="uiNumber"/>
							</block>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<styleClass value="$MiddleVAligned"/>
							<block className="icon_locked_mc" type="native">
								<bind name="visible" value="(mainTaskState == 0)"/>
								<bind name="scaleX" value="0.7"/>
								<bind name="scaleY" value="0.7"/>
							</block>
						</block>
					</block>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$HugeMargins"/>
			<bind name="visible" value="missionState != 0"/>
			<bind name="instance" value="'MouseInstruction'; { _type: 'left', _instructionText: 'IDS_GO_TO_MISSIONS', _maxWidth: 320 }"/>
		</block>
	</block>
	<block className="MissionItemTooltipHeader">
		<bind name="primaryEntityDH" value="'campaignMissionEntity'; CC.campaignMissionParams; _curItemId"/>
		<bind name="primaryEntityDH" value="'campaing'; CC.campaignParams; _curCampaignId"/>
		<bind name="watchDH" value="'state';['campaignMissionEntity.campaignMissionPlayer.evUpdate']; campaignMissionEntity.campaignMissionPlayer.state"/>
		<bind name="watchDH" value="'campaignName';[]; campaing.campaignParams.name"/>
		<bind name="watchDH" value="'uiNumber';[]; campaignMissionEntity.campaignMissionParams.uiNumber"/>
		<styleClass value="$Fullsize"/>
		<style>
			<paddingTop value="2px"/>
			<paddingRight value="2px"/>
			<paddingLeft value="2px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<alpha value="0.6"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../campaigns/mission_tooltip_bg/' + campaignName + '_tooltip.png'"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block>
				<style>
					<width value="120px"/>
					<height value="120px"/>
					<backgroundSize value="cover"/>
				</style>
				<bind name="style" value="'backgroundImage'; (state == 5) 	? 'url:../campaigns/missions_pin/' + campaignName + '_done_pin.png':
											(state == 0) 		? 'url:../campaigns/missions_pin/' + campaignName + '_locked_pin.png'
														 								: 'url:../campaigns/missions_pin/' + campaignName + '_pin.png'"/>
				<block type="text">
					<bind name="visible" value="(state == 2) || (state == 4)"/>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextAccentBoldAccountLevel2"/>
					<bind name="text" value="uiNumber"/>
				</block>
				<block>
					<bind name="visible" value="(state == 0)"/>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$MiddleVAligned"/>
					<block className="icon_locked_mc" type="native"/>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<style>
						<maxWidth value="200"/>
					</style>
					<styleClass value="$TextHeaderWhiteBold"/>
					<bind name="text" value="toUpperCase(tr('IDS_MISSIONS')) + ' ' + uiNumber"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="TaskContainerRestriction">
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerRange; 'shipLevelsRange'; shipLevels"/>
		<bind name="primaryEntityDH" value="'campaignTaskEntity'; CC.campaignTaskParams; _taskID"/>
		<bind name="watchDH" value="'battleTypes';[]; campaignTaskEntity.campaignTaskRestrictions.battleTypes"/>
		<bind name="watchDH" value="'shipLevels';[]; campaignTaskEntity.campaignTaskRestrictions.shipLevels"/>
		<bind name="watchDH" value="'shipClasses';[]; campaignTaskEntity.campaignTaskRestrictions.shipClasses"/>
		<bind name="watchDH" value="'shipNations';[]; campaignTaskEntity.campaignTaskRestrictions.shipNations"/>
		<bind name="watchDH" value="'shipIDs';[]; campaignTaskEntity.campaignTaskRestrictions.shipIDs"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$HugeMargins"/>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="'IDS_QUEST_START_CONDITIONS'"/>
			</block>
			<block>
				<style>
					<flow value="htile"/>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$InfoLineBoundaries"/>
					<bind name="visible" value="battleTypes.length != 0"/>
					<bind name="repeat" value="battleTypes; 'TaskBattleTypeRestriction'; {}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<block>
						<style>
							<height value="25px"/>
							<marginRight value="10px"/>
						</style>
						<block className="VerticalDivider">
							<style>
								<height value="100%"/>
								<width value="3px"/>
							</style>
							<block className="divider_v" type="native">
								<styleClass value="$Fullsize"/>
							</block>
						</block>
					</block>
					<bind name="tooltip" value="'ShipList'; {_taskID: _taskID}"/>
					<style>
						<marginRight value="10px"/>
					</style>
					<styleClass value="$InfoLineBoundaries"/>
					<bind name="visible" value="shipLevels.length != 0"/>
					<bind name="repeat" value="shipLevelsRange; 'TaskShipLevelRestriction'; {}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="tooltip" value="'ShipList'; {_taskID: _taskID}"/>
					<block>
						<style>
							<height value="25px"/>
							<marginRight value="10px"/>
						</style>
						<block className="VerticalDivider">
							<style>
								<height value="100%"/>
								<width value="3px"/>
							</style>
							<block className="divider_v" type="native">
								<styleClass value="$Fullsize"/>
							</block>
						</block>
					</block>
					<styleClass value="$InfoLineBoundaries"/>
					<bind name="visible" value="shipClasses.length != 0"/>
					<bind name="repeat" value="shipClasses; 'TaskShipClassRestriction';	{_shipIsPremium: campaignTaskEntity.campaignTaskRestrictions.shipIsPremium,																												
																		_shipIsElite: campaignTaskEntity.campaignTaskRestrictions.shipIsElite}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<block>
						<style>
							<height value="25px"/>
							<marginRight value="14px"/>
						</style>
						<block className="VerticalDivider">
							<style>
								<height value="100%"/>
								<width value="3px"/>
							</style>
							<block className="divider_v" type="native">
								<styleClass value="$Fullsize"/>
							</block>
						</block>
					</block>
					<styleClass value="$InfoLineBoundaries"/>
					<bind name="visible" value="shipNations.length != 0"/>
					<bind name="repeat" value="shipNations; 'TaskShipNationRestriction'; {}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="TaskBattleTypeRestriction">
		<block className="icon_battletype_small" type="native">
			<style>
				<marginRight value="10px"/>
				<width value="25px"/>
				<height value="25px"/>
			</style>
			<bind name="gotoAndStop!" value=" 	($value == 0)	? 'RandomBattle' :
								($value == 1) 	? 'TrainingBattle' :
								($value == 2) 	? 'CooperativeBattle' :
								($value == 3) 	? 'TutorialBattle' :
								($value == 4) 	? 'RankedBattle_active':
								($value == 5) 	? 'ClubBattle_active':
								($value == 6) 	? 'PVEBattle_active'
														: null"/>
		</block>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 	($value == 0)	? 'IDS_RANDOM_BATTLE' :
													($value == 1) 	? 'IDS_TRAINING_BATTLE' :
													($value == 2) 	? 'IDS_COOPERATIVE_BATTLE' :
													($value == 3) 	? 'IDS_INTRO_MISSION' :
													($value == 4) 	? 'IDS_RANKED_BATTLE':
													($value == 5) 	? 'IDS_CLUB_BATTLE':
													($value == 6) 	? 'IDS_PVE_BATTLE'
																	: null}"/>
	</block>
	<block className="TaskShipLevelRestriction">
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="text" value="ShipLevels.RLEVELS[$value]"/>
		</block>
	</block>
	<block className="TaskShipClassRestriction">
		<style>
			<marginRight value="10px"/>
			<height value="22px"/>
		</style>
		<block className="icon_ship" type="native">
			<styleClass value="$MiddleVAligned"/>
			<bind name="gotoAndStop!" value="_shipIsPremium ?  $value + '_P' : $value"/>
		</block>
		<block className="icon_wreath" type="native">
			<bind name="visible" value="_shipIsPremium || _shipIsElite"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
				<left value="-5px"/>
			</style>
			<bind name="gotoAndStop!" value="_shipIsPremium ?  'premium' : 'elite'"/>
		</block>
	</block>
	<block className="TaskShipNationRestriction">
		<style>
			<marginRight value="10px"/>
		</style>
		<block>
			<bind name="instance" value="'NationFlagsTiny'; {shipCountry: $value}"/>
		</block>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_SHIP_NATION_RESTRICTION'}"/>
	</block>
	<block className="ShipList">
		<bind name="collectionDH" value="CC.ownShip; 'shipList'; 'campaigns_task_current'"/>
		<bind name="watch" value="'countShipList'; shipList.length - 10"/>
		<bind name="action" value="'Tooltip.selfOpened'; 'updateTaskShipList'; {taskId: _taskID}"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="250px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<bind name="visible" value="shipList.length &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$InfoBlockIndent"/>
				<styleClass value="$TextHeaderBigDefaultTech"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<text value="IDS_AVAILABLE_SHIP"/>
			</block>
			<block>
				<bind name="repeat" value="(shipList.length &gt; 10 ? 10 : shipList.length); 'ShipItem'; {_taskID: _taskID}"/>
			</block>
			<block type="text">
				<bind name="visible" value="(shipList.length) &gt; 10"/>
				<style>
					<marginTop value="-2px"/>
				</style>
				<styleClass value="$InfoBlockIndent"/>
				<styleClass value="$TextHeaderBigDefaultTech"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="subst('IDS_AND_OTHER_SHIPS', [], {count: countShipList}, countShipList)}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="shipList.length &lt;= 0"/>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="2px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<maxWidth value="240"/>
					<leading value="-3"/>
				</style>
				<text value="IDS_NO_SUITABLE_SHIPS"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ShipItem">
		<bind name="collectionDH" value="CC.ownShip; 'shipList'; 'campaigns_task_current'"/>
		<styleClass value="$InfoBlockIndent"/>
		<bind name="instance" value="'ShipLineItem'; {_shipId: shipList[$index].ship.id}"/>
	</block>
	<block className="RewardItem">
		<style>
			<marginLeft value="5px"/>
			<marginRight value="5px"/>
			<marginBottom value="5px"/>
			<height value="80px"/>
		</style>
		<block>
			<style>
				<height value="100%"/>
			</style>
			<block>
				<style>
					<bottom value="0"/>
				</style>
				<bind name="style" value="'alpha'; isPRMP == true ? 1 : 0.6"/>
				<bind name="child" value="type; { rewardItem: {	id: id,
												amount: amount,
												reasons: reasons,
												name: name,
												type: type,
												subtype: subtype,
												isPRMP: isPRMP,
												params: params }, _withTooltip: true }; {	Exterior: 'GiftboxRewardExterior',
																							Modernization: 'RewardResourceItem',
																							Ability: 'RewardResourceItem',
																							Ship: 'RewardShip',
																							Resource: 'RewardResourceItem',
																							ResourceCoeff: 'RewardResourceItem',
																							Crew: 'RewardCrew',
																							Unit: 'UnsupportedReward',
																							Reward: 'UnsupportedReward',
																							Exchange: 'RewardResourceItem'}"/>
			</block>
			<block className="icon_issued_small" type="native">
				<bind name="visible" value="isPRMP == false"/>
				<style>
					<position value="absolute"/>
					<top value="43%"/>
					<left value="33%"/>
					<hitTest value="false"/>
				</style>
				<bind name="rotation" value="(type == 'Ship' || type == 'Exterior')	? -4
									: (type == 'Resource' || type == 'ResourceCoeff')	? -2
																						: 0"/>
				<bind name="scaleX" value="(type == 'Ship')	? 1.3
											: (type == 'Resource' || type == 'ResourceCoeff')	? 1.05
																								: 0.85"/>
				<bind name="scaleY" value="(type == 'Ship')	? 1.3
											: (type == 'Resource' || type == 'ResourceCoeff')	? 1.05
																								: 0.85"/>
				<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
				<bind name="gotoAndStop!" value="'issued'"/>
			</block>
		</block>
	</block>
	<block className="GiftboxRewardExterior">
		<bind name="primaryEntityDH" value="'exteriorEntity'; CC.exteriorConfig; rewardItem.id"/>
		<bind name="watchDH" value="'exteriorConfig'; []; exteriorEntity.exteriorConfig"/>
		<bind name="feature" value="14; ''"/>
		<bind name="watch" value="'isExteriorFeatureNotAvailable'; feature_14 == 'locked'"/>
		<bind name="watch" value="'_isPermoflage'; exteriorConfig.type == ExteriorTypes.CAMOUFLAGE &amp;&amp; exteriorConfig.isPermanent"/>
		<bind name="clickSplit"/>
		<bind name="tooltip" value="'ExteriorRewardTooltip'; { rewardItem: rewardItem}"/>
		<bind name="menu" value="'RewardContextMenu'; (isExteriorFeatureNotAvailable || rewardItem.isPRMP || _isPermoflage)	? null
																											: {_type: rewardItem.type, _subtype: rewardItem.subtype, _exteriorId: rewardItem.id}"/>
		<bind name="action" value="'left_click'; (isExteriorFeatureNotAvailable || rewardItem.isPRMP || _isPermoflage) 	? ''
																										: 'goToReward';  { type: rewardItem.type, subtype: rewardItem.subtype }"/>
		<block>
			<style>
				<marginTop value="9px"/>
				<marginRight value="8px"/>
				<marginLeft value="8px"/>
			</style>
			<bind name="instance" value="'ExteriorIconWithAmount'; {	_exteriorId: rewardItem.id,
													_amount: exteriorConfig.type == ExteriorTypes.ENSIGN ? 0 : rewardItem.amount,
													_isDesaturated: isExteriorFeatureNotAvailable
													} "/>
		</block>
	</block>
	<block className="ExteriorRewardTooltip">
		<bind name="primaryEntityDH" value="'exteriorEntity'; CC.exteriorConfig; rewardItem.id"/>
		<bind name="watchDH" value="'exteriorConfig'; []; exteriorEntity.exteriorConfig"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; rewardItem.params.shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watch" value="'_isPermoflage'; exteriorConfig.type == ExteriorTypes.CAMOUFLAGE &amp;&amp; exteriorConfig.isPermanent"/>
		<bind name="watchDH" value="'count'; ['exteriorEntity.countComponent.evUpdate']; exteriorEntity.countComponent.value"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<marginLeft value="12px"/>
					<marginBottom value="12px"/>
					<marginTop value="12px"/>
				</style>
				<bind name="instance" value="'ExteriorIconWithAmount'; { _exteriorId: rewardItem.id,
														_amount: exteriorConfig.type == ExteriorTypes.ENSIGN ? 0 : rewardItem.amount,
														_isDesaturated: false
														}"/>
				<block>
					<style>
						<marginTop value="3px"/>
						<marginLeft value="9px"/>
					</style>
					<block type="text">
						<styleClass value="$TextHeaderBold"/>
						<bind name="class" value="'$FontColorGolden'"/>
						<bind name="style" value="'maxWidth'; (exteriorConfig.type == ExteriorTypes.FLAGS) ? '208' : '190'"/>
						<style>
							<marginBottom value="5px"/>
						</style>
						<bind name="text" value="rewardItem.params.shipId != null	? subst('IDS_EXTERIOR_NAME_WITH_SHIP', [], {exteriorName: tr('IDS_' + toUpperCase(exteriorConfig.name)), shipName: tr(shipInfo.nameIDS + '_FULL')})
																	: tr('IDS_' + toUpperCase(exteriorConfig.name))})"/>
					</block>
					<block type="text">
						<style>
							<marginTop value="-9px"/>
						</style>
						<bind name="style" value="'maxWidth'; (exteriorConfig.type == ExteriorTypes.FLAGS) ? '208' : '190'"/>
						<styleClass value="$TextDefault"/>
						<bind name="text" value="'IDS_' + toUpperCase(exteriorConfig.name) + '_DESCRIPTION'"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="(rewardItem.isPRMP != true) &amp;&amp; !(_isPermoflage)"/>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<style>
						<marginLeft value="12px"/>
						<marginBottom value="9px"/>
						<marginTop value="9px"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="tr('IDS_EARNED')+ tr('IDS_COLON') + ' '+ rewardItem.amount + '  ' + tr('IDS_IN_STOCK') + tr('IDS_COLON') + ' ' + count"/>
				</block>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="exteriorConfig.params.length &gt; 0"/>
				<style>
					<width value="100%"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<styleClass value="$PxHorizontalCorrection"/>
				</block>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<bind name="repeat" value="exteriorConfig.params; 'ExteriorParams'"/>
				</block>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="(rewardItem.isPRMP != true)"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'RewardReasonsList'; {_rewardReasons: rewardItem.reasons }"/>
				</block>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<bind name="feature" value="14; ''"/>
			<bind name="watch" value="'isFeatureInRewardAvailable'; feature_14 != 'locked'"/>
			<block>
				<bind name="visible" value="(rewardItem.isPRMP != true)"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<bind name="visible" value="isFeatureInRewardAvailable &amp;&amp; !(_isPermoflage)"/>
					<style>
						<width value="100%"/>
					</style>
					<block>
						<styleClass value="$InfoBlockHorizontalIndent"/>
						<style>
							<width value="100%"/>
							<marginTop value="12px"/>
							<marginBottom value="5px"/>
						</style>
						<bind name="instance" value="'MouseInstruction'; {_type: 'left', _instructionText: 'IDS_HINT_LEFT_CLICK_TO_OPEN_EXTERIOR_CONFIGURATION', _maxWidth: 250}"/>
					</block>
					<block>
						<styleClass value="$InfoBlockHorizontalIndent"/>
						<style>
							<width value="100%"/>
							<marginBottom value="9px"/>
						</style>
						<bind name="instance" value="'MouseInstruction'; {_type: 'right', _instructionText: 'IDS_HINT_RIGHT_CLICK_FOR_CONTEXT_MENU', _maxWidth: 250}"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="!(isFeatureInRewardAvailable)"/>
					<styleClass value="$InfoBlockIndent"/>
					<bind name="instance" value="'StatusLineWithIcon'; { _text: 'IDS_SIGNALS_IS_NOT_AVAILABLE_NOW', _maxWidth: 270}"/>
				</block>
			</block>
		</block>
	</block>
	<block className="RewardReasonsList">
		<styleClass value="$InfoBlockHorizontalIndent"/>
		<style>
			<marginTop value="9px"/>
			<marginBottom value="2px"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefaultTech"/>
			<bind name="text" value="'IDS_REWARD_REASON'"/>
		</block>
		<block>
			<style>
				<marginLeft value="-6px"/>
				<marginTop value="6px"/>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_rewardReasons; 'RewardReasonListItem'"/>
		</block>
	</block>
	<block className="RewardReasonListItem">
		<style>
			<width value="100%"/>
			<marginBottom value="5px"/>
		</style>
		<bind name="child" value="type; { amount: amount, details: details}; 'AchievementIconWithTitleForRewards'; 'RankIconWithTitleForRewards'; 'RankIconWithTitleForRewards';
															'QuestIconWithTitleForRewards'; 'AccountLevelIconWithTitleForRewards'; MissionIconWithTitleForRewards;
															'CampaignTaskWithTitleForRewards'"/>
	</block>
	<block className="AccountLevelIconWithTitleForRewards">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="44px"/>
			<marginLeft value="6px"/>
		</style>
		<block className="icons_account_level_outer" type="native">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="54px"/>
				<height value="54px"/>
			</style>
			<bind name="gotoAndStop!" value="accountLevelInfo.outerClipFrame"/>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="details.level"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextDefaultBold"/>
			<style>
				<maxWidth value="220"/>
				<leading value="-2"/>
			</style>
			<bind name="text" value="details.ids"/>
		</block>
	</block>
	<block className="MissionIconWithTitleForRewards">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="44px"/>
			<marginLeft value="6px"/>
		</style>
		<block type="text">
			<styleClass value="$TextHeaderWhiteBold"/>
			<bind name="text" value="details.level"/>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultBold"/>
			<style>
				<maxWidth value="220"/>
				<leading value="-2"/>
			</style>
			<bind name="text" value="details.ids"/>
		</block>
	</block>
	<block className="CampaignTaskWithTitleForRewards">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="60px"/>
		</style>
		<block>
			<style>
				<width value="60px"/>
				<height value="60px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../campaigns/missions_pin/' + (details.campaignName) + '_pin.png'"/>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="details.missionNumber"/>
			</block>
		</block>
		<block type="text">
			<style>
				<maxWidth value="220"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextDefaultBold"/>
			<bind name="text" value="(tr('IDS_CAMPAIGN_TASK') + ' ' + details.taskNumber)"/>
		</block>
	</block>
	<block className="RankIconWithTitleForRewards">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="44px"/>
			<marginLeft value="5px"/>
		</style>
		<block>
			<style>
				<marginTop value="-7px"/>
			</style>
			<bind name="scaleX" value="0.78"/>
			<bind name="scaleY" value="0.78"/>
			<bind name="instance" value="'PlayerRankIcon'; {_rankId: details.rank, _small: true}"/>
		</block>
		<block type="text">
			<style>
				<marginLeft value="-17px"/>
				<maxWidth value="200"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextDefaultBold"/>
			<bind name="class" value=" _class ? _class: '$FontColorGolden'"/>
			<bind name="text" value="details.ids"/>
		</block>
	</block>
	<block className="QuestIconWithTitleForRewards">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="44px"/>
			<marginLeft value="15px"/>
		</style>
		<block className="icon_sse" type="native">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="34px"/>
				<height value="34px"/>
			</style>
			<bind name="gotoAndStop!" value="details.type"/>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="8px"/>
				<width value="100%"/>
			</style>
			<styleClass value="$TextDefaultBold"/>
			<bind name="class" value="'$FontColorTurquoise'"/>
			<bind name="text" value="details.titleText"/>
		</block>
	</block>
	<block className="RewardContextMenu">
		<styleClass value="$DefaultMenuBehaviour"/>
		<style>
			<width value="260px"/>
		</style>
		<block className="MenuBg">
			<styleClass value="$FullsizeAbsolute"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMap">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<style>
							<width value="100%"/>
							<height value="100%"/>
						</style>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="!(false)"/>
				<block className="hint_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="false"/>
				<block className="dock_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginBottom value="-19px"/>
						<marginRight value="-14px"/>
						<marginLeft value="-14px"/>
						<marginTop value="-9px"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<height value="36px"/>
				<width value="100%"/>
			</style>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="6px"/>
					<width value="248px"/>
				</style>
				<bind name="text" value="'IDS_GOTO_EXTERIOR_CONFIGURATION'"/>
			</block>
			<bind name="action" value="'click'; 'goToReward'; { type: _type, subtype: _subtype }"/>
		</block>
		<block>
			<bind name="primaryEntityDH" value="'exteriorEntity'; CC.exteriorConfig; _exteriorId"/>
			<bind name="watchDH" value="'exteriorConfig'; []; exteriorEntity.exteriorConfig"/>
			<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
			<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
			<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
			<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
			<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
			<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
			<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
			<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
			<bind name="visible" value="(shipId &gt; 0) &amp;&amp; (playerShipInfo.sigInstalled &lt; 8 &amp;&amp; !(playerShipInfo.exteriors[_exteriorId]) &amp;&amp; !(playerShipInfo.isLocked) &amp;&amp; !(playerShipInfo.isInFormation))"/>
			<style>
				<height value="36px"/>
				<width value="100%"/>
			</style>
			<block className="InstallExteriorMenuItem">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<styleClass value="$Fullsize"/>
					<style>
						<hitTest value="false"/>
						<marginLeft value="6px"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<style>
							<marginTop value="7px"/>
						</style>
						<bind name="text" value="tr('IDS_INSTALL_ON')+' '"/>
					</block>
					<block>
						<style>
							<marginTop value="4px"/>
							<marginRight value="6px"/>
						</style>
						<bind name="instance" value="'ShipTitleWithIconAndLevel'; {_shipID:  shipId}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<bind name="action" value="'click'; 	exteriorConfig.type == ExteriorTypes.ENSIGN 	? 'installEnsign' : 'installExterior';
								exteriorConfig.type == ExteriorTypes.ENSIGN 	? {ensignName: _exteriorId, shipId: shipInfo.id}
																				: {exteriorName: exteriorConfig.name, shipName: shipInfo.fullName, goldAutorecharge: false}
								"/>
		</block>
	</block>
	<block className="RewardContainerTooltipItem">
		<style>
			<width value="100%"/>
			<marginBottom value="14px"/>
		</style>
		<bind name="style" value="'marginTop'; (type == 'Ship' ? '10px' : '4px')"/>
		<bind name="child" value="type; { rewardItem: {	id: id,
										amount: amount,
										reasons: reasons,
										name: name,
										type: type,
										subtype: subtype,
										params: params} }; {	Exterior: 'RewardContainerTooltipItemExterior',
																Modernization: 'RewardContainerTooltipItemModenizationOrAbility',
																Ability: 'RewardContainerTooltipItemModenizationOrAbility',
																Ship: 'RewardShip',
																Resource: 'RewardContainerTooltipItemWithSpecialIcon',
																ResourceCoeff: 'RewardContainerTooltipItemWithSpecialIcon',
																Crew: 'RewardContainerTooltipItemCrew',
																Unit: 'UnsupportedReward',
																Reward: 'UnsupportedReward',
																Exchange: 'RewardPersonalExchangeRatesTooltip'}"/>
	</block>
	<block className="UnsupportedReward">
		<block>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<marginBottom value="5px"/>
				</style>
				<bind name="text" value="'REWARD: '+rewardItem.type+'- IS NOT SUPPORTED'"/>
			</block>
		</block>
	</block>
	<block className="RewardContainerTooltipItemCrew">
		<style>
			<width value="143px"/>
			<height value="80px"/>
		</style>
		<bind name="instance" value="'RewardCrewImage'; { _crew: rewardItem.params.item, _shipWithoutCrew: true }"/>
	</block>
	<block className="RewardCrewImage">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; _crew.shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _crew.shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<style>
			<width value="143px"/>
			<height value="80px"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
				<alpha value="0.5"/>
				<width value="130px"/>
				<height value="80px"/>
				<hitTest value="false"/>
			</style>
			<bind name="instance" value="'NationFlagsBig'; {_width: '100%', _height: '100%', shipCountry: shipInfo.flagName }"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="-6px"/>
				<left value="0px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$Bold'"/>
				<style>
					<width value="130px"/>
				</style>
				<bind name="text" value="tr(_crew.firstNameIDS) + ' ' + tr(_crew.lastNameIDS)"/>
			</block>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="0px"/>
				<right value="0px"/>
				<width value="80px"/>
				<height value="80px"/>
			</style>
			<bind name="class" value="_crew.person ? '$CrewPortraitSizeSmall' : '$None'"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<backgroundSize value="cover"/>
				</style>
				<bind name="style" value="'backgroundImage'; _crew.person 	? 'url:' + _crew.baseUrl
															: 'url:../reward_icons/icon_reward_Crew.png'"/>
			</block>
			<block>
				<bind name="visible" value="_crew.person"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<backgroundSize value="cover"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + _crew.overlayUrl"/>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<top value="32px"/>
					<left value="-16px"/>
				</style>
				<bind name="instance" value="'CrewSkillPointBadge'; _crew.level &gt; 0 ? { _skillPoints: _crew.level } : null"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_shipWithoutCrew == true"/>
			<style>
				<height value="20px"/>
				<marginLeft value="3px"/>
			</style>
			<block className="icon_wreath" type="native">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<position value="absolute"/>
					<left value="-5px"/>
				</style>
				<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
				<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
								shipInfo.isPremium 	? 'premium'
													: 'elite'"/>
			</block>
			<block className="icon_ship" type="native">
				<styleClass value="$MiddleVAligned"/>
				<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$Bold'"/>
				<style>
					<marginTop value="-2px"/>
					<marginLeft value="2px"/>
				</style>
				<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
				<bind name="text" value="tr(shipInfo.levelRome) + ' '  + tr(shipInfo.nameIDS)"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="RewardContainerTooltipItemWithSpecialIcon">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<width value="80px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'RewardResourceItem'; {rewardItem: rewardItem}"/>
			</block>
		</block>
		<bind name="watch" value="'title'; ('IDS_REWARD_'+toUpperCase(rewardItem.subtype)+'_TITLE')"/>
		<bind name="var" value="{description: ''}"/>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block className="RewardTooltipItemText">
				<style>
					<marginLeft value="12px"/>
				</style>
				<bind name="style" value="'marginTop'; (description != '') ? '-3px' : '0px'"/>
				<block type="text">
					<bind name="name" value="'reward_item_' + title"/>
					<styleClass value="$TextHeaderBold"/>
					<bind name="style" value="'marginBottom'; (description != '') ? '5px' : '8px'"/>
					<style>
						<maxWidth value="220"/>
					</style>
					<bind name="text" value="title"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="-9px"/>
						<maxWidth value="220"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="description"/>
				</block>
			</block>
		</block>
	</block>
	<block className="RewardContainerTooltipItemExterior">
		<bind name="primaryEntityDH" value="'exteriorEntity'; CC.exteriorConfig; rewardItem.id"/>
		<bind name="watchDH" value="'exteriorConfig'; []; exteriorEntity.exteriorConfig"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; rewardItem.params.shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<width value="80px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'IconWithAmount'; {	_width: (exteriorConfig.type == ExteriorTypes.FLAGS ? '60px' : '75px'), 
												_height: '60px', _amount: exteriorConfig.type == ExteriorTypes.ENSIGN ? 0 : rewardItem.amount, _iconPath: exteriorConfig.iconPath}"/>
			</block>
		</block>
		<bind name="watch" value="'title'; rewardItem.params.shipId != null	? subst('IDS_EXTERIOR_NAME_WITH_SHIP', [], {exteriorName: tr('IDS_' + toUpperCase(exteriorConfig.name)), shipName: tr(shipInfo.nameIDS + '_FULL')})
															: tr('IDS_' + toUpperCase(exteriorConfig.name))})"/>
		<bind name="watch" value="'description'; 'IDS_' + toUpperCase(exteriorConfig.name) + '_DESCRIPTION'"/>
		<block className="RewardTooltipItemText">
			<style>
				<marginLeft value="12px"/>
			</style>
			<bind name="style" value="'marginTop'; (description != '') ? '-3px' : '0px'"/>
			<block type="text">
				<bind name="name" value="'reward_item_' + title"/>
				<styleClass value="$TextHeaderBold"/>
				<bind name="style" value="'marginBottom'; (description != '') ? '5px' : '8px'"/>
				<style>
					<maxWidth value="220"/>
				</style>
				<bind name="text" value="title"/>
			</block>
			<block type="text">
				<style>
					<marginTop value="-9px"/>
					<maxWidth value="220"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="description"/>
			</block>
		</block>
	</block>
	<block className="RewardContainerTooltipItemModenizationOrAbility">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<width value="80px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'RewardResourceItem'; {rewardItem: rewardItem}"/>
			</block>
		</block>
		<bind name="watch" value="'title'; (rewardItem.type =='Modernization'	? 'IDS_TITLE_' + toUpperCase(rewardItem.params.item.title)
																: rewardItem.params.item.title)"/>
		<bind name="watch" value="'description'; (rewardItem.type =='Modernization' ? 'IDS_MODERNIZATION' : 'IDS_CONSUMABLES')"/>
		<block className="RewardTooltipItemText">
			<style>
				<marginLeft value="12px"/>
			</style>
			<bind name="style" value="'marginTop'; (description != '') ? '-3px' : '0px'"/>
			<block type="text">
				<bind name="name" value="'reward_item_' + title"/>
				<styleClass value="$TextHeaderBold"/>
				<bind name="style" value="'marginBottom'; (description != '') ? '5px' : '8px'"/>
				<style>
					<maxWidth value="220"/>
				</style>
				<bind name="text" value="title"/>
			</block>
			<block type="text">
				<style>
					<marginTop value="-9px"/>
					<maxWidth value="220"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="description"/>
			</block>
		</block>
	</block>
	<block className="IconWithAmount">
		<bind name="style" value="'width'; (_width ? _width : '60px')"/>
		<bind name="style" value="'height'; (_height ? _height : '60px')"/>
		<bind name="style" value="'backgroundImage'; 'url:' + _iconPath"/>
		<style>
			<backgroundStretchX value="true"/>
			<backgroundStretchY value="true"/>
		</style>
		<block>
			<bind name="visible" value="_amount &gt; 0"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="var" value="{fontSizeClass:	(_amount &lt; 5) ? '$None'  :
									(_amount &lt; 10) ? '$FontSize18' :
									(_amount &lt; 20) ? '$FontSizeHeader6' : '$FontSize20'}"/>
			<block type="text">
				<style>
					<right value="0px"/>
					<bottom value="-2px"/>
					<position value="absolute"/>
				</style>
				<styleClass value="$TextHeaderBigWhite"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="class" value="fontSizeClass"/>
				<bind name="text" value="_amount"/>
			</block>
		</block>
	</block>
	<block className="RewardResourceItem">
		<bind name="tooltip" value="'RewardResourcesTooltip'; _withTooltip ? {rewardItem: rewardItem} : null"/>
		<bind name="child" value="rewardItem.subtype ? rewardItem.subtype : 'noItem'; {	_rewardItem: rewardItem,
																		_iconPath: rewardItem.params.item.iconPath,
																		_amount: rewardItem.amount	}; {	exp: 'RewardResources',
																											gold: 'RewardResources',
																											freexp: 'RewardResources',
																											credits: 'RewardResources',
																											accPoints: 'RewardResources',
																											crewPoints: 'RewardResources',
																											barCapacity: 'RewardResourceBarCapacity',
																											premium: 'RewardResourcePremium',
																											slots: 'RewardResourceSlot',
																											expCoeff: 'RewardResourcesCoeff',
																											freexpCoeff: 'RewardResourcesCoeff',
																											creditsCoeff: 'RewardResourcesCoeff',
																											accPointsCoeff: 'RewardResourcesCoeff',
																											crewPointsCoeff: 'RewardResourcesCoeff',
																											Ability: 'IconWithAmount',
																											Modernization: 'IconWithAmount',
																											creditsGold: 'RewardPersonalExchangeRates',
																											xpFreeExp: 'RewardPersonalExchangeRates',
																											goldMoney: 'RewardPersonalExchangeRates',
																											noItem: 'EmptyItem'}"/>
		<bind name="action" value="'click'; rewardItem.isPRMP || !(rewardItem.type == 'Ability' || rewardItem.type == 'Modernization') ? '' : 'goToReward'; { type: rewardItem.type, subtype: rewardItem.subtype }"/>
	</block>
	<block className="RewardShip">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; rewardItem.id; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; rewardItem.id; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="tooltip" value="'ShipExtendedTooltip'; { shipId: rewardItem.id, _inRewards: true, _rewardReasons: rewardItem.reasons, _isPRMP: rewardItem.isPRMP}"/>
		<bind name="action" value="'click'; rewardItem.isPRMP ? '' : 'selectShipUpgrade' ; {shipId : rewardItem.id}"/>
		<style>
			<flow value="horizontal"/>
			<height value="80px"/>
		</style>
		<block>
			<style>
				<width value="143px"/>
				<height value="100%"/>
			</style>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<alpha value="0.6"/>
					<hitTest value="false"/>
				</style>
				<bind name="instance" value="'NationFlagsBig'; {_width: '100%', _height: '100%', shipCountry: shipInfo.flagName}"/>
			</block>
			<block>
				<style>
					<width value="143px"/>
					<height value="84px"/>
					<backgroundStretchX value="true"/>
					<backgroundStretchY value="true"/>
				</style>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathPreview"/>
			</block>
			<block>
				<styleClass value="$Fullsize"/>
				<style>
					<marginLeft value="8px"/>
					<marginRight value="8px"/>
					<marginTop value="4px"/>
					<marginBottom value="4px"/>
				</style>
				<block>
					<style>
						<height value="20px"/>
					</style>
					<block className="icon_wreath" type="native">
						<styleClass value="$MiddleVAligned"/>
						<style>
							<position value="absolute"/>
							<left value="-5px"/>
						</style>
						<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
						<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
										shipInfo.isPremium 	? 'premium'
															: 'elite'"/>
					</block>
					<block className="icon_ship" type="native">
						<styleClass value="$MiddleVAligned"/>
						<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: shipInfo.shipTypeIDS}; 0"/>
					</block>
					<block type="text">
						<styleClass value="$TextSecondaryBold"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
						<style>
							<marginTop value="-1px"/>
							<marginLeft value="3px"/>
							<marginRight value="3px"/>
						</style>
						<bind name="text" value="shipInfo.levelRome"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="-10px"/>
						<right value="-6"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefaultBold"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
						<bind name="text" value="toUpperCase(tr(shipInfo.nameIDS))"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<height value="80px"/>
			</style>
			<bind name="visible" value="rewardItem.params.crew != null"/>
			<block type="text">
				<style>
					<marginLeft value="3px"/>
					<marginRight value="3px"/>
				</style>
				<styleClass value="$TextAccentBoldAccountLevel2"/>
				<styleClass value="$MiddleVAligned"/>
				<text value="+"/>
			</block>
			<block>
				<bind name="instance" value="'RewardCrewImage'; { _crew: rewardItem.params.crew }"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="RewardResources">
		<style>
			<width value="80px"/>
			<height value="80px"/>
		</style>
		<bind name="style" value="'backgroundImage'; ('url:../reward_icons/icon_reward_' + _rewardItem.subtype + '.png')"/>
		<bind name="watch" value="'currency'; 	(_rewardItem.subtype == 'crewPoints')	?	'exp' :
		 						(_rewardItem.subtype == 'accPoints')	?	'exp' :
		 																	_rewardItem.subtype"/>
		<block>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<bottom value="-6"/>
			</style>
			<bind name="style" value="'bottom'; _rewardItem.amount &gt; 9999 ? -6 : -9"/>
			<block>
				<style>
					<marginLeft value="4px"/>
				</style>
				<bind name="instance" value="'PriceTag'; { priceInfo: { finalPrice: _rewardItem.amount, currency: currency}, _large: (_rewardItem.amount &gt; 9999 ? false : true),
																											_medium: (_rewardItem.amount &gt; 9999 ? true : false)}"/>
			</block>
		</block>
	</block>
	<block className="RewardResourceBarCapacity">
		<style>
			<width value="80px"/>
			<height value="80px"/>
		</style>
		<bind name="style" value="'backgroundImage'; ('url:../reward_icons/icon_reward_' + _rewardItem.subtype + '.png')"/>
		<block>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<bottom value="-6"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="text" value="_rewardItem.amount"/>
			</block>
			<block type="text">
				<bind name="class" value="'$Bold'"/>
				<styleClass value="$TextHeader"/>
				<bind name="pluralText" value="'IDS_PL_PLACES'; _rewardItem.amount"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="RewardCrew">
		<style>
			<width value="143px"/>
			<height value="80px"/>
		</style>
		<bind name="tooltip" value="'CrewTooltip'; { _crewID: rewardItem.params.item.id, _checkPenalty: false, _inRewards: true, _rewardReasons: rewardItem.reasons,
									_isPRMP: rewardItem.isPRMP}"/>
		<bind name="instance" value="'RewardCrewImage'; {_crew: rewardItem.params.item, _shipWithoutCrew: true}"/>
	</block>
	<block className="RewardResourceSlot">
		<style>
			<width value="80px"/>
			<height value="80px"/>
		</style>
		<bind name="style" value="'backgroundImage'; ('url:../reward_icons/icon_reward_' + _rewardItem.subtype + '.png')"/>
		<block>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<bottom value="-6"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontColorGold'"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="text" value="_rewardItem.amount"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontColorGold'"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="pluralText" value="'IDS_PL_SLOTS'; _rewardItem.amount"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="RewardResourcePremium">
		<style>
			<width value="80px"/>
			<height value="80px"/>
		</style>
		<bind name="style" value="'backgroundImage'; ('url:../reward_icons/icon_reward_' + _rewardItem.subtype + '.png')"/>
		<block>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<bottom value="-6"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<bind name="class" value="'$FontColorGold'"/>
				<bind name="text" value="_rewardItem.params.text"/>
			</block>
		</block>
	</block>
	<block className="RewardResourcesCoeff">
		<style>
			<width value="80px"/>
			<height value="80px"/>
		</style>
		<bind name="style" value="'backgroundImage'; ('url:../reward_icons/icon_reward_' + _rewardItem.subtype + '.png')"/>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="-7"/>
				<right value="-4"/>
			</style>
			<block className="icon_double_experience" type="native">
				<style>
					<marginTop value="5px"/>
				</style>
				<bind name="visible" value="_rewardItem.subtype == 'accPointsCoeff' || _rewardItem.subtype == 'crewPointsCoeff'"/>
			</block>
			<block type="text">
				<styleClass value="$TextLargeHeaderBold"/>
				<bind name="class" value="'$FontColorGolden'"/>
				<bind name="text" value="subst('%m',[_rewardItem.amount])"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="RewardPersonalExchangeRates">
		<style>
			<width value="80px"/>
			<height value="80px"/>
		</style>
		<bind name="style" value="'backgroundImage'; ('url:../reward_icons/icon_reward_' + _rewardItem.subtype + '.png')"/>
	</block>
	<block className="RewardPersonalExchangeRatesTooltip">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<width value="80px"/>
				<height value="80px"/>
			</style>
			<bind name="style" value="'backgroundImage'; ('url:../reward_icons/icon_reward_' + rewardItem.subtype + '.png')"/>
		</block>
		<block type="text">
			<style>
				<marginTop value="3px"/>
			</style>
			<styleClass value="$TextHeaderBold"/>
			<bind name="text" value="'IDS_PRMP_ITEM_' + toUpperCase(tr(rewardItem.subtype))"/>
		</block>
	</block>
	<block className="RewardResourcesTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="340px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="9px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<height value="80px"/>
					<marginTop value="6px"/>
					<marginBottom value="9px"/>
					<marginLeft value="16px"/>
					<marginRight value="12px"/>
				</style>
				<bind name="instance" value="'RewardContainerTooltipItem'; {	id: rewardItem.id,
															amount: rewardItem.amount,
															reasons: rewardItem.reasons,
															name: rewardItem.name,
															type: rewardItem.type,
															subtype: rewardItem.subtype,
															params: rewardItem.params}"/>
			</block>
			<block>
				<bind name="visible" value="(rewardItem.type == 'Ability' ||
							rewardItem.type == 'Modernization' ||
							rewardItem.subtype == 'slots' ||
							rewardItem.subtype == 'barCapacity') &amp;&amp; (rewardItem.isPRMP != true)"/>
				<style>
					<width value="100%"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
				<block type="text">
					<style>
						<marginLeft value="12px"/>
						<marginBottom value="9px"/>
						<marginTop value="9px"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="tr('IDS_EARNED')+ tr('IDS_COLON') + ' '+ rewardItem.amount"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="(rewardItem.isPRMP != true)"/>
				<style>
					<width value="100%"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'RewardReasonsList'; {_rewardReasons: rewardItem.reasons }"/>
				</block>
			</block>
			<bind name="child" value="(	rewardItem.type == 'Ability' ||
						rewardItem.type == 'Modernization') &amp;&amp;
						(rewardItem.isPRMP != true)	? rewardItem.type : 'noItem'; {_rewardItem: rewardItem}; {	Modernization: 'TooltipRewardInstructionModernization',
																												Ability: 'TooltipRewardInstructionAbility',
																												noItem: 'EmptyItem'}"/>
		</block>
	</block>
	<block className="TooltipRewardInstructionModernization">
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<bind name="feature" value="12; ''"/>
		<bind name="watch" value="'isModernizationsAvailable'; feature_12 != 'locked'"/>
		<block>
			<bind name="visible" value="isModernizationsAvailable"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$InfoBlockHorizontalIndent"/>
				<style>
					<width value="100%"/>
					<marginTop value="12px"/>
					<marginBottom value="5px"/>
				</style>
				<bind name="instance" value="'MouseInstruction'; {_type: 'left', _instructionText: 'IDS_HINT_LEFT_CLICK_TO_OPEN_MODERNIZATIONS_CONFIGURATION', _maxWidth: 290}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!isModernizationsAvailable"/>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'StatusLineWithIcon'; { _text: 'IDS_MODERNIZATIONS_IS_NOT_AVAILABLE_NOW', _maxWidth: 290}"/>
		</block>
	</block>
	<block className="TooltipRewardInstructionAbility">
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="isModernizationsAvailable"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$InfoBlockHorizontalIndent"/>
				<style>
					<width value="100%"/>
					<marginTop value="12px"/>
					<marginBottom value="5px"/>
				</style>
				<bind name="instance" value="'MouseInstruction'; {_type: 'left', _instructionText: 'IDS_HINT_LEFT_CLICK_TO_OPEN_ABILITIES_CONFIGURATION', _maxWidth: 290}"/>
			</block>
		</block>
	</block>
	<block className="GiftboxBanner">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionData'"/>
		<bind name="firstEntityDH" value="'giftBox'; CC.giftBoxComponent"/>
		<bind name="watchDH" value="'rewardsAmount'; ['giftBox.giftBoxComponent.evUpdate']; giftBox.giftBoxComponent.rewardsAmount"/>
		<bind name="watchDH" value="'rewardsAmountNext'; ['giftBox.giftBoxComponent.evUpdate']; giftBox.giftBoxComponent.rewardsAmountNext"/>
		<bind name="watchDH" value="'visibilityState'; ['giftBox.giftBoxComponent.evUpdate']; giftBox.giftBoxComponent.visibilityState"/>
		<bind name="name" value="'GiftboxBanner'"/>
		<style>
			<alpha value="0"/>
			<width value="223px"/>
			<height value="120px"/>
		</style>
		<bind name="handleEventDH" value="'giftBox.giftBoxComponent.evAnimateHide'; 'animateGiftboxHideEv'"/>
		<bind name="appear" value="'animateGiftboxHideEv'; 0.2; 0.2; {alpha: 1, top: 0}; {alpha: 0, top: -5}"/>
		<bind name="dispatch" value="'animateGiftboxHideEv'; 'animateGiftboxHideFinishedEv'; null; 2; 0.8 }"/>
		<bind name="action" value="'animateGiftboxHideFinishedEv'; 'giftboxHideAnimationFinished'"/>
		<bind name="handleEventDH" value="'giftBox.giftBoxComponent.evAnimateRewards'; 'animateGiftboxShowEv'"/>
		<bind name="dispatch" value="'addedToStage'; 'animateGiftboxShowEv'; null; 2"/>
		<bind name="dispatch" value="'animateGiftboxShowEv'; (rewardsAmount == 0) ? 'animateNewEv' : null; null; 2; 4"/>
		<bind name="appear" value="'animateNewEv'; 0.3; 0.2; {alpha: 0, top: 5}; {alpha: 1, top: 0}; 3"/>
		<bind name="dispatch" value="'animateNewEv'; 'animateGiftboxCounterEv'; null; 2; 0.7"/>
		<bind name="action" value="'animateNewEv'; 'playGiftBoxSound'"/>
		<bind name="dispatch" value="'animateGiftboxShowEv'; ((rewardsAmount != 0) &amp;&amp; (rewardsAmount != rewardsAmountNext)) ? 'animateAddEv' : null; null; 2; 4"/>
		<bind name="dispatch" value="'animateAddEv'; 'animateGiftboxCounterEv'; null; 2; 0.7"/>
		<bind name="action" value="'animateAddEv'; 'playGiftBoxSound'"/>
		<bind name="dispatch" value="'animateGiftboxShowEv'; ((rewardsAmount != 0) &amp;&amp; (rewardsAmount == rewardsAmountNext)) ? 'animateSimpleShowEv' : null; null; 0"/>
		<bind name="appear" value="'animateSimpleShowEv'; 0.3; 0.2; {alpha: 0, top: 5}; {alpha: 1, top: 0}; 3"/>
		<bind name="action" value="'animateGiftboxCounterEv'; 'giftboxAppearAnimationFinished'"/>
		<bind name="action" value="'Tooltip.opened'; 'giftboxStopHideTimer'; {}; true"/>
		<bind name="action" value="'Tooltip.closed'; 'giftboxRewardShown'; {}; true"/>
		<block>
			<bind name="tooltip" value="'GiftboxTooltip'; {}"/>
			<bind name="tooltip" value="'GiftboxInfotip'; {}; TooltipBehaviour.infotip; null; 'rewardsInfotip'"/>
			<styleClass value="$Fullsize"/>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="fade" value="!isHidden; 0.15; {alpha: 0, top: -10}; {alpha: 1, top: 0}"/>
			<bind name="transition" value="(visibilityState == 2); 0.15; {alpha: 1}; {alpha: 0.6}"/>
			<block className="quest_thumb_title" type="native">
				<bind name="transition" value="rollOver &amp;&amp; !(mouseDown); 0.1; {alpha: 0.75}; {alpha: 1.0}"/>
				<style>
					<width value="100%"/>
					<height value="36px"/>
					<position value="absolute"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderWhiteBold"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="4px"/>
				</style>
				<bind name="text" value="toUpperCase(tr('IDS_GIFTS_FOR_HEROES'))"/>
			</block>
			<block>
				<styleClass value="$Fullsize"/>
				<block className="button_giftbox" type="native">
					<style>
						<position value="absolute"/>
						<bottom value="4px"/>
						<left value="54px"/>
					</style>
					<bind name="selected" value="rewardsInfotip"/>
				</block>
				<block>
					<bind name="visible" value="rewardsAmount &gt; 0"/>
					<style>
						<position value="absolute"/>
						<bottom value="12px"/>
					</style>
					<bind name="style" value="'left';	(rewardsAmount &lt; 10)	? '161px' :
										(rewardsAmount &lt; 100)	? '169px'
																: '178px'"/>
					<bind name="watch" value="'counterScale'; (rewardsAmount &lt; 10)	? 1.1 :
											 (rewardsAmount &lt; 20)	? 1.2
																	: 1.3"/>
					<block className="x_counter_animated" type="native">
						<style>
							<position value="absolute"/>
						</style>
						<bind name="name" value="'rewardsAmount_' + rewardsAmount"/>
						<bind name="scaleX" value="counterScale"/>
						<bind name="scaleY" value="counterScale"/>
						<bind name="event" value="'animateGiftboxCounterEv'; 'gotoAndPlay'; 'animation'"/>
						<bind name="event" value="'newGiftBoxDelayedEvent'; 'gotoAndPlay'; 'animation'"/>
						<bind name="catch" value="'newGiftBoxDelayedEvent'; {curAmount: rewardData.rewardsAmount, isMouseEnabled: true}"/>
						<bind name="action" value="'newGiftBoxDelayedEvent'; 'giftBoxValueUpdated'; {curAmount: rewardData.rewardsAmount}"/>
						<innerBind elementName="counter_tf" name="text" value="('x'+ rewardsAmount)"/>
						<innerBind elementName="animated_counter_tf" name="text" value="('x'+ rewardsAmountNext)"/>
					</block>
				</block>
			</block>
		</block>
		<bind name="var" value="{isHitTestEnable: false}"/>
		<block>
			<bind name="visible" value="(isHitTestEnable != true)"/>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="catch" value="'animateNewEv'; {isHitTestEnable: true}"/>
		<bind name="catch" value="'animateAddEv'; {isHitTestEnable: true}"/>
		<bind name="catch" value="'animateSimpleShowEv'; {isHitTestEnable: true}"/>
	</block>
	<block className="RewardContainer">
		<bind name="tooltip" value="'RewardContainerTooltip'; { _rewards: _rewards, _rewardsSpecial: _rewardsSpecial, _tooltipHeader: _tooltipHeader }"/>
		<block className="icon_giftbox" type="native">
			<bind name="scaleX" value="_scale ? _scale: 0.85"/>
			<bind name="scaleY" value="_scale ? _scale: 0.85"/>
		</block>
	</block>
	<block className="RewardContainerTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="340px"/>
			<marginBottom value="12px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block type="text">
			<styleClass value="$InfoBlockIndent"/>
			<styleClass value="$TextHeaderBigDefaultTech"/>
			<bind name="text" value="_tooltipHeader"/>
		</block>
		<block>
			<bind name="visible" value="_rewards.length &gt; 0"/>
			<style>
				<width value="100%"/>
				<marginLeft value="16px"/>
				<marginRight value="12px"/>
			</style>
			<bind name="repeat" value="_rewards; _isDH20 ? 'RewardContainerTooltipItemAdapter' : 'RewardContainerTooltipItem'"/>
		</block>
		<block>
			<bind name="visible" value="_rewardsSpecial.length &gt; 0"/>
			<style>
				<width value="100%"/>
				<marginLeft value="16px"/>
				<marginRight value="12px"/>
			</style>
			<bind name="repeat" value="_rewardsSpecial; _isDH20 ? 'RewardContainerTooltipItemAdapter' : 'RewardContainerTooltipItem'"/>
		</block>
	</block>
	<block className="RewardContainerTooltipItemAdapter">
		<bind name="entityDH" value="'rewardEntity'; $value"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="instance" value="'RewardContainerTooltipItem'; rewardEntity.rewardComponent"/>
	</block>
	<css name="$GiftboxInfotipBehaviour">
		<userData value="{
		appearDelay: 0,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 0,
		rightOffset: -67,
		bottomOffset: 0,
		isTipCenter: true
	}"/>
	</css>
	<block className="GiftboxInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$GiftboxInfotipBehaviour"/>
		<block className="MenuBg">
			<styleClass value="$FullsizeAbsolute"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMap">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<style>
							<width value="100%"/>
							<height value="100%"/>
						</style>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="!(true)"/>
				<block className="hint_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="true"/>
				<block className="dock_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginBottom value="-19px"/>
						<marginRight value="-14px"/>
						<marginLeft value="-14px"/>
						<marginTop value="-9px"/>
					</style>
				</block>
			</block>
		</block>
		<block className="GiftboxRewardsContent">
			<bind name="collectionDH" value="CC.rewardComponent; 'specialRewardsCollection'; 'special.sort'"/>
			<bind name="collectionDH" value="CC.rewardComponent; 'regularRewardsCollection'; 'common.sort'"/>
			<style>
				<width value="425px"/>
			</style>
			<block type="text">
				<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
				<style>
					<marginTop value="18px"/>
					<width value="100%"/>
					<marginBottom value="2px"/>
					<textAlign value="center"/>
				</style>
				<styleClass value="$TextHeaderBigDefaultTech"/>
				<bind name="text" value="'IDS_GIFTS_EARNED_AVAILABLE_INFO'"/>
			</block>
			<block>
				<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
				<bind name="visible" value="regularRewardsCollection.length &gt; 0"/>
				<style>
					<flow value="htile"/>
					<marginBottom value="12px"/>
					<width value="425px"/>
				</style>
				<bind name="repeat" value="regularRewardsCollection; 'RewardItemEntity'"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="visible" value="regularRewardsCollection.length &gt; 0 &amp;&amp; specialRewardsCollection.length &gt; 0 "/>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
				<bind name="visible" value="specialRewardsCollection.length &gt; 0"/>
				<style>
					<flow value="htile"/>
					<marginTop value="14px"/>
					<marginBottom value="18px"/>
					<width value="425px"/>
				</style>
				<bind name="repeat" value="specialRewardsCollection; 'RewardItemEntity'"/>
			</block>
		</block>
	</block>
	<block className="GiftboxTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="GiftboxRewardsContent">
			<bind name="collectionDH" value="CC.rewardComponent; 'specialRewardsCollection'; 'special.sort'"/>
			<bind name="collectionDH" value="CC.rewardComponent; 'regularRewardsCollection'; 'common.sort'"/>
			<style>
				<width value="425px"/>
			</style>
			<block type="text">
				<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
				<style>
					<marginTop value="18px"/>
					<width value="100%"/>
					<marginBottom value="2px"/>
					<textAlign value="center"/>
				</style>
				<styleClass value="$TextHeaderBigDefaultTech"/>
				<bind name="text" value="'IDS_GIFTS_EARNED_AVAILABLE_INFO'"/>
			</block>
			<block>
				<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
				<bind name="visible" value="regularRewardsCollection.length &gt; 0"/>
				<style>
					<flow value="htile"/>
					<marginBottom value="12px"/>
					<width value="425px"/>
				</style>
				<bind name="repeat" value="regularRewardsCollection; 'RewardItemEntity'"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="visible" value="regularRewardsCollection.length &gt; 0 &amp;&amp; specialRewardsCollection.length &gt; 0 "/>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
				<bind name="visible" value="specialRewardsCollection.length &gt; 0"/>
				<style>
					<flow value="htile"/>
					<marginTop value="14px"/>
					<marginBottom value="18px"/>
					<width value="425px"/>
				</style>
				<bind name="repeat" value="specialRewardsCollection; 'RewardItemEntity'"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'MouseInstruction'; {_type: 'left', _instructionText: 'IDS_GIFTBOX_INSTRUCTION', _maxWidth: 425}"/>
		</block>
	</block>
	<block className="GiftboxRewardsContent">
		<bind name="collectionDH" value="CC.rewardComponent; 'specialRewardsCollection'; 'special.sort'"/>
		<bind name="collectionDH" value="CC.rewardComponent; 'regularRewardsCollection'; 'common.sort'"/>
		<style>
			<width value="425px"/>
		</style>
		<block type="text">
			<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
			<style>
				<marginTop value="18px"/>
				<width value="100%"/>
				<marginBottom value="2px"/>
				<textAlign value="center"/>
			</style>
			<styleClass value="$TextHeaderBigDefaultTech"/>
			<bind name="text" value="'IDS_GIFTS_EARNED_AVAILABLE_INFO'"/>
		</block>
		<block>
			<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
			<bind name="visible" value="regularRewardsCollection.length &gt; 0"/>
			<style>
				<flow value="htile"/>
				<marginBottom value="12px"/>
				<width value="425px"/>
			</style>
			<bind name="repeat" value="regularRewardsCollection; 'RewardItemEntity'"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="regularRewardsCollection.length &gt; 0 &amp;&amp; specialRewardsCollection.length &gt; 0 "/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
			<bind name="visible" value="specialRewardsCollection.length &gt; 0"/>
			<style>
				<flow value="htile"/>
				<marginTop value="14px"/>
				<marginBottom value="18px"/>
				<width value="425px"/>
			</style>
			<bind name="repeat" value="specialRewardsCollection; 'RewardItemEntity'"/>
		</block>
	</block>
	<block className="RewardItemEntity">
		<bind name="instance" value="'RewardItem'; $dataRef.ref.rewardComponent"/>
	</block>
	<block className="QuestWindow">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'challenges'; 'challengesCollection'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'tasks'; 'isActive'; true; 'tasksCollection'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'events'; 'eventsCollection'"/>
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerQuests"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'challengesLayoutType';	(userPrefs.sseChallengesLayout == null)		? 0 : userPrefs.sseChallengesLayout"/>
		<bind name="watch" value="'battleTasksLayoutType';	(userPrefs.sseBattleTasksLayout == null)	? 0 : userPrefs.sseBattleTasksLayout"/>
		<bind name="catch" value="'challengesLayoutChangedEvent'; { challengesLayoutType: (challengesLayoutType == 0 ? 1 : 0)}"/>
		<bind name="catch" value="'battleTaskLayoutChangedEvent'; { battleTasksLayoutType: (battleTasksLayoutType == 0 ? 1 : 0)}"/>
		<bind name="changeDispatch" value="challengesLayoutType;		'changeChallengesLayoutTypeInPrefs'; null; true"/>
		<bind name="changeDispatch" value="battleTasksLayoutType;	'changeBattleTasksLayoutTypeInPrefs'; null; true"/>
		<bind name="action" value="'changeChallengesLayoutTypeInPrefs';	'setUserPref' ; {value : challengesLayoutType,	name : 'sseChallengesLayout'}"/>
		<bind name="action" value="'changeBattleTasksLayoutTypeInPrefs'; 'setUserPref' ; {value : battleTasksLayoutType, name : 'sseBattleTasksLayout'}"/>
		<styleClass value="$Fullsize"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.3; 0.15; {alpha: 0}; {alpha: 1}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.15; {alpha: 1}; {alpha: 0}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="modal_panel" type="native">
				<style>
					<alpha value="0.8"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="var" value="{inset: $root.inset}"/>
		<bind name="catch" value="'changeQuestInset'"/>
		<bind name="watch" value=" 'header'; (	inset == 0	?	tr('IDS_EVENTS') + ' (' + eventsCollection.length + ')' :
								inset == 1	?	tr('IDS_CHALLENGES') + ' (' + challengesCollection.length + ')'
											:	tr('IDS_TASKS') + ' (' + tasksCollection.length + ')'
							)"/>
		<block>
			<styleClass value="$Fullsize"/>
			<block>
				<bind name="appear" value="'startShow'; 0.15; 0.22; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.22; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<style>
					<marginTop value="220px"/>
				</style>
				<block className="NavigationBar">
					<block className="button_navigation_small" type="native">
						<params>
							<param name="toggle" value="false"/>
						</params>
						<bind name="name" value="'NavigationItem_' + 0"/>
						<style>
							<width value="190"/>
							<marginBottom value="1px"/>
						</style>
						<bind name="selected" value="inset == 0"/>
						<bind name="dispatch" value="'buttonClick'; 'changeQuestInset'; { inset: 0}"/>
						<bind name="label" value="toUpperCase(tr('IDS_EVENTS'))"/>
					</block>
				</block>
				<block className="NavigationBar">
					<block className="button_navigation_small" type="native">
						<params>
							<param name="toggle" value="false"/>
						</params>
						<bind name="name" value="'NavigationItem_' + 1"/>
						<style>
							<width value="190"/>
							<marginBottom value="1px"/>
						</style>
						<bind name="selected" value="inset == 1"/>
						<bind name="dispatch" value="'buttonClick'; 'changeQuestInset'; { inset: 1}"/>
						<bind name="label" value="toUpperCase(tr('IDS_CHALLENGES'))"/>
					</block>
				</block>
				<block className="NavigationBar">
					<block className="button_navigation_small" type="native">
						<params>
							<param name="toggle" value="false"/>
						</params>
						<bind name="name" value="'NavigationItem_' + 2"/>
						<style>
							<width value="190"/>
							<marginBottom value="1px"/>
						</style>
						<bind name="selected" value="inset == 2"/>
						<bind name="dispatch" value="'buttonClick'; 'changeQuestInset'; { inset: 2}"/>
						<bind name="label" value="toUpperCase(tr('IDS_TASKS'))"/>
					</block>
				</block>
				<block>
					<style>
						<marginTop value="15px"/>
						<marginLeft value="8px"/>
					</style>
					<block className="BannerProjectR">
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
						<bind name="countdown" value="1465344000; 'projectRTimeLeft'; 'H'"/>
						<bind name="visible" value="realmConstants.currentRealm == 'EU' &amp;&amp; projectRTimeLeft &gt; 0"/>
						<bind name="appear" value="'startShow'; 0.15; 0.27; {alpha: 0, top: 0}; {alpha: 0.8, top: 0}"/>
						<bind name="appear" value="'startHide'; 0.15; 0.27; {alpha: 0.8, top: 0}; {alpha: 0, top: 0}"/>
						<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_FORWARD_TO_WOWS_WEBSITE'}"/>
						<block className="button_infopanel" type="native">
							<style>
								<width value="190px"/>
							</style>
							<bind name="action" value="'click'; 'gotoUrlByIdent'; {ident: URL.PROJECT_R}"/>
							<params>
								<param name="label" value=""/>
							</params>
						</block>
						<block type="text">
							<styleClass value="$MiddleVAligned"/>
							<styleClass value="$MiddleAligned"/>
							<styleClass value="$TextDefaultBold"/>
							<style>
								<position value="absolute"/>
								<hitTest value="false"/>
								<maxWidth value="180"/>
								<textAlign value="center"/>
							</style>
							<bind name="text" value="toUpperCase(tr('IDS_GRAND_NAVAL_BATTLES'))"/>
						</block>
						<block className="icon_out_grey" type="native">
							<style>
								<position value="absolute"/>
								<top value="4px"/>
								<right value="4px"/>
							</style>
						</block>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$Fullsize"/>
				<block>
					<styleClass value="$MiddleAligned"/>
					<style>
						<height value="100%"/>
						<width value="76sw"/>
						<marginLeft value="-50%"/>
						<left value="47%"/>
					</style>
					<block>
						<bind name="appear" value="'startShow'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
						<bind name="stageSize"/>
						<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
						<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
						<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
						<bind name="watch" value="'headerHeight'; (48+(stageHeight - 720)/3) + (userPrefs.curRowCountIndex == 2 ? -46 : 0)"/>
						<bind name="style" value="'height'; headerHeight + 'px'"/>
						<style>
							<width value="100%"/>
						</style>
						<block>
							<style>
								<bottom value="-2"/>
								<width value="100%"/>
							</style>
							<bind name="instance" value="'ModalWindowHeader'; {_header: header, _headerWidth: '100%', _showInnerCloseButton:true}"/>
							<block>
								<style>
									<right value="0px"/>
									<top value="2px"/>
									<position value="absolute"/>
								</style>
								<bind name="instance" value="'LayoutSwitcher';	(inset == 1) &amp;&amp; (challengesCollection.length &gt; 0)	? {_layout: challengesLayoutType,	_changeEvent: 'challengesLayoutChangedEvent'} :
																(inset == 2) &amp;&amp; (tasksCollection.length &gt; 0)		? {_layout: battleTasksLayoutType,	_changeEvent: 'battleTaskLayoutChangedEvent'}
																													: null"/>
							</block>
						</block>
					</block>
					<block>
						<bind name="appear" value="'startShow'; 0.15; 0.07; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
						<bind name="appear" value="'startHide'; 0.15; 0.07; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
						<styleClass value="$Fullsize"/>
						<block>
							<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
							<bind name="appear" value="'startHide'; 0.15; 0.12; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
							<bind name="watch" value="'windowInstructionText'; 	inset == 0	? 'IDS_EVENTS_WINDOW_INSTRUCTION' :
																inset == 1	? 'IDS_CHALLENGES_WINDOW_INSTRUCTION'
																			: 'IDS_TASKS_WINDOW_INSTRUCTION' "/>
							<style>
								<width value="100%"/>
							</style>
							<block>
								<styleClass value="$MiddleAligned"/>
								<style>
									<marginBottom value="5px"/>
									<marginTop value="3px"/>
								</style>
								<bind name="instance" value="'InstructionBigTech'; { _instructionText: windowInstructionText, _type: 'info', _maxWidth: '1000' }"/>
							</block>
							<block className="HorizontalDivider">
								<styleClass value="$PxHorizontalCorrection"/>
								<style>
									<width value="100%"/>
									<height value="3px"/>
								</style>
								<block className="divider_h" type="native">
									<styleClass value="$Fullsize"/>
								</block>
							</block>
						</block>
						<block>
							<styleClass value="$Fullsize"/>
							<bind name="changeDispatch" value="inset; 'insetChangedEvent'"/>
							<bind name="dispatch" value="'insetChangedEvent'; (	(inset == 1)	? 'questsInsetChangedToChallenges' :
																(inset == 2)	? 'questsInsetChangedToTasks'
																				: ''); null; true"/>
							<bind name="child" value="inset; { layoutType: (	(inset == 1)	? challengesLayoutType :
															(inset == 2)	? battleTasksLayoutType
																			: null)
											}; 'Events'; 'Challenges'; 'PersonalQuests'"/>
						</block>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.15; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<bind name="visible" value="	(inset == 1 &amp;&amp; challengesCollection.length &gt; 0 &amp;&amp; challengesLayoutType == 0) ||
						(inset == 2 &amp;&amp; tasksCollection.length &gt; 0 &amp;&amp; battleTasksLayoutType == 0)"/>
			<style>
				<width value="100%"/>
				<marginBottom value="16px"/>
			</style>
			<bind name="instance" value="'ShipCarouselContainerQuests'; {scrollToStart:false}"/>
		</block>
	</block>
	<block className="BannerProjectR">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<bind name="countdown" value="1465344000; 'projectRTimeLeft'; 'H'"/>
		<bind name="visible" value="realmConstants.currentRealm == 'EU' &amp;&amp; projectRTimeLeft &gt; 0"/>
		<bind name="appear" value="'startShow'; 0.15; 0.27; {alpha: 0, top: 0}; {alpha: 0.8, top: 0}"/>
		<bind name="appear" value="'startHide'; 0.15; 0.27; {alpha: 0.8, top: 0}; {alpha: 0, top: 0}"/>
		<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_FORWARD_TO_WOWS_WEBSITE'}"/>
		<block className="button_infopanel" type="native">
			<style>
				<width value="190px"/>
			</style>
			<bind name="action" value="'click'; 'gotoUrlByIdent'; {ident: URL.PROJECT_R}"/>
			<params>
				<param name="label" value=""/>
			</params>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextDefaultBold"/>
			<style>
				<position value="absolute"/>
				<hitTest value="false"/>
				<maxWidth value="180"/>
				<textAlign value="center"/>
			</style>
			<bind name="text" value="toUpperCase(tr('IDS_GRAND_NAVAL_BATTLES'))"/>
		</block>
		<block className="icon_out_grey" type="native">
			<style>
				<position value="absolute"/>
				<top value="4px"/>
				<right value="4px"/>
			</style>
		</block>
	</block>
	<block className="Challenges">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'challenges'; 'challengesCollection'"/>
		<bind name="var" value="{currentSelectedIndex: 0}"/>
		<bind name="catch" value="'changeSelectedIndex'"/>
		<bind name="changeDispatch" value="currentSelectedIndex; 'selectedChallengeIndexChangedEvent'"/>
		<bind name="request" value="'selectedChallengeIndexChangedEvent'; 'selectedTaskChanged'; {sseId : challengesCollection[currentSelectedIndex].sseId, collectionName: challengesCollection[currentSelectedIndex].type}"/>
		<bind name="request" value="'questsInsetChangedToChallenges'; 'selectedTaskChanged'; {sseId : challengesCollection[currentSelectedIndex].sseId, collectionName: challengesCollection[currentSelectedIndex].type}"/>
		<bind name="request" value="'changeChallengesLayoutTypeInPrefs'; 'selectedTaskChanged'; {sseId : challengesCollection[currentSelectedIndex].sseId, collectionName: challengesCollection[currentSelectedIndex].type}"/>
		<styleClass value="$Fullsize"/>
		<bind name="instance" value="'NoCurrentQuests'; challengesCollection.length == 0 ? {_type: 'CHALLENGES'} : null"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="visible" value="challengesCollection.length &gt; 0"/>
			<bind name="child" value="layoutType; {challengesCollection: challengesCollection, currentSelectedIndex: currentSelectedIndex}; 'ChallengesLargeTileLayout'; 'ChallengesSmallTileLayout'"/>
		</block>
	</block>
	<block className="ChallengesSmallTileLayout">
		<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'startHide'; 0.15; 0.12; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
		<styleClass value="$Fullsize"/>
		<block>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<height value="100%f"/>
				<width value="100%"/>
				<overflow value="scroll"/>
			</style>
			<block>
				<style>
					<flow value="htile"/>
					<align value="center"/>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="stageSize"/>
					<bind name="style" value="'height'; (4+(stageHeight-720)/8)+'px'"/>
				</block>
				<bind name="repeat" value="challengesCollection; 'QuestsSmallItem'"/>
			</block>
		</block>
	</block>
	<block className="ChallengesLargeTileLayout">
		<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'startHide'; 0.15; 0.12; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="stageSize"/>
		<bind name="style" value="'top'; (4+(stageHeight-720)/8)+'px'"/>
		<bind name="instance" value="'SSECarousel'; {_wheelScrollSpeed: 417, _height: '480px', _repeatCollection: challengesCollection,
									_repeatElement: 'QuestsLargeItem', currentSelectedIndex: currentSelectedIndex, _type: SSETypes.CHALLENGE}"/>
	</block>
	<block className="PersonalQuests">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'tasks'; 'isActive'; true; 'tasksCollection'"/>
		<bind name="var" value="{currentSelectedIndex: 0}"/>
		<bind name="catch" value="'changeSelectedIndex'"/>
		<bind name="changeDispatch" value="currentSelectedIndex; 'selectedTaskIndexChangedEvent'"/>
		<bind name="request" value="'selectedTaskIndexChangedEvent'; 'selectedTaskChanged'; {sseId : tasksCollection[currentSelectedIndex].sseId, collectionName: tasksCollection[currentSelectedIndex].type}"/>
		<bind name="request" value="'questsInsetChangedToTasks'; 'selectedTaskChanged'; {sseId : tasksCollection[currentSelectedIndex].sseId, collectionName: tasksCollection[currentSelectedIndex].type}"/>
		<bind name="request" value="'changeBattleTasksLayoutTypeInPrefs'; 'selectedTaskChanged'; {sseId : tasksCollection[currentSelectedIndex].sseId, collectionName: tasksCollection[currentSelectedIndex].type}"/>
		<styleClass value="$Fullsize"/>
		<bind name="instance" value="'NoCurrentQuests'; tasksCollection.length == 0 ? {_type: 'TASKS'} : null"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="visible" value="tasksCollection.length &gt; 0"/>
			<bind name="child" value="layoutType; {tasksCollection: tasksCollection, currentSelectedIndex: currentSelectedIndex}; 'PersonalQuestsLargeTileLayout'; 'PersonalQuestsSmallTileLayout'"/>
		</block>
	</block>
	<block className="PersonalQuestsSmallTileLayout">
		<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'startHide'; 0.15; 0.12; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
		<styleClass value="$Fullsize"/>
		<block>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<height value="100%f"/>
				<width value="100%"/>
				<overflow value="scroll"/>
			</style>
			<block>
				<style>
					<flow value="htile"/>
					<align value="center"/>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="stageSize"/>
					<bind name="style" value="'height'; (4+(stageHeight-720)/8)+'px'"/>
				</block>
				<bind name="repeat" value="tasksCollection; 'QuestsSmallItem'"/>
			</block>
		</block>
	</block>
	<block className="PersonalQuestsLargeTileLayout">
		<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'startHide'; 0.15; 0.12; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="stageSize"/>
		<bind name="style" value="'top'; (4+(stageHeight-720)/8)+'px'"/>
		<bind name="instance" value="'SSECarousel'; {_wheelScrollSpeed: 347, _repeatCollection: tasksCollection, _repeatElement: 'QuestsLargeItem', currentSelectedIndex: currentSelectedIndex, _height: '480px', _type: SSETypes.TASK}"/>
	</block>
	<block className="Events">
		<styleClass value="$Fullsize"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'events'; 'eventsCollection'"/>
		<bind name="instance" value="'NoCurrentQuests'; eventsCollection.length == 0 ? {_type: 'EVENTS'} : null"/>
		<block>
			<bind name="visible" value="eventsCollection.length &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="stageSize"/>
			<bind name="style" value="'top'; (4+(stageHeight-720)/8)+'px'"/>
			<bind name="instance" value="'SSECarousel'; {_repeatCollection: eventsCollection, _repeatElement: 'EventItem', _height: '630px', _wheelScrollSpeed: 917, _type: SSETypes.EVENT}"/>
		</block>
	</block>
	<block className="EventItem">
		<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'startHide'; 0.15; 0.12; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
		<bind name="name" value="'EventItem_' + sseId"/>
		<style>
			<width value="916px"/>
			<height value="618px"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<width value="900px"/>
				<height value="100%"/>
			</style>
			<block className="DropShadow">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$MouseDisable"/>
				<block className="drop_shadow" type="native">
					<styleClass value="$Fullsize"/>
					<style>
						<position value="absolute"/>
						<marginTop value="-2px"/>
						<marginRight value="-6px"/>
						<marginBottom value="-10px"/>
						<marginLeft value="-6px"/>
					</style>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<backgroundSize value="cover"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + backgroundURL"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="29px"/>
					<marginRight value="27px"/>
					<marginTop value="21px"/>
					<marginBottom value="18px"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="680"/>
						<marginRight value="12px"/>
					</style>
					<styleClass value="$TextAccentBoldAccountLevel2"/>
					<bind name="text" value="toUpperCase(tr(titleText))"/>
				</block>
				<block type="text">
					<style>
						<right value="0"/>
						<position value="absolute"/>
					</style>
					<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_HINT_EVENT_LIFETIME'}"/>
					<styleClass value="$TextAccentBoldAccountLevel2"/>
					<bind name="text" value="startDate + '' + stopDate"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="42px"/>
					<marginRight value="18px"/>
				</style>
				<bind name="repeat" value="actions; 'EventListItem'; { eventStartDate: startDate, eventStopDate: stopDate}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<bottom value="0px"/>
					<position value="absolute"/>
				</style>
				<block className="quest_thumb_title" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<style>
						<width value="100%"/>
						<marginLeft value="28px"/>
						<marginRight value="26px"/>
						<marginTop value="14px"/>
						<marginBottom value="14px"/>
						<leading value="2"/>
					</style>
					<styleClass value="$TextHeader"/>
					<bind name="text" value="descriptionText"/>
				</block>
			</block>
		</block>
	</block>
	<block className="EventListItem">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="80px"/>
			<marginBottom value="1px"/>
		</style>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: descriptionText}"/>
			<style>
				<height value="80px"/>
				<width value="110px"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:' + iconURL"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: descriptionText}"/>
				<block type="text">
					<style>
						<maxWidth value="715"/>
						<marginTop value="9px"/>
						<marginLeft value="8px"/>
						<marginRight value="9px"/>
					</style>
					<styleClass value="$TextHeaderWhiteBold"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="titleText"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="startDate != eventStartDate || stopDate != eventStopDate"/>
				<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_HINT_ACTION_LIFETIME'}"/>
				<block type="text">
					<style>
						<marginLeft value="8px"/>
						<marginTop value="-2px"/>
						<alpha value="0.75"/>
					</style>
					<styleClass value="$TextHeaderBold"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="startDate + '' + stopDate"/>
				</block>
			</block>
		</block>
	</block>
	<block className="SSECarousel">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<bind name="stageSize"/>
		<bind name="watch" value="'isScrollNeeded'; ((stageWidth*0.752) &lt; (_repeatCollection.length*_wheelScrollSpeed))"/>
		<bind name="watch" value="'itemWidth'; _type == SSETypes.CHALLENGE ? 416 : _type == SSETypes.TASK ? 346 : 916"/>
		<bind name="style" value="'height'; _height"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="instance" value="'CarouselBlockWithScroll'; {	inQuestWindow: true, currentSelectedIndex: currentSelectedIndex,
                                                        _repeatElement: _repeatElement, _repeatCollection: _repeatCollection,
                                                        _wheelScrollSpeed: _wheelScrollSpeed,
                                                        _isScrollNeeded: isScrollNeeded,
                                                        _itemWidth: itemWidth,
                                                        _height: _height }"/>
		</block>
	</block>
	<block className="CarouselBlockWithScroll">
		<styleClass value="$MiddleAligned"/>
		<style>
			<flow value="horizontal"/>
			<width value="100%f"/>
			<height value="100%"/>
		</style>
		<block>
			<bind name="visible" value="_isScrollNeeded"/>
			<style>
				<width value="20px"/>
				<marginRight value="6px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block className="button_slide_left" type="native">
				<params>
					<param name="focusable" value="false"/>
				</params>
				<bind name="event" value="'click'; scrollLeftByOneUnit"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%f"/>
				<height value="1px"/>
				<scrollbarController value="lesta.unbound.style.UbScrollingControllerTouch"/>
				<layout value="lesta.unbound.layout.measure.CarouselLayout"/>
				<itemWidth value="416"/>
				<itemHeight value="440"/>
			</style>
			<bind name="style" value="'height'; _height"/>
			<bind name="style" value="'overflow'; _isScrollNeeded ? 'scroll' : 'visible'"/>
			<bind name="event" value="'layoutChanged'; scrollToIndex; currentSelectedIndex"/>
			<bind name="style" value="'itemWidth'; _itemWidth"/>
			<bind name="style" value="'wheelScrollSpeed'; _wheelScrollSpeed"/>
			<bind name="controller" value="lesta.unbound.controls.UbCarouselController"/>
			<bind name="generator" value="_repeatCollection; _repeatElement; {inQuestWindow: true, currentSelectedIndex: currentSelectedIndex, _itemWidth: _itemWidth}"/>
			<bind name="scrollToIndex!" value="currentSelectedIndex"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="_isScrollNeeded"/>
			<style>
				<width value="20px"/>
				<marginLeft value="12px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block className="button_slide_right" type="native">
				<params>
					<param name="focusable" value="false"/>
				</params>
				<bind name="name" value="'buttonCarouselRight'"/>
				<bind name="event" value="'click'; scrollRightByOneUnit"/>
			</block>
		</block>
	</block>
	<block className="LayoutSwitcher">
		<style>
			<flow value="horizontal"/>
			<height value="28px"/>
		</style>
		<block>
			<style>
				<width value="34px"/>
				<height value="100%"/>
			</style>
			<block className="button_layout_horizontal" type="native">
				<bind name="name" value="'TileListHorizontal_0'"/>
				<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_SWITCH_TO_DETAIL_VIEW'}"/>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="selected" value="_layout == 0"/>
				<bind name="dispatch" value="'buttonClick'; (_layout == 0 ? '' : _changeEvent)"/>
			</block>
		</block>
		<block>
			<block className="divider_v" type="native">
				<style>
					<height value="20px"/>
					<marginTop value="3px"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<width value="34px"/>
				<height value="100%"/>
			</style>
			<block className="button_layout_tilelist" type="native">
				<bind name="name" value="'TileListHorizontal_1'"/>
				<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: 'IDS_SWITCH_TO_SHORT_VIEW'}"/>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="selected" value="_layout == 1"/>
				<bind name="dispatch" value="'buttonClick'; (_layout == 1 ? '' : _changeEvent)"/>
			</block>
		</block>
	</block>
	<block className="ShipCarouselContainerQuests">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate,freeExpUpdate,slotsNumUpdate'"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<style>
			<width value="100%"/>
		</style>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'isSmallCarouselView'; (userPrefs.isSmallCarouselView == null) ? false : userPrefs.isSmallCarouselView"/>
		<block className="ShipCarousel">
			<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
			<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
			<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
			<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
			<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
			<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
			<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
			<bind name="watch" value="'carouselSmallViewHeight'; (curRowCountIndex == 0 || (!isSmallCarouselView))	? 2*63
																							: curRowCountIndex == 1 ? 3*63
																							: 4*63"/>
			<bind name="watch" value="'rowsCount'; 																	(!isSmallCarouselView)	? 1
																							:	curRowCountIndex == 0 	? 2 
																							: 	curRowCountIndex == 1 	? 3
																							: 4"/>
			<style>
				<flow value="horizontal"/>
				<width value="100%"/>
				<minHeight value="126"/>
			</style>
			<bind name="style" value="'height'; carouselSmallViewHeight +  'px'"/>
			<bind name="name" value="'carouselPlayerShips'"/>
			<bind name="stageSize"/>
			<bind name="watch" value=" 'maxSlotsOnScreen'; isSmallCarouselView ? ((stageWidth - 58) / 214) / 2 : ((stageWidth - 58) / 214) "/>
			<block>
				<style>
					<width value="20px"/>
					<height value="100%"/>
				</style>
				<block className="button_slide_left" type="native">
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$MiddleAligned"/>
					<params>
						<param name="focusable" value="false"/>
					</params>
					<bind name="enabled" value="ShipsCarouselCanScrollLeft"/>
					<bind name="name" value="'buttonCarouselLeft'"/>
					<bind name="dispatch" value="'buttonClick'; 'ShipsCarouselScrollPrev'"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%f"/>
					<height value="100%"/>
					<overflow value="scroll"/>
					<scrollArea value="ModernScrollAreaHorizontal"/>
					<scrollbarController value="lesta.unbound.style.UbScrollingControllerTouch"/>
					<wheelScrollSpeed value="216"/>
					<layout value="lesta.unbound.layout.measure.CarouselLayout"/>
					<itemWidth value="216px"/>
					<itemHeight value="126px"/>
				</style>
				<bind name="style" value="'flow'; isSmallCarouselView ? 'vtile' : 'horizontal'"/>
				<bind name="style" value="'itemHeight'; isSmallCarouselView ? '63px' : '126px'"/>
				<bind name="name" value="'shipCarouseContaner'"/>
				<bind name="generatorDH" value="CC.shipFilterSSE; 'CarouselItem'; 'sorted'; { shipFilterId: CC.shipFilterSSE, _selectedShipId: shipIdForModuleInset,
                                                                _isSmallCarouselView: isSmallCarouselView,
                                                                isFull: slimClientData.isFull}"/>
				<bind name="scrollController" value="'ShipsCarousel'; 216; rowsCount"/>
				<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerShipsCarousel; CC.shipFilterSSE; 'sorted'; 'ShipsCarousel' ; scrollToStart"/>
				<bind name="dispatch" value="'addedToStage'; 'ShipsCarouselScrollToSelected'"/>
				<block>
					<bind name="visible" value="false"/>
					<block className="ShipCarouselPurchaseShip">
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate,freeExpUpdate,slotsNumUpdate'"/>
						<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
						<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
						<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
						<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
						<bind name="class" value="curRowCountIndex == 1 ? '$CarouselServiceBlockSmall' : '$CarouselServiceBlock'"/>
						<block className="inner_panel" type="native">
							<styleClass value="$Fullsize"/>
							<style>
								<position value="absolute"/>
							</style>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<styleClass value="$MiddleVAligned"/>
							<block>
								<style>
									<width value="190px"/>
								</style>
								<block className="button_dock" type="native">
									<bind name="tooltip" value="'PurchaseShipTooltip'; {}; 1"/>
									<style>
										<width value="100%"/>
										<height value="30px"/>
									</style>
									<bind name="enabled" value="_enabled"/>
									<bind name="action" value="'buttonClick'; 'changeInset'; { inset: LobbyConstants.SHIP_RESEARCH_TREE }"/>
									<block>
										<style>
											<marginTop value="8px"/>
										</style>
										<styleClass value="$MiddleAligned"/>
										<style>
											<mouseEnabled value="false"/>
											<mouseChildren value="false"/>
										</style>
										<block type="text">
											<styleClass value="$TextDefaultBold"/>
											<styleClass value="$MiddleVAligned"/>
											<text value="IDS_PURCHASE_SHIP_UPPER_CASE"/>
										</block>
										<style>
											<flow value="horizontal"/>
										</style>
									</block>
								</block>
							</block>
							<block>
								<bind name="visible" value="accountResourceInfo.slotsNum &gt; 0"/>
								<styleClass value="$MiddleAligned"/>
								<style>
									<hitTest value="false"/>
									<marginTop value="-6px"/>
								</style>
								<block type="text">
									<bind name="name" value="'ShipCarouselFreeSlots'"/>
									<styleClass value="$TextDefault"/>
									<bind name="class" value="'$FontColorBlueish'"/>
									<bind name="text" value="tr('IDS_FREE_SLOTS')  + ' ' + accountResourceInfo.slotsNum"/>
								</block>
							</block>
							<block>
								<bind name="visible" value="accountResourceInfo.slotsNum == 0"/>
								<styleClass value="$MiddleAligned"/>
								<style>
									<hitTest value="false"/>
									<marginTop value="-8px"/>
								</style>
								<bind name="instance" value="'StatusLineWithIcon'; { _text: 'IDS_NO_FREE_SLOTS', _bold: true }"/>
							</block>
						</block>
					</block>
				</block>
				<block>
					<bind name="visible" value="false"/>
					<block className="ShipCarouselPurchaseShipSlot">
						<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'SLOT_COST'; 'slotPrice'"/>
						<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
						<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
						<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
						<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
						<bind name="class" value="curRowCountIndex == 1 ? '$CarouselServiceBlockSmall' : '$CarouselServiceBlock'"/>
						<block className="inner_panel" type="native">
							<styleClass value="$Fullsize"/>
							<style>
								<position value="absolute"/>
							</style>
						</block>
						<block>
							<styleClass value="$MiddleVAligned"/>
							<styleClass value="$MiddleAligned"/>
							<block>
								<style>
									<width value="190px"/>
								</style>
								<block className="button_dock" type="native">
									<bind name="tooltip" value="'PurchaseSlotTooltip'; {}; 1"/>
									<style>
										<width value="100%"/>
										<height value="30px"/>
									</style>
									<bind name="enabled" value="_enabled"/>
									<bind name="name" value="'buttonBuySlots'"/>
									<bind name="input"/>
									<block>
										<style>
											<marginTop value="8px"/>
										</style>
										<styleClass value="$MiddleAligned"/>
										<style>
											<mouseEnabled value="false"/>
											<mouseChildren value="false"/>
										</style>
										<block type="text">
											<styleClass value="$TextDefaultBold"/>
											<styleClass value="$MiddleVAligned"/>
											<text value="IDS_PURCHASE_SLOT_FOR_UPPER_CASE"/>
										</block>
										<style>
											<flow value="horizontal"/>
										</style>
									</block>
								</block>
							</block>
							<block>
								<styleClass value="$MiddleAligned"/>
								<style>
									<marginTop value="-6px"/>
								</style>
								<bind name="instance" value="'PriceTag'; { priceInfo: slotPrice.prices[0], _showDiscountTag:true}"/>
								<style>
									<flow value="horizontal"/>
								</style>
							</block>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<height value="100%"/>
					<width value="20px"/>
				</style>
				<block className="button_slide_right" type="native">
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$MiddleAligned"/>
					<params>
						<param name="focusable" value="false"/>
					</params>
					<bind name="enabled" value="ShipsCarouselCanScrollRight"/>
					<bind name="name" value="'buttonCarouselRight'"/>
					<bind name="dispatch" value="'buttonClick'; 'ShipsCarouselScrollNext'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="NoCurrentQuests">
		<styleClass value="$MiddleAligned"/>
		<style>
			<top value="30%"/>
			<marginTop value="-50%"/>
		</style>
		<block type="text">
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextAccentBold"/>
			<bind name="text" value="toUpperCase(tr('IDS_NO_CURRENT_' + _type))"/>
		</block>
		<bind name="instance" value="'InstructionBigTech'; { _instructionText: 'IDS_COME_BACK_LATER', _type: 'info', _maxWidth: 980 }"/>
	</block>
	<css name="$TextShipHeaderNameNormal">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextShipHeaderNameGolden">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipHeaderNameBlack">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<block className="ShipInfoTabHeader">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
				<alpha value="0.6"/>
			</style>
			<bind name="instance" value="'NationFlagsBig'; {_width: '300px', _height: '184px', _alpha: 0.8, shipCountry: shipInfo.flagName}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block>
				<style>
					<marginBottom value="3px"/>
				</style>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HELP_SHIP_NAME'}; 0"/>
				<bind name="instance" value="'InvertableTextLine'; { _text: toUpperCase(tr(shipInfo.nameIDS + '_FULL')), 
													_invert: _fromCrew ? !isOwned : false, 
													_normalClass: (shipInfo.isPremium || shipInfo.uiSpecial) &amp;&amp; !_isNotMyShip ? '$TextShipHeaderNameGolden' : '$TextShipHeaderNameNormal', 
													_invertedClass: '$TextShipHeaderNameBlack',
													_letterSpacing: 0.8}"/>
			</block>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_CLASS'}; 0"/>
				<style>
					<marginLeft value="2px"/>
					<height value="20px"/>
				</style>
				<block className="icon_wreath" type="native">
					<styleClass value="$MiddleVAligned"/>
					<style>
						<position value="absolute"/>
						<left value="-3px"/>
					</style>
					<bind name="visible" value="(upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial) &amp;&amp; !_isNotMyShip"/>
					<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
									shipInfo.isPremium 	? 'premium'
														: 'elite'"/>
				</block>
				<block className="icon_ship" type="native">
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="2px"/>
					</style>
					<bind name="gotoAndStop!" value="_fromCrew 	? (isOwned ? (shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype) : shipInfo.subtype + '_U')
												: inSideCompare &amp;&amp; _isNotMyShip ? shipInfo.subtype
												: (shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype)"/>
				</block>
				<block>
					<style>
						<marginLeft value="4px"/>
						<marginTop value="-2px"/>
					</style>
					<bind name="instance" value="'InvertableTextLine'; { _text: shipInfo.shipTypeIDS,
														_invert: _fromCrew ? !isOwned : false, 
														_normalClass: (shipInfo.isPremium || shipInfo.uiSpecial) &amp;&amp; !_isNotMyShip ? '$TextShipLinePremium' : '$TextShipLineNormal', 
														_invertedClass: '$TextShipLineBlack' }"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_LEVEL'}; 0"/>
				<style>
					<position value="absolute"/>
					<right value="0"/>
					<bottom value="0"/>
					<height value="20px"/>
				</style>
				<block>
					<style>
						<marginTop value="-2px"/>
					</style>
					<bind name="instance" value="'InvertableTextLine'; { _text: 'IDS_LEVEL', 
														_invert: _fromCrew ? !isOwned : false, 
														_normalClass: (shipInfo.isPremium || shipInfo.uiSpecial) &amp;&amp; !_isNotMyShip ? '$TextShipLinePremium' : '$TextShipLineNormal', 
														_invertedClass: '$TextShipLineBlack' }"/>
				</block>
				<block>
					<style>
						<marginLeft value="3px"/>
						<marginRight value="3px"/>
						<marginTop value="-2px"/>
					</style>
					<bind name="instance" value="'InvertableTextLine'; { _text: shipInfo.levelRome,
														_invert: _fromCrew ? !isOwned : false, 
														_normalClass: (shipInfo.isPremium || shipInfo.uiSpecial) &amp;&amp; !_isNotMyShip ? '$TextShipLinePremiumBold' : '$TextShipLineNormalBold', 
														_invertedClass: '$TextShipLineBlackBold' }"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<css name="$TextShipLineNormal">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextShipLineNormalAccent">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextShipLinePremium">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipLinePremiumAccent">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipLineBlack">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextShipLineBlackAccent">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextShipLineNormalBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextShipLinePremiumBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipLineBlackBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<block className="ShipLineItem">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; _shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="style" value="'marginTop'; _large ? '7px' : '1px'"/>
			<block className="icon_wreath" type="native">
				<style>
					<position value="absolute"/>
					<left value="-5px"/>
					<top value="-8px"/>
				</style>
				<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
				<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
								shipInfo.isPremium 	? 'premium'
													: 'elite'"/>
			</block>
			<block className="icon_ship" type="native">
				<bind name="gotoAndStop!" value="shipInfo.subtype + (!isOwned ? '_U' : (shipInfo.isPremium || shipInfo.uiSpecial ? '_P' : '')) "/>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-5px"/>
				<marginLeft value="3px"/>
			</style>
			<bind name="instance" value="'InvertableTextLine'; { _text: shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS)),
												_invert: !isOwned, 
												_normalClass: (shipInfo.isPremium || shipInfo.uiSpecial ? (_large ? '$TextShipLinePremiumAccent': '$TextShipLinePremium') : (_large ? '$TextShipLineNormalAccent' : '$TextShipLineNormal')), 
												_invertedClass: (_large ? '$TextShipLineBlackAccent': '$TextShipLineBlack'),
												_width: _width ? _width : '110px',
												_letterSpacing: 0.8}"/>
		</block>
	</block>
	<css name="$TextMetaHeader">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextMetaInfo">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$ShipParamTitleWidth">
		<width value="160px"/>
	</css>
	<css name="$ShipParamOnePieceTitleWidth">
		<maxWidth value="160"/>
	</css>
	<block className="TitleDefaultMockup">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<leading value="-4"/>
				<maxWidth value="184"/>
				<marginRight value="9px"/>
			</style>
			<bind name="class" value="meta ? '$TextMetaHeader' : '$TextMetaInfo'"/>
			<bind name="style" value="'alpha'; meta ? 1 : 0.7"/>
			<bind name="text" value="tr(nameIDS) + ' ' + (title.data.items ? tr(title.data.items[0].textValue) : '')"/>
		</block>
	</block>
	<block className="TitleVertMockup">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<styleClass value="$TextMetaInfo"/>
			<style>
				<leading value="-4"/>
				<width value="184px"/>
				<marginRight value="9px"/>
			</style>
			<bind name="style" value="'alpha'; meta ? 1 : 0.7"/>
			<bind name="text" value="nameIDS"/>
		</block>
		<block type="text">
			<style>
				<leading value="-4"/>
				<maxWidth value="184"/>
				<marginRight value="9px"/>
			</style>
			<styleClass value="$TextMetaInfo"/>
			<style>
				<alpha value="0.7"/>
				<marginTop value="-7px"/>
			</style>
			<bind name="text" value="title.data.items[0].textValue"/>
		</block>
	</block>
	<block className="ShipInfoTabRow">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<bind name="watch" value="'id'; id"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="name" value="'param_' + id"/>
		<bind name="dispatch" value="'click'; dockDefaultValues.armourVisibility &amp;&amp; !(excursionOff) ? null : 'onParamRowClicked'; index"/>
		<bind name="tooltip" value="'ShipParamTooltip';{id: id, meta:meta, secondLevel:secondLevel, tooltipIDS:tooltipIDS, nameIDS:nameIDS, _hasExcursion: (!excursionOff &amp;&amp; !(dockDefaultValues.armourVisibility)), _isArmour: id == 'armour'}"/>
		<bind name="action" value="'click'; id == 'armour' ? (dockDefaultValues.armourVisibility ? 'hideArmour' : 'showArmour') : null"/>
		<bind name="fade" value="!empty &amp;&amp; (isRoot || (!(parent.empty) &amp;&amp; parent.state.active)); 0.15; {alpha: 0, ubScaleY: 0.0}; {alpha: 1, ubScaleY: 1.0}"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="inner_panel" type="native">
			<styleClass value="$Fullsize"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<styleClass value="$MouseDisable"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="visible" value="!(isRoot)"/>
		</block>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$Fullsize"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'alpha'; (!(isRoot) &amp;&amp; !(excursionOff) &amp;&amp; !(dockDefaultValues.armourVisibility)) || (id == 'armour') ? 1 : 0"/>
			<bind name="selected" value="state.selected"/>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<styleClass value="$MouseDisable"/>
			<style>
				<position value="absolute"/>
				<left value="1px"/>
			</style>
			<bind name="instance" value="'StatValueBar'; meta ? {_width: 310,	 						_hasDiff: root.hasDiff,
												_currentValue: root.values[0], 			_diffValue: root.diffData[0].value,
												_isGood: root.diffData[0].isGood, 		_expand: state.active,
												_invert: ident == 'visibility',			rollOver: rollOver,
												viewParams: viewParams} : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
				<bottom value="-1px"/>
			</style>
			<styleClass value="$MouseDisable"/>
			<bind name="visible" value="meta"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MouseDisable"/>
			<style>
				<width value="100%"/>
				<marginLeft value="26px"/>
				<marginRight value="12px"/>
				<marginTop value="1px"/>
				<marginBottom value="3px"/>
			</style>
			<bind name="style" value="'marginLeft'; secondLevelTooltip ? '12px' : '20px'"/>
			<bind name="style" value="'marginTop'; (viewParams.list[$index - 1].meta || viewParams.list[$index - 1] == null) &amp;&amp; !(meta) ? '5px' : '1px'"/>
			<bind name="style" value="'marginBottom'; viewParams.list[$index + 1].meta || viewParams.list[$index + 1] == null ? '8px' : '3px'"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'TitleDefaultMockup';(title == null || titleMockup == 0) ? {meta:meta, isRoot:isRoot, nameIDS:nameIDS,title:title} : null"/>
				<bind name="instance" value="'TitleVertMockup';(title != null &amp;&amp; titleMockup == 1) ? {meta:meta, isRoot:isRoot, nameIDS:nameIDS,title:title} : null"/>
			</block>
			<block>
				<block>
					<style>
						<right value="0"/>
						<position value="absolute"/>
					</style>
					<block>
						<bind name="visible" value="secondLevel.hasDiff ? true : false"/>
						<block type="text">
							<styleClass value="$TextParams"/>
							<style>
								<marginTop value="-1px"/>
								<alpha value="0.55"/>
							</style>
							<text value="("/>
						</block>
						<block className="icon_warning_orange" type="native">
							<styleClass value="$MiddleVAligned"/>
							<style>
								<marginLeft value="-2px"/>
								<marginRight value="-2px"/>
							</style>
						</block>
						<block type="text">
							<styleClass value="$TextParams_tight_left"/>
							<style>
								<marginTop value="-1"/>
							</style>
							<text value=")"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<bind name="instance" value="'ParamElement'; value"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block>
				<bind name="fade" value="!(isRoot) &amp;&amp; !(excursionOff) &amp;&amp; !(dockDefaultValues.armourVisibility); 0.3; {alpha: 0}; {alpha: 1}"/>
				<style>
					<position value="absolute"/>
					<left value="-15px"/>
					<top value="7px"/>
				</style>
				<block className="icon_camera_off" type="native">
					<style>
						<position value="absolute"/>
					</style>
					<bind name="fade" value="!(state.selected); 0.3; {alpha: 0}; {alpha: 1}"/>
				</block>
				<block className="icon_camera_on" type="native">
					<style>
						<position value="absolute"/>
					</style>
					<bind name="fade" value="state.selected; 0.3; {alpha: 0}; {alpha: 1}"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="id == 'armour'"/>
				<style>
					<position value="absolute"/>
					<left value="-17px"/>
					<top value="6px"/>
				</style>
				<block className="button_armour_switcher_small" type="native">
					<bind name="selected" value="dockDefaultValues.armourVisibility"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="button_expand" type="native">
			<bind name="selected" value="state.active"/>
			<bind name="visible" value="expandable"/>
			<params>
				<param name="toggle" value="true"/>
				<param name="soundSet" value="dropmenu_button"/>
				<param name="focusable" value="false"/>
			</params>
			<style>
				<position value="absolute"/>
				<height value="24px"/>
				<width value="100%"/>
				<marginLeft value="3px"/>
			</style>
		</block>
	</block>
	<block className="ShipDescription">
		<styleClass value="$InfoBlockIndent"/>
		<block>
			<bind name="visible" value="_peculiarity == 'default'"/>
			<style>
				<width value="100%"/>
				<marginTop value="-3px"/>
			</style>
			<block>
				<block type="text">
					<styleClass value="$TextSecondary"/>
					<bind name="text" value="(_isPaperShip ? tr('IDS_PROJECT_YEAR') : tr('IDS_RELEASE_YEAR')) + tr('IDS_COLON')"/>
				</block>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="text" value="_shipNameIDS + '_YEAR'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<styleClass value="$AlignRight"/>
				<bind name="visible" value="_isPaperShip != true"/>
				<block type="text">
					<styleClass value="$TextSecondary"/>
					<bind name="text" value="tr('IDS_SHIPS_IN_SERIES') + tr('IDS_COLON')"/>
				</block>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="text" value="_shipNameIDS + '_NUMBER'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block type="text">
			<bind name="style" value="'marginTop'; (_peculiarity == 'default') ? '3px' : '-2px' "/>
			<styleClass value="$TextSecondaryBold"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="text" value="_shipNameIDS + '_DESCR'"/>
		</block>
	</block>
	<block className="ShipParamsList">
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="repeat" value="viewParams.list; 'ShipInfoTabRow'; {secondLevelTooltip: secondLevelTooltip, viewParams: viewParams, _excursionOff: _excursionOff}"/>
	</block>
	<block className="ShipParamsListView">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="appear" value="'hideParams'; 0.45; 0.0; {alpha: 1.0}; {alpha: 0.0}"/>
			<bind name="appear" value="'showParams'; 0.3; 0.10; {alpha: 0.0}; {alpha: 1.0}"/>
			<block className="stat_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="appear" value="'hideParams'; 0.45; 0.0; {alpha: 1.0, top: 0}; {alpha: 0.0, top: -10}"/>
			<bind name="appear" value="'showParams'; 0.3; 0.10; {alpha: 0.0, top: 10}; {alpha: 1.0, top: 0}"/>
			<bind name="repeat" value="viewParams.list;'ShipInfoTabRow'; {secondLevelTooltip: secondLevelTooltip, viewParams: viewParams}"/>
		</block>
	</block>
	<block className="ShipSilhouetteRightAligned">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<style>
			<width value="122px"/>
			<height value="22px"/>
		</style>
		<bind name="style" value="'right'; (shipInfo.subtype == ShipTypes.Destroyer)	? '-26px'
																		:	(shipInfo.subtype ==  ShipTypes.Cruiser)	? '-12px'
																														: '0px'"/>
		<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathTinyIcon"/>
	</block>
	<block className="ShipPanel">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<bind name="primaryEntityDH" value="'crewEntity'; CC.crew; playerShipInfo.crewId"/>
		<bind name="watchDH" value="'crew'; ['crewEntity.crew.evBasketChanged', 'crewEntity.crew.evLevelUp', 'crewEntity.crew.evExpChanged', 'crewEntity.crew.evShipChanged', 'crewEntity.crew.evSkillsChanged', 'crewEntity.crew.evResetCostChanged', 'crewEntity.crew.evAdaptationUpdated']; crewEntity.crew"/>
		<bind name="watchDH" value="'crew'+'Retraining'; ['crewEntity.crew.evRetrainingUpdated']; crewEntity.retraining"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate,freeExpUpdate,slotsNumUpdate'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_EXPLORE + shipId; 'shipExplorePrice'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + shipId; 'shipBuyPrice'"/>
		<params>
			<param name="name" value="panelShipStats"/>
		</params>
		<bind name="watch" value="'showPanel'; _crewInset != 1 &amp;&amp; ((isOwned &amp;&amp; (_dockInset == LobbyConstants.DOCK)) || _dockInset == LobbyConstants.SHIP_MODULES || _dockInset == LobbyConstants.SHIP_EXTERIOR)"/>
		<bind name="fade" value="showPanel; showPanel ? 0.3 : 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'addedToStage'; 0.3; 0.2; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
		<styleClass value="$ShipTechStats"/>
		<style>
			<top value="92px"/>
		</style>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'carouselRows'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="watch" value="'isSmallCarouselView'; (userPrefs.isSmallCarouselView == null) ? false : userPrefs.isSmallCarouselView"/>
		<bind name="style" value="'marginBottom'; isSmallCarouselView	?	(carouselRows == 1) ? '353px' :
															(carouselRows == 2) ? '416px'
																				: '290px'
														: '290px'"/>
		<block>
			<style>
				<height value="100%f"/>
				<width value="100%"/>
			</style>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<block className="notification_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="stat_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'ShipInfoTabHeader'; { shipId: shipId }"/>
				</block>
				<block>
					<bind name="visible" value="!isOwned"/>
					<styleClass value="$MiddleAligned"/>
					<style>
						<marginTop value="-40px"/>
						<marginBottom value="-20px"/>
						<width value="214px"/>
						<height value="126px"/>
					</style>
					<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathPreview"/>
				</block>
				<block>
					<bind name="visible" value="!shipInfo.isEventLike"/>
					<bind name="style" value="'marginTop'; isOwned ? '-15px' : 0px'"/>
					<style>
						<width value="100%"/>
					</style>
					<block className="ShipResearchBlock">
						<styleClass value="$InfoBlockIndent"/>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="instance" value="'PriceTagWithLabel'; isOwned ? null
														: (!(upgradableShipInfo.isExplored) &amp;&amp; !(upgradableShipInfo.dependencyResearched)) || (!(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0)? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _label: 'IDS_RESEARCH_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice &lt; 0) ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true }
														: null"/>
						</block>
						<block>
							<style>
								<width value="50%"/>
								<marginLeft value="-50%"/>
								<left value="50%"/>
							</style>
							<bind name="instance" value="'DefaultButtonCostMedium'; isOwned ? null
													: !(upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0) &amp;&amp; ((shipInfo.group == 'upgradeable') || (shipInfo.group == 'upgradeableExclusive')) ? { _label: toUpperCase(tr('IDS_DO_RESEARCH')), priceInfo: (upgradableShipInfo.totalCostXP == shipExplorePrice.prices[0].finalPrice ? shipExplorePrice.prices[0] : { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }), _action: 'researchShip', _actionParams: { shipId: shipInfo.id}, _enabled: ( upgradableShipInfo.dependencyResearched &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0)), _showDiscountTag:true, _name: 'ButtonShipResearch' }
													: (upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.creditsDeficit &lt;= 0) &amp;&amp; !(shipInfo.isPremium) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: (upgradableShipInfo.creditsDeficit &lt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium  &amp;&amp; (accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice &gt;= 0) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: ((accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice) &gt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: null "/>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="instance" value="'StatusLineWithIcon'; upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored 	? null
																												: { _text: 'IDS_RESEARCH_PREVIOUS_SHIPS', _positive: false} "/>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="instance" value="'PriceDeficit'; isOwned 	? null
													: !(upgradableShipInfo.dependencyResearched) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0 ? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _deficit: upgradableShipInfo.expDeficit,  _tooltipText: 'IDS_TOOLTIP_NO_XP'}
													: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: upgradableShipInfo.creditsDeficit, _tooltipText: 'IDS_TOOLTIP_NO_CREDITS'}
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice)  &lt; 0 ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: -(accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice), _tooltipText: 'IDS_TOOLTIP_NO_GOLD' }
													: null"/>
						</block>
						<block>
							<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_EXPERIENCE_USAGE'}; 0"/>
							<bind name="instance" value="'CurrentXPLarge'; isOwned ? { _exp: playerShipInfo.exp, _light: true, _label: tr('IDS_SHIP_EXPERIENCE') + tr('IDS_COLON') } : null "/>
						</block>
					</block>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="feature" value="13; ''"/>
					<bind name="instance" value="'CrewAndArmourBlock'; isOwned &amp;&amp; (feature_13 != 'locked')	? {	playerShipInfo: playerShipInfo,
																								crew: crew,
																								shipId: shipId} : null"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<height value="30px"/>
					</style>
					<bind name="instance" value="'ArmourDisplaySwitcher'; {}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'ArmourOnlyBlock'; !isOwned || feature_13 == 'locked' ? {shipId: shipId} : null"/>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="0"/>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="primaryEntityDH" value="'compareItemEntity'; CC.compareItem; 'testShipParams'"/>
				<bind name="watchDH" value="'testShipParams'; ['compareItemEntity.compareItem.evUpdate']; compareItemEntity.dataComponent.data"/>
				<bind name="watch" value="'excursionOff'; (testShipParams != null || (isOwned &amp;&amp; playerShipInfo.isLocked) || !(shipInfoSlim.isDownloaded))"/>
				<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams; 450.0; shipId; 'fullShipParams'; playerShipInfo != null ? playerShipInfo.params : shipInfo.params; testShipParams; 1; 0; null; 0; 1; 1; excursionOff"/>
				<style>
					<height value="100%f"/>
					<width value="100%"/>
					<overflow value="scroll"/>
				</style>
				<styleClass value="$DefaultScrollBar"/>
				<bind name="instance" value="'ShipParamsListView'; (shipInfo.isEventLike) &amp;&amp; !isOwned ? null : { viewParams: viewParams }"/>
			</block>
			<block>
				<bind name="visible" value="(shipInfo.isEventLike) &amp;&amp; !isOwned"/>
				<style>
					<width value="100%"/>
				</style>
				<block className="ShowLabelComingSoon">
					<block>
						<style>
							<width value="100%"/>
							<height value="80px"/>
						</style>
						<block className="icon_issued" type="native">
							<style>
								<marginLeft value="150px"/>
								<marginTop value="40px"/>
							</style>
							<bind name="rotation" value="-3"/>
							<innerBind elementName="item.item" name="text" value="toUpperCase(tr('IDS_UNAVAILABLE_TO_DISPLAY_SOON'))"/>
							<bind name="gotoAndPlay!" value="'issued'"/>
						</block>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="ShowLabelComingSoon">
		<block>
			<style>
				<width value="100%"/>
				<height value="80px"/>
			</style>
			<block className="icon_issued" type="native">
				<style>
					<marginLeft value="150px"/>
					<marginTop value="40px"/>
				</style>
				<bind name="rotation" value="-3"/>
				<innerBind elementName="item.item" name="text" value="toUpperCase(tr('IDS_UNAVAILABLE_TO_DISPLAY_SOON'))"/>
				<bind name="gotoAndPlay!" value="'issued'"/>
			</block>
		</block>
	</block>
	<block className="ShipResearchBlock">
		<styleClass value="$InfoBlockIndent"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'PriceTagWithLabel'; isOwned ? null
														: (!(upgradableShipInfo.isExplored) &amp;&amp; !(upgradableShipInfo.dependencyResearched)) || (!(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0)? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _label: 'IDS_RESEARCH_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice &lt; 0) ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true }
														: null"/>
		</block>
		<block>
			<style>
				<width value="50%"/>
				<marginLeft value="-50%"/>
				<left value="50%"/>
			</style>
			<bind name="instance" value="'DefaultButtonCostMedium'; isOwned ? null
													: !(upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0) &amp;&amp; ((shipInfo.group == 'upgradeable') || (shipInfo.group == 'upgradeableExclusive')) ? { _label: toUpperCase(tr('IDS_DO_RESEARCH')), priceInfo: (upgradableShipInfo.totalCostXP == shipExplorePrice.prices[0].finalPrice ? shipExplorePrice.prices[0] : { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }), _action: 'researchShip', _actionParams: { shipId: shipInfo.id}, _enabled: ( upgradableShipInfo.dependencyResearched &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0)), _showDiscountTag:true, _name: 'ButtonShipResearch' }
													: (upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.creditsDeficit &lt;= 0) &amp;&amp; !(shipInfo.isPremium) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: (upgradableShipInfo.creditsDeficit &lt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium  &amp;&amp; (accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice &gt;= 0) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: ((accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice) &gt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: null "/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'StatusLineWithIcon'; upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored 	? null
																												: { _text: 'IDS_RESEARCH_PREVIOUS_SHIPS', _positive: false} "/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'PriceDeficit'; isOwned 	? null
													: !(upgradableShipInfo.dependencyResearched) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0 ? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _deficit: upgradableShipInfo.expDeficit,  _tooltipText: 'IDS_TOOLTIP_NO_XP'}
													: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: upgradableShipInfo.creditsDeficit, _tooltipText: 'IDS_TOOLTIP_NO_CREDITS'}
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice)  &lt; 0 ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: -(accountResourceInfo.gold - shipBuyPrice.prices[0].finalPrice), _tooltipText: 'IDS_TOOLTIP_NO_GOLD' }
													: null"/>
		</block>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_EXPERIENCE_USAGE'}; 0"/>
			<bind name="instance" value="'CurrentXPLarge'; isOwned ? { _exp: playerShipInfo.exp, _light: true, _label: tr('IDS_SHIP_EXPERIENCE') + tr('IDS_COLON') } : null "/>
		</block>
	</block>
	<css name="$CrewSkillSmallSize">
		<width value="26px"/>
		<height value="26px"/>
	</css>
	<css name="$CrewSkillMediumSize">
		<width value="40px"/>
		<height value="40px"/>
	</css>
	<css name="$TextSkillTierLabel">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="19"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextSkillTierLabelBlack">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="19"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<block className="SkillHeader">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<width value="60px"/>
				<height value="60px"/>
			</style>
			<bind name="watch" value="'perkIconSymbol'; (skill.name != null)	? ('symbol:icon_perk_' + skill.name + (_penalty &amp;&amp; skill.learned ? '_penalty' : ''))
															: 'symbol:icon_perk_VisibilityModifier_penalty'"/>
			<bind name="style" value="'backgroundImage'; perkIconSymbol"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="6px"/>
			</style>
			<block type="text">
				<style>
					<maxWidth value="204"/>
				</style>
				<styleClass value="$TextHeaderBold"/>
				<bind name="class" value="_penalty &amp;&amp; skill.learned ? '$FontColorUnready' : '$None'"/>
				<bind name="text" value="'IDS_SKILL_' + toUpperCase(skill.name)"/>
			</block>
			<block type="text">
				<style>
					<maxWidth value="204"/>
				</style>
				<styleClass value="$TextSecondary"/>
				<bind name="text" value="'IDS_SKILL_DESC_' + toUpperCase(skill.name)"/>
			</block>
		</block>
	</block>
	<block className="CrewSkillItemSmall">
		<bind name="primaryEntityDH" value="'skillEntity'; CC.crewSkill; _skillIDs[$index]; 'evUpdate'"/>
		<bind name="watchDH" value="'skill'; ['skillEntity.crewSkill.evUpdate']; skillEntity.crewSkill"/>
		<style>
			<marginLeft value="5px"/>
			<width value="35px"/>
			<height value="35px"/>
		</style>
		<bind name="watch" value="'perkIconSymbol'; (skill.name != null) ? ('symbol:icon_perk_small_' + skill.name + (_penalty ? '_penalty' : ''))
														: 'symbol:icon_perk_small_VisibilityModifier_penalty'"/>
		<bind name="style" value="'backgroundImage'; perkIconSymbol"/>
	</block>
	<block className="CrewSkillItem">
		<bind name="primaryEntityDH" value="'skillEntity'; CC.crewSkill; $value; 'evUpdate'"/>
		<bind name="watchDH" value="'skill'; ['skillEntity.crewSkill.evUpdate']; skillEntity.crewSkill"/>
		<style>
			<marginRight value="6px"/>
			<marginBottom value="4px"/>
			<width value="60px"/>
			<height value="60px"/>
		</style>
		<bind name="watch" value="'perkIconSymbol'; (skill.name != null)	? ('symbol:icon_perk_' + skill.name + (_penalty ? '_penalty' : ''))
														: 'symbol:icon_perk_VisibilityModifier_penalty'"/>
		<bind name="style" value="'backgroundImage'; perkIconSymbol"/>
	</block>
	<block className="CrewFileSkillItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="primaryEntityDH" value="'crewEntity'; CC.crew; _crewId"/>
		<bind name="watchDH" value="'crew'; ['crewEntity.crew.evBasketChanged', 'crewEntity.crew.evLevelUp', 'crewEntity.crew.evExpChanged', 'crewEntity.crew.evShipChanged', 'crewEntity.crew.evSkillsChanged', 'crewEntity.crew.evResetCostChanged', 'crewEntity.crew.evAdaptationUpdated']; crewEntity.crew"/>
		<bind name="watchDH" value="'crew'+'Retraining'; ['crewEntity.crew.evRetrainingUpdated']; crewEntity.retraining"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; crew.shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'skillEntity'; CC.crewSkill; $value; 'evUpdate'"/>
		<bind name="watchDH" value="'skill'; ['skillEntity.crewSkill.evUpdate']; skillEntity.crewSkill"/>
		<style>
			<position value="absolute"/>
			<width value="108px"/>
			<height value="96px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<bind name="left" value="((skill.column) * 108)"/>
		<bind name="top" value="((skill.tier - 1) *  88)"/>
		<block>
			<bind name="name" value="'IconSkill'"/>
			<style>
				<width value="60px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block>
				<bind name="name" value="'IconSkill_' + skill.name"/>
				<bind name="tooltip" value="'SkillTooltip'; {_id: $value, _crewId: _crewId}"/>
				<bind name="transition" value="(skill.learned || (skill.canBeLearned &amp;&amp; rollOver)) &amp;&amp; !(playerShipInfo.isLocked); 0.15; {alpha: 0.6}; {alpha: 1.0}; {alpha: 0.6}; 2"/>
				<style>
					<width value="60px"/>
					<height value="60px"/>
				</style>
				<bind name="watch" value="'perkIconSymbol'; (skill.name != null) ? ('symbol:icon_perk_' + skill.name + ((crew.skillsEffectiveness &lt; 1) &amp;&amp; skill.learned 	? '_penalty'
																																						:	skill.hasLearnedSkillOnPreviousTier	? ''
																																																: '_inactive'))
																: 'symbol:icon_perk_VisibilityModifier_penalty'"/>
				<bind name="style" value="'backgroundImage'; perkIconSymbol"/>
				<bind name="request" value="'click'; crew.freeSkillPoints &gt;= skill.tier &amp;&amp; skill.hasLearnedSkillOnPreviousTier &amp;&amp; !(playerShipInfo.isLocked) &amp;&amp; !(skill.learned) ? 'learnSkill' : ''; {crewID: _crewId, skillType:skill.skillType, skillID:skill.id}"/>
				<bind name="soundOn" value="'click'; 'press'; 'crew_skill_item'"/>
			</block>
			<block className="icon_check" type="native">
				<bind name="visible" value="skill.learned"/>
				<style>
					<position value="absolute"/>
					<top value="-3px"/>
					<right value="-3px"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="!(skill.learned)"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="-5px"/>
				</style>
				<block>
					<bind name="instance" value="'InvertableTextLine'; { _text: skill.tier, _invert: !(skill.canBeLearned), _normalClass: '$TextSkillTierLabel', _invertedClass: '$TextSkillTierLabelBlack' }"/>
				</block>
			</block>
		</block>
	</block>
	<block className="CrewSkillPointBadge">
		<style>
			<width value="32px"/>
			<height value="32px"/>
		</style>
		<block className="icon_sticker_new_small" type="native">
			<style>
				<position value="absolute"/>
			</style>
			<bind name="gotoAndStop!" value="_state == 'inactive' ? 'inactive' : 'active'"/>
		</block>
		<block type="text">
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextDefaultBold"/>
			<style>
				<marginTop value="4px"/>
			</style>
			<bind name="text" value="'+' + _skillPoints"/>
		</block>
	</block>
	<block className="SignalAndCamouflageHeader">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate'"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipEntity.ownShip.evUpdate', 'shipEntity.ownShip.evCrewChanged']; shipEntity.ownShip"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="31px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
				<marginTop value="-5px"/>
			</style>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap_h_no_right" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="tooltip" value="'ShipExtendedTooltip'; { shipId: shipId }; 0"/>
			<style>
				<marginTop value="4px"/>
				<marginLeft value="3px"/>
			</style>
			<block className="icon_wreath" type="native">
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
					<top value="-6px"/>
				</style>
				<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
				<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
								shipInfo.isPremium 	? 'premium'
													: 'elite'"/>
			</block>
			<block className="icon_ship" type="native">
				<styleClass value="$MouseDisable"/>
				<style>
					<marginLeft value="5px"/>
					<marginTop value="2px"/>
				</style>
				<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial 	? shipInfo.subtype + '_P'
																			: shipInfo.subtype"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="3px"/>
				</style>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<bind name="class" value="'$LetterSpacingSmall'"/>
					<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial	? '$FontShipnameGolden'
																		: '$FontShipnameWhite'"/>
					<bind name="text" value="shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS + '_FULL'))"/>
				</block>
			</block>
			<block className="icon_check" type="native">
				<style>
					<marginLeft value="-2px"/>
					<marginTop value="-4px"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="!(shipInfoSlim.isDownloaded)"/>
			<style>
				<marginTop value="-4px"/>
			</style>
			<bind name="instance" value="'IconSlimClient'; !(shipInfoSlim.isDownloaded) ? { _isEventLike: shipInfo.isEventLike } : null"/>
		</block>
		<block>
			<bind name="visible" value="inset != 2"/>
			<style>
				<right value="6px"/>
				<position value="absolute"/>
				<flow value="horizontal"/>
				<marginTop value="-2px"/>
			</style>
			<block>
				<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_CREDITS_C'}"/>
				<bind name="instance" value="'PriceTag'; { priceInfo: {finalPrice: accountResourceInfo.credits, currency: 'credits'}, _medium:true}"/>
			</block>
			<block>
				<style>
					<marginLeft value="12px"/>
				</style>
				<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_TOOLTIP_GOLD_BALANCE'}"/>
				<bind name="instance" value="'PriceTag'; { priceInfo: {finalPrice: accountResourceInfo.gold, currency: 'gold'}, _medium:true}"/>
			</block>
		</block>
	</block>
	<block className="Signals">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipEntity.ownShip.evUpdate', 'shipEntity.ownShip.evCrewChanged']; shipEntity.ownShip"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate'"/>
		<style>
			<width value="100%"/>
			<height value="100%f"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<overflow value="scroll"/>
				<height value="100%f"/>
				<marginTop value="-20px"/>
			</style>
			<styleClass value="$DefaultScrollBar"/>
			<block>
				<style>
					<flow value="htile"/>
					<align value="center"/>
					<width value="100%"/>
					<marginBottom value="20px"/>
					<marginTop value="20px"/>
				</style>
				<bind name="repeat" value="playerShipInfo.signalsAll; 'ExteriorItem'; {shipId: shipId}"/>
			</block>
		</block>
		<bind name="instance" value="'Autoreplenishment'; { 	shipId: shipId,
											exteriorPage: exteriorPage,
											_itemsInstalled: playerShipInfo.sigInstalled,
											_maxPriceCR: playerShipInfo.autorechargeExteriorSummPrice[ExteriorTypes.FLAGS][0], 
											_maxPriceGold : playerShipInfo.autorechargeExteriorSummPrice[ExteriorTypes.FLAGS][1], 
											_nextPriceCR: playerShipInfo.autorechargeExteriorEstimatePrice[ExteriorTypes.FLAGS][0], 
											_nextPriceGold: playerShipInfo.autorechargeExteriorEstimatePrice[ExteriorTypes.FLAGS][1],
											_canBuySomeExterior: playerShipInfo.canBuySomeSignal,
											_tooltipHeader: 'IDS_AUTOREPLENISHMENT_SIGNALS',
											_camouflageOn: playerShipInfo.autorechargeCamouflage,
											_camouflageOff: playerShipInfo.autorechargeCamouflage,
											_signalsOn: true,
											_signalsOff: false,
											_isSignal: true,
											_autorechargeOn: playerShipInfo.autorechargeFlags,
											_goldDeficit: -((accountResourceInfo.gold) - (playerShipInfo.autorechargeExteriorEstimatePrice[ExteriorTypes.FLAGS][1])),
											_creditsDeficit: -((accountResourceInfo.credits) - (playerShipInfo.autorechargeExteriorEstimatePrice[ExteriorTypes.FLAGS][0])),
											_multiParagraphArrayHint: [ {_paragraphText: 'IDS_SIGNALS_REPLENISH_AUTOMATICALLY_HINT_1'}, {_paragraphText: 'IDS_SIGNALS_REPLENISH_AUTOMATICALLY_HINT_2'}, {_paragraphText: 'IDS_SIGNALS_REPLENISH_AUTOMATICALLY_HINT_3'}],
											_multiParagraphArrayPriceHint: [{_paragraphText: 'IDS_SIGNALS_MAX_REPLENISHMENT_HINT_1'}, {_paragraphText: 'IDS_SIGNALS_REPLENISH_AUTOMATICALLY_HINT_4'}]
											} "/>
	</block>
	<block className="Camouflage">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipEntity.ownShip.evUpdate', 'shipEntity.ownShip.evCrewChanged']; shipEntity.ownShip"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate'"/>
		<style>
			<width value="100%"/>
			<height value="100%f"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<overflow value="scroll"/>
				<height value="100%f"/>
				<marginTop value="-20px"/>
			</style>
			<styleClass value="$DefaultScrollBar"/>
			<block>
				<style>
					<flow value="htile"/>
					<align value="center"/>
					<width value="100%"/>
					<marginBottom value="20px"/>
					<marginTop value="20px"/>
				</style>
				<bind name="repeat" value="playerShipInfo.camouflageAll; 'ExteriorItem'; {shipId: shipId}"/>
			</block>
		</block>
		<bind name="instance" value="'Autoreplenishment'; { 	shipId: shipId,
											exteriorPage: exteriorPage,
											_itemsInstalled: playerShipInfo.camInstalled,
											_maxPriceCR: playerShipInfo.autorechargeExteriorSummPrice[ExteriorTypes.CAMOUFLAGE][0], 
											_maxPriceGold : playerShipInfo.autorechargeExteriorSummPrice[ExteriorTypes.CAMOUFLAGE][1], 
											_nextPriceCR: playerShipInfo.autorechargeExteriorEstimatePrice[ExteriorTypes.CAMOUFLAGE][0], 
											_nextPriceGold: playerShipInfo.autorechargeExteriorEstimatePrice[ExteriorTypes.CAMOUFLAGE][1],
											_canBuySomeExterior: playerShipInfo.canBuySomeCamouflage,
											_tooltipHeader: 'IDS_AUTOREPLENISHMENT_CAMO',
											_signalsOn: playerShipInfo.autorechargeFlags,
											_signalsOff: playerShipInfo.autorechargeFlags,
											_camouflageOn: true,
											_camouflageOff: false,
											_isCamouflage: true,
											_autorechargeOn: playerShipInfo.autorechargeCamouflage,
											_goldDeficit: -((accountResourceInfo.gold) - (playerShipInfo.autorechargeExteriorEstimatePrice[ExteriorTypes.CAMOUFLAGE][1])),
											_creditsDeficit: -((accountResourceInfo.credits) - (playerShipInfo.autorechargeExteriorEstimatePrice[ExteriorTypes.CAMOUFLAGE][0])),
											_multiParagraphArrayHint: [ {_paragraphText: 'IDS_CAMO_REPLENISH_AUTOMATICALLY_HINT_1'}, {_paragraphText: 'IDS_CAMO_REPLENISH_AUTOMATICALLY_HINT_2'}, {_paragraphText: 'IDS_CAMO_REPLENISH_AUTOMATICALLY_HINT_3'}],
											_multiParagraphArrayPriceHint: [{_paragraphText: 'IDS_CAMO_MAX_REPLENISHMENT_HINT_1'}, {_paragraphText: 'IDS_CAMO_REPLENISH_AUTOMATICALLY_HINT_4'}]
											} "/>
	</block>
	<block className="Flag">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'ensigns'; 'ensigns'"/>
		<style>
			<width value="100%"/>
			<height value="100%f"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<overflow value="scroll"/>
				<height value="100%f"/>
				<marginTop value="-20px"/>
			</style>
			<styleClass value="$DefaultScrollBar"/>
			<block>
				<style>
					<flow value="htile"/>
					<align value="center"/>
					<width value="100%"/>
					<marginBottom value="20px"/>
					<marginTop value="20px"/>
				</style>
				<bind name="repeat" value="ensigns; 'FlagItem'; {shipId: shipId}"/>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="visible" value="!(ensigns != null &amp;&amp; ensigns.length &gt; 0)"/>
				<block type="text">
					<styleClass value="$TextHeaderBold"/>
					<styleClass value="$MiddleAligned"/>
					<bind name="class" value="'$FontColorUnready'"/>
					<bind name="text" value="toUpperCase(tr('IDS_NO_ENSIGNS_AVAILABLE'))"/>
				</block>
				<block>
					<style>
						<marginTop value="3px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<bind name="instance" value="'InstructionBigTech'; { _instructionText: 'IDS_PARTICIPATE_IN_RANKED_BATTLES', _type: 'info', _maxWidth: '480' }"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ExteriorItem">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipEntity.ownShip.evUpdate', 'shipEntity.ownShip.evCrewChanged']; shipEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'exteriorEntity'; CC.exteriorConfig; $value"/>
		<bind name="watchDH" value="'exteriorConfig'; []; exteriorEntity.exteriorConfig"/>
		<bind name="watchDH" value="'count'; ['exteriorEntity.countComponent.evUpdate']; exteriorEntity.countComponent.value"/>
		<bind name="watchDH" value="'exteriors'; ['shipEntity.ownShip.evUpdate']; playerShipInfo.exteriors"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate'"/>
		<bind name="name" value="'ExteriorItemDock_' + exteriorConfig.name"/>
		<bind name="catch" value="'selectedPriceChanged'"/>
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerPriceListSelector;
						$value;
						exteriors[$value].goldAutorecharge ? 'gold' : 'credits';
						exteriorConfig.canBuy;
						'selectedPriceIndex';
						(!(exteriors[$value])) ? null : 'installExterior';
						{
							exteriorName: exteriorConfig.name,
							shipName: shipInfo.fullName,
							goldAutorecharge: prices[currentIndex].currency == 'gold'
						}"/>
		<block>
			<bind name="tooltip" value="'ExteriorInfotip'; {	_exteriorId: $value}; TooltipBehaviour.infotip"/>
			<bind name="tooltip" value="'ExteriorTooltip'; {_exteriorId: $value}"/>
			<bind name="style" value="'width'; (exteriorConfig.type == ExteriorTypes.FLAGS) ? '80px' : '95px'"/>
			<style>
				<height value="80px"/>
			</style>
			<bind name="soundOn" value="'click'; 'press'; 'exterior_item'"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ExteriorItem_' +  exteriorConfig.name"/>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5_feather" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<style>
							<width value="100%"/>
							<height value="100%"/>
						</style>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="style" value="'alpha'; (!!(exteriors[$value])) ? 1 : 0.6"/>
				<bind name="instance" value="'ExteriorIconWithAmount'; { _exteriorId: $value,
														_amount: ((!!(exteriors[$value]) ? 1 : 0) + count),
														_isDesaturated: (count == 0 &amp;&amp; !(exteriors[$value])) &amp;&amp; !(playerShipInfo.permoflagePurchased[$value])
														}"/>
			</block>
			<block className="icon_check" type="native">
				<bind name="name" value="!!(exteriors[$value]) ? ('IconCheck_' + exteriorConfig.name) : (' ')"/>
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
					<right value="8px"/>
					<top value="8px"/>
				</style>
				<bind name="visible" value="!!(exteriors[$value])"/>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block>
				<style>
					<marginTop value="-12px"/>
				</style>
				<bind name="instance" value="'PriceTag'; !!(playerShipInfo.permoflagePurchased[$value]) ? null : !(exteriors[$value]) &amp;&amp; count &lt;= 0 &amp;&amp; exteriorConfig.canBuy ? {priceInfo: prices[currentIndex], _deficit: (prices[currentIndex].finalPrice - accountResourceInfo[prices[currentIndex].currency]), _showDiscountTag:true}
																										: null"/>
			</block>
		</block>
	</block>
	<block className="FlagItem">
		<bind name="primaryEntityDH" value="'exteriorEntity'; CC.exteriorConfig; id"/>
		<bind name="watchDH" value="'exteriorConfig'; []; exteriorEntity.exteriorConfig"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipEntity.ownShip.evUpdate', 'shipEntity.ownShip.evCrewChanged']; shipEntity.ownShip"/>
		<bind name="tooltip" value="'FlagInfotip'; {_installed: installed, id: id, name: name, shipId: shipId, canUse: canUse, isRankSeasonTemp: isRankSeasonTemp, isLeague: isLeague, _selectedExteriorParams: exteriorConfig.params,
									_enableExterior: (!(playerShipInfo.isLocked) &amp;&amp; !(playerShipInfo.isInFormation)) }; TooltipBehaviour.infotip"/>
		<bind name="tooltip" value="'FlagTooltip'; {_installed: installed, id: id, name: name, shipId: shipId, canUse: canUse, isRankSeasonTemp: isRankSeasonTemp, isLeague: isLeague, _selectedExteriorParams: exteriorConfig.params}"/>
		<bind name="soundOn" value="'click'; 'press'; 'exterior_item'"/>
		<block>
			<style>
				<height value="60px"/>
				<width value="100px"/>
			</style>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5_feather" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<style>
							<width value="100%"/>
							<height value="100%"/>
						</style>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
			</block>
			<block>
				<style>
					<width value="75px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<bind name="style" value="'alpha'; installed ? 1: 0.6"/>
				<bind name="style" value="'backgroundImage'; !canUse ?  ('url:' + exteriorConfig.desaturatedIconPath) : ('url:' + exteriorConfig.iconPath)"/>
			</block>
			<block className="icon_check" type="native">
				<bind name="visible" value="installed"/>
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
					<right value="18px"/>
					<top value="8px"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ExteriorInsetElement">
		<bind name="collectionDH" value="CC.ownShip; 'playerShips'"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="feature" value="'15'; ''"/>
		<bind name="feature" value="16; ''"/>
		<bind name="var" value="{defaultExteriorInset: feature_15 == 'locked' || (playerShipInfo.canEquipCamouflage == false) ? LobbyConstants.SHIP_EXTERIOR_SIGNALS : LobbyConstants.SHIP_EXTERIOR_CAMOUFLAGE }"/>
		<bind name="watch" value="'defaultExteriorInset'; (playerShipInfo.canEquipCamouflage) ? defaultExteriorInset : LobbyConstants.SHIP_EXTERIOR_SIGNALS"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'inset'; ['dockEntity.insetComponent.evUpdate']; dockEntity.insetComponent.inset"/>
		<bind name="primaryEntityDH" value="'pageEntity'; CC.insetPage; LobbyConstants.SHIP_EXTERIOR"/>
		<bind name="watchDH" value="'page'; ['pageEntity.insetPage.evUpdate']; pageEntity.insetPage.page"/>
		<bind name="watch" value="'exteriorPage'; 	(page == null)
									|| (page == LobbyConstants.SHIP_EXTERIOR_CAMOUFLAGE &amp;&amp; (feature_15 == 'locked' || playerShipInfo.canEquipCamouflage == false))
									|| (page == LobbyConstants.SHIP_EXTERIOR_ENSIGN &amp;&amp; feature_16 == 'locked')
									? defaultExteriorInset
									: page"/>
		<bind name="catch" value="'exteriorInsetChangeDown'"/>
		<styleClass value="$Fullsize"/>
		<bind name="child" value="playerShips.length &gt; 0 ? crewInset : 0; {shipId: shipId, exteriorPage: ((exteriorPage == LobbyConstants.SHIP_EXTERIOR_CAMOUFLAGE) &amp;&amp; (playerShipInfo.canEquipCamouflage == false)) ? defaultExteriorInset : exteriorPage }; 'ExteriorInset';'CrewsSelect'"/>
	</block>
	<block className="ExteriorInset">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipEntity.ownShip.evUpdate', 'shipEntity.ownShip.evCrewChanged']; shipEntity.ownShip"/>
		<bind name="collectionDH" value="CC.ownShip; 'playerShips'"/>
		<bind name="primaryEntityDH" value="'crewEntity'; CC.crew; playerShipInfo.crewId"/>
		<bind name="watchDH" value="'crew'; ['crewEntity.crew.evBasketChanged', 'crewEntity.crew.evLevelUp', 'crewEntity.crew.evExpChanged', 'crewEntity.crew.evShipChanged', 'crewEntity.crew.evSkillsChanged', 'crewEntity.crew.evResetCostChanged', 'crewEntity.crew.evAdaptationUpdated']; crewEntity.crew"/>
		<bind name="watchDH" value="'crew'+'Retraining'; ['crewEntity.crew.evRetrainingUpdated']; crewEntity.retraining"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate,freeExpUpdate,slotsNumUpdate'"/>
		<styleClass value="$Fullsize"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'carouselRows'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="watch" value="'isSmallCarouselView'; (userPrefs.isSmallCarouselView == null) ? false : userPrefs.isSmallCarouselView"/>
		<bind name="style" value="'marginBottom'; isSmallCarouselView	?	(carouselRows == 1) ? '283px' :
													(carouselRows == 2) ? '346px'
																		: '220px'
												: '220px'"/>
		<block>
			<bind name="visible" value="shipId &gt; 0"/>
			<bind name="appear" value="'addedToStage'; 0.3; 0.2; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<style>
				<marginLeft value="0px"/>
				<marginTop value="44px"/>
				<width value="500px"/>
				<height value="100%"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'SignalAndCamouflageHeader'; {exteriorPage: exteriorPage, shipId: shipId}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<height value="31px"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$Fullsize"/>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="feature_15 != 'locked'"/>
					<styleClass value="$MiddleAligned"/>
					<block className="tab_bar_bg" type="native">
						<style>
							<height value="25"/>
							<marginTop value="3px"/>
						</style>
						<block>
							<style>
								<marginLeft value="2px"/>
								<marginRight value="2px"/>
							</style>
							<block>
								<bind name="feature" value="15; 'rollOver'"/>
								<bind name="visible" value="playerShipInfo.canEquipCamouflage"/>
								<bind name="action" value="'buttonClick'; 'setCameraDefaultPosition'; {alias: 'camou'}"/>
								<bind name="instance" value="'MainTabSmallInstance'; { 	_label: 'IDS_CAMOUFLAGE',
																		_tooltipIDS: 'IDS_TOOLTIP_CAMOUFLAGE',
																		_selected: exteriorPage == LobbyConstants.SHIP_EXTERIOR_CAMOUFLAGE,
																		_width: 164,
																		_action: 'changeInset',
																		_actionParams: { inset: LobbyConstants.SHIP_EXTERIOR, page: LobbyConstants.SHIP_EXTERIOR_CAMOUFLAGE },
																		_name: 'camouflage' }"/>
								<block>
									<style>
										<position value="absolute"/>
									</style>
									<bind name="visible" value="feature_15 == 'new'"/>
									<block className="icon_sticker_new" type="native">
										<style>
											<hitTest value="false"/>
										</style>
									</block>
								</block>
							</block>
							<block>
								<bind name="visible" value="playerShipInfo.canEquipCamouflage"/>
								<style>
									<marginTop value="2px"/>
								</style>
								<block className="divider_v" type="native">
									<style>
										<height value="23px"/>
									</style>
								</block>
							</block>
							<block>
								<bind name="action" value="'buttonClick'; 'setCameraDefaultPosition'; {alias: 'flag'}"/>
								<bind name="instance" value="'MainTabSmallInstance'; { 	_label: tr('IDS_SIGNALS') + ' ' + playerShipInfo.sigInstalled + '/' + playerShipInfo.sigLimit,
																		_tooltipIDS: 'IDS_TOOLTIP_SIGNALS',
																		_selected: exteriorPage == LobbyConstants.SHIP_EXTERIOR_SIGNALS,
																		_width: 164,
																		_action: 'changeInset',
																		_actionParams: { inset: LobbyConstants.SHIP_EXTERIOR, page: LobbyConstants.SHIP_EXTERIOR_SIGNALS },
																		_name: 'signal' }"/>
							</block>
							<block className="divider_v" type="native">
								<style>
									<height value="23px"/>
									<marginTop value="2px"/>
								</style>
							</block>
							<block>
								<bind name="feature" value="16; 'rollOver'"/>
								<bind name="visible" value="feature_16 != 'locked'"/>
								<bind name="action" value="'buttonClick'; 'setCameraDefaultPosition'; {alias: 'ensign'}"/>
								<bind name="instance" value="'MainTabSmallInstance'; { 	_label: 'IDS_FLAG',
																		_tooltipIDS: 'IDS_TOOLTIP_ENSIGN',
																		_selected: exteriorPage == LobbyConstants.SHIP_EXTERIOR_ENSIGN,
																		_width: 164,
																		_action: 'changeInset',
																		_actionParams: { inset: LobbyConstants.SHIP_EXTERIOR, page: LobbyConstants.SHIP_EXTERIOR_ENSIGN },
																		_name: 'ensign' }"/>
								<block>
									<style>
										<position value="absolute"/>
									</style>
									<bind name="visible" value="feature_16 == 'new'"/>
									<block className="icon_sticker_new" type="native">
										<style>
											<hitTest value="false"/>
										</style>
									</block>
								</block>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
				</block>
				<block>
					<bind name="visible" value="feature_15 == 'locked'"/>
					<styleClass value="$MiddleAligned"/>
					<block type="text">
						<bind name="tooltip" value="'SimpleTooltip';{tooltipText: 'IDS_TOOLTIP_SIGNALS'}"/>
						<style>
							<marginTop value="4px"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="toUpperCase(tr('IDS_SIGNALS')) + ' ' + playerShipInfo.sigInstalled + '/' + playerShipInfo.sigLimit"/>
					</block>
				</block>
			</block>
			<block>
				<style>
					<marginTop value="20px"/>
					<width value="100%"/>
					<height value="100%f"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
						<height value="100%f"/>
					</style>
					<bind name="child" value="exteriorPage; {shipId: shipId, exteriorPage: exteriorPage}; 'Camouflage'; 'Signals'; 'Flag'"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<position value="absolute"/>
				<width value="900px"/>
				<bottom value="0px"/>
			</style>
			<block>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'ShipStatusDockHeader'; (playerShips.length == 0)	? { _texts: [ {_paragraphText: 'IDS_NO_SHIPS'}] } :
													!(shipInfoSlim.isDownloaded)	? { _texts: [ {_paragraphText: 'IDS_NOT_AVAILABLE_MESSAGE'}] }
																				: null"/>
			</block>
		</block>
	</block>
	<block className="ExteriorInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipEntity.ownShip.evUpdate', 'shipEntity.ownShip.evCrewChanged']; shipEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'exteriorEntity'; CC.exteriorConfig; _exteriorId"/>
		<bind name="watchDH" value="'exteriorConfig'; []; exteriorEntity.exteriorConfig"/>
		<bind name="watchDH" value="'count'; ['exteriorEntity.countComponent.evUpdate']; exteriorEntity.countComponent.value"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerPriceListSelector;
					_exteriorId;
					playerShipInfo.exteriors[_exteriorId].goldAutorecharge ? 'gold' : 'credits';
					exteriorConfig.canBuy;
					'selectedPriceIndex';
					(!(playerShipInfo.exteriors[_exteriorId])) ? null : 'installExterior';
					{
						exteriorName: exteriorConfig.name,
						shipName: shipInfo.fullName,
						goldAutorecharge: prices[currentIndex].currency == 'gold'
					}"/>
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams; 0; null; 'tooltipShipParams'; playerShipInfo.params; shipWithExterior.testShipParams; 1; 0; null; 1; 1; 0"/>
		<bind name="dispatch" value="'Tooltip.selfOpened'; 'evTooltipOpened'; null; false; 0.05"/>
		<bind name="action" value="'Tooltip.selfOpened'; 'getShipWithUpgrade'; {id: _exteriorId, type : 'exterior'}"/>
		<bind name="action" value="'evTooltipOpened'; 'setCompareInfo'; {id: _exteriorId, type : 'exterior'}"/>
		<bind name="action" value="'Tooltip.selfClosed'; 'setCompareInfo'; { clear: true }"/>
		<bind name="primaryEntityDH" value="'compareItemEntity'; CC.compareItem; 'exterior_' + _exteriorId"/>
		<bind name="watchDH" value="'exteriorCompare'; ['compareItemEntity.compareItem.evUpdate']; compareItemEntity.dataComponent.data"/>
		<bind name="watch" value="'_isPermoflage'; exteriorConfig.type == ExteriorTypes.CAMOUFLAGE &amp;&amp; exteriorConfig.isPermanent"/>
		<bind name="watch" value="'_canBuy'; exteriorConfig.canBuy"/>
		<bind name="watch" value="'_isSignal'; exteriorConfig.type == ExteriorTypes.FLAGS"/>
		<bind name="watch" value="'_isCamouflage'; exteriorConfig.type == ExteriorTypes.CAMOUFLAGE"/>
		<bind name="watch" value="'_installedItemCount'; !!(playerShipInfo.exteriors[_exteriorId]) ? 1 : 0"/>
		<bind name="watch" value="'_exteriorName'; exteriorConfig.name"/>
		<bind name="watch" value="'_storageItemCount'; count"/>
		<bind name="watch" value="'_enableExterior'; (!(playerShipInfo.isLocked) &amp;&amp; !(playerShipInfo.isInFormation))"/>
		<bind name="watch" value="'_isPermoflagePurchased'; !!(playerShipInfo.permoflagePurchased[_exteriorId])"/>
		<bind name="watchDH" value="'_exteriors'; ['shipEntity.ownShip.evUpdate']; playerShipInfo.exteriors"/>
		<bind name="watchDH" value="'currentCamouflageEntity'; ['shipEntity.ownShip.evUpdate']; playerShipInfo.currentCamouflage.ref"/>
		<bind name="watch" value="'_selectedPriceIndex'; currentIndex)"/>
		<bind name="watch" value="'_canPutToStorage'; exteriorConfig.canPutToStorage"/>
		<styleClass value="$HorizontalInfotipBehaviour"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="action" value="'Tooltip.selfClosed'; 'disableExteriorPreview'; {exteriorName:_exteriorId, shipName: shipInfo.id}"/>
		<bind name="action" value="'Tooltip.selfOpened'; 'previewExterior'; {exteriorName:_exteriorId, shipId: shipInfo.id}"/>
		<block className="dock_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-10px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-16px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="300px"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'ExteriorTooltipHeader'; {	_exteriorId: _exteriorId, _shipId: shipId}"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="!!(_exteriors[_exteriorId])"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<block className="icon_module_state" type="native">
						<styleClass value="$MiddleVAligned"/>
						<bind name="gotoAndStop!" value="'installed'"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="'$FontColorGolden'"/>
						<text value="IDS_INSTALLED"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="0px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="(_storageItemCount + _installedItemCount == 0)|| (_storageItemCount + _installedItemCount != 0) &amp;&amp; !(_exteriors[_exteriorId]) "/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<block className="icon_warning_orange" type="native">
						<styleClass value="$MiddleVAligned"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="'$FontColorUnready'"/>
						<bind name="text" value="_isPermoflagePurchased ? 'IDS_NOT_INSTALLED' : 
								(_storageItemCount + _installedItemCount == 0) &amp;&amp; _canBuy 	?  'IDS_NOT_PURCHASED' 
																							: (_storageItemCount + _installedItemCount == 0) &amp;&amp; !(_canBuy) 	?  'IDS_NOT_ACHIEVED'
																							: (_storageItemCount + _installedItemCount != 0) &amp;&amp; !(_exteriors[_exteriorId]) ?  'IDS_NOT_INSTALLED'
																							: ''"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="0px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="_isPermoflage"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="3px"/>
						<marginRight value="3px"/>
						<marginBottom value="3px"/>
						<marginTop value="3px"/>
					</style>
					<block className="notification_frame_orange" type="native">
						<styleClass value="$FullsizeAbsolute"/>
					</block>
					<block>
						<style>
							<marginLeft value="7px"/>
							<marginBottom value="3px"/>
							<marginTop value="3px"/>
						</style>
						<block>
							<styleClass value="$MiddleVAligned"/>
							<block className="icon_warning_orange" type="native"/>
						</block>
						<block type="text">
							<style>
								<maxWidth value="250"/>
								<marginLeft value="6px"/>
							</style>
							<styleClass value="$TextDefault"/>
							<bind name="class" value="'$FontColorUnready'"/>
							<bind name="text" value="!_isPermoflagePurchased ? 'IDS_WARNING_PERMOUFLAGE_BEFORE_BUY' : 'IDS_WARNING_PERMOUFLAGE_AFTER_BUY'"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="-2px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="_isPermoflagePurchased ? false : _canBuy"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="text" value="(_storageItemCount + _installedItemCount == 0) ? 'IDS_PURCHASE_COST' : 'IDS_REINFORCEMENT'"/>
					</block>
					<block>
						<bind name="instance" value="'AlterablePriceTag'; {_prices: prices, _showDiscountTag: true, _selectedPriceIndex: _selectedPriceIndex}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="0px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="exteriorConfig.params.length &gt; 0"/>
				<style>
					<width value="100%"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<styleClass value="$PxHorizontalCorrection"/>
				</block>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<bind name="repeat" value="exteriorConfig.params; 'ExteriorParams'"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="-1px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'ParamsAfterMount'; _installedItemCount == 0 &amp;&amp; viewParams.hasDiff ? { _viewParams: viewParams,
																									_title: 'IDS_AFTER_MOUNT'}
																								 : null"/>
			</block>
			<block>
				<bind name="visible" value="_achievements.length &gt; 0"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="tr('IDS_GET_FOR_ACHIEVEMENTS') + tr('IDS_COLON')"/>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="repeat" value="_achievements; 'AchievementIconWithTitleForFlags'"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="0px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="watch" value="'_hasInstalledPermoflages'; currentCamouflageEntity &amp;&amp; currentCamouflageEntity.exteriorConfig.isPermanent"/>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<bind name="visible" value="	((playerShipInfo.sigInstalled &lt; playerShipInfo.sigLimit &amp;&amp; _isSignal &amp;&amp; _canBuy) || (playerShipInfo.camInstalled == 0 &amp;&amp; _isCamouflage) || (playerShipInfo.camInstalled &gt; 0 &amp;&amp; _hasInstalledPermoflages) &amp;&amp; !(_isSignal)) ||
								((((_storageItemCount + _installedItemCount) == 0 &amp;&amp; _canBuy ) || ((_storageItemCount + _installedItemCount) != 0 &amp;&amp; !(_canBuy)) ) &amp;&amp; (_isSignal || (playerShipInfo.camInstalled == 0 &amp;&amp; _isCamouflage))) ||
								(!!(_exteriors[_exteriorId]))"/>
					<block>
						<bind name="name" value="(_storageItemCount + _installedItemCount) == 0 &amp;&amp; (_isPermoflagePurchased ? true : (accountResourceInfo[prices[_selectedPriceIndex].currency] &gt;= prices[_selectedPriceIndex].finalPrice)) ? 'ButtonBuyAndInstall'
																												: ((_storageItemCount + _installedItemCount) &gt; 0 &amp;&amp; !(_exteriors[_exteriorId])) ? 'ButtonInstall'
																												: !!(_exteriors[_exteriorId]) ? 'ButtonTakeAway'
																												: ''"/>
						<style>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'DefaultButtonCostMedium'; (_storageItemCount + _installedItemCount == 0) &amp;&amp; (_canBuy || _isPermoflagePurchased) &amp;&amp; ((accountResourceInfo[prices[_selectedPriceIndex].currency] &gt;= prices[_selectedPriceIndex].finalPrice) || _isPermoflagePurchased) ? { _label: _isPermoflagePurchased ? toUpperCase(tr('IDS_INSTALL')) : toUpperCase(tr('IDS_DO_PURCHASE_AND_INSTALL')) , priceInfo: _isPermoflagePurchased ? null : prices[_selectedPriceIndex], _action: null, _request: _isPermoflage &amp;&amp; !_isPermoflagePurchased ? 'buyAndInstallPermoflageModal' : 'buyAndInstallExteriorModal', _requestParams: {shipName:shipInfo.fullName, _shipId: shipInfo.id, exteriorName: _exteriorName, useGold: prices[_selectedPriceIndex].currency == 'gold', _exteriorId: _exteriorId, _selectedPriceIndex: _selectedPriceIndex, _isPermoflagePurchased: _isPermoflagePurchased, _isPermoflage : _isPermoflage}, _enabled: _enableExterior, _dispatchEvent: 'Tooltip.Close'}
																												: ((_storageItemCount + _installedItemCount) &gt; 0 &amp;&amp; !(_exteriors[_exteriorId])) ?  { priceInfo: null, _label: toUpperCase(tr('IDS_INSTALL')), _request: null, _action: 'installExterior', _actionParams: {exteriorName: _exteriorName, shipName:shipInfo.fullName, goldAutorecharge: prices[_selectedPriceIndex].currency == 'gold', viewParams: viewParams }, _enabled: _enableExterior, _dispatchEvent: 'Tooltip.Close'}
																												: !!(_exteriors[_exteriorId]) ? (
																																					_canPutToStorage 	? {priceInfo: null, _label: toUpperCase(tr('IDS_TAKE_AWAY')), _request: null, _action: 'uninstallExterior', _actionParams: {exteriorName:_exteriorName, shipName:shipInfo.fullName }, _enabled: _enableExterior, _dispatchEvent: 'Tooltip.Close'}
																																									 	: {priceInfo: null, _label: (_isPermoflage ? toUpperCase(tr('IDS_TAKE_AWAY')) : toUpperCase(tr('IDS_DESTROY'))), _action: null, _request: 'uninstallExterior', _requestParams: {exteriorName:_exteriorName, shipName:shipInfo.fullName, _shipId: shipInfo.id,_exteriorId: _exteriorId, _isPermoflage: _isPermoflage }, _enabled: _enableExterior, _dispatchEvent: 'Tooltip.Close'}
																																				)
																												: null"/>
					</block>
					<block>
						<style>
							<marginTop value="6px"/>
						</style>
						<bind name="visible" value="!(_enableExterior)"/>
						<bind name="instance" value="'StatusLineWithIcon';  {_text: playerShipInfo.isInFormation ? (divisionEntranceData.divisionType == 'party') ?	_isSignal	? 'IDS_SET_UNREADY_PARTY_FIRST_TO_OPERATE_FLAGS'
																																								: 'IDS_SET_UNREADY_PARTY_FIRST_TO_OPERATE_CAMO'
																																				 :	_isSignal	? 'IDS_SET_UNREADY_DIVISION_FIRST_TO_OPERATE_FLAGS'
																																								: 'IDS_SET_UNREADY_DIVISION_FIRST_TO_OPERATE_CAMO'
																								:	_isSignal 	? 'IDS_LEAVE_BATTLE_FIRST_TO_OPERATE_FLAGS' 
																												: 'IDS_LEAVE_BATTLE_FIRST_TO_OPERATE_CAMOUFLAGE',
														_positive: false}"/>
					</block>
					<block>
						<bind name="visible" value="!(_isPermoflagePurchased) &amp;&amp; _storageItemCount + _installedItemCount == 0"/>
						<bind name="instance" value="'PriceTagWithLabel'; accountResourceInfo[prices[_selectedPriceIndex].currency] &lt; prices[_selectedPriceIndex].finalPrice ? { priceInfo: prices[_selectedPriceIndex], _label: 'IDS_PURCHASE_COST', _medium : true} : null "/>
					</block>
					<block>
						<bind name="visible" value="!(_isPermoflagePurchased) &amp;&amp; _storageItemCount + _installedItemCount == 0"/>
						<bind name="instance" value="'PriceDeficit'; accountResourceInfo[prices[_selectedPriceIndex].currency] &lt; prices[_selectedPriceIndex].finalPrice ? { _deficit: prices[_selectedPriceIndex].finalPrice - accountResourceInfo[prices[_selectedPriceIndex].currency], priceInfo: prices[_selectedPriceIndex], _tooltipText: prices[_selectedPriceIndex].currency == 'credits' ? 'IDS_TOOLTIP_NO_CREDITS' : 'IDS_TOOLTIP_NO_GOLD' }
													: null"/>
					</block>
				</block>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<bind name="visible" value="((playerShipInfo.sigInstalled == playerShipInfo.sigLimit &amp;&amp; _isSignal &amp;&amp; _storageItemCount&gt;0) || (!(_hasInstalledPermoflages) &amp;&amp; playerShipInfo.camInstalled &gt; 0 &amp;&amp; _isCamouflage)) &amp;&amp; !(_exteriors[_exteriorId])"/>
					<block>
						<bind name="instance" value="'StatusLineWithIcon';  { _text: (_isSignal	? 'IDS_MAXIMUM_FLAGS_IS_INSTALLED' 
																		: _isCamouflage &amp;&amp; !!(_exteriors[_exteriorId])	? 'IDS_UNABLE_TO_TAKE_AWAY_CAMO'
																														: 'IDS_UNABLE_TO_INSTALL_CAMO') , _positive: false}"/>
					</block>
					<block>
						<style>
							<marginTop value="6px"/>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'InstructionParagraph'; { _text: _isSignal ? 'IDS_INSTRUCTION_REINSTALL_FLAG' : 'IDS_INSTRUCTION_UNABLE_TO_INSTALL_CAMO', _maxWidth: 262}"/>
					</block>
				</block>
			</block>
			<block className="dock_panel_pin_h" type="native">
				<style>
					<position value="absolute"/>
				</style>
				<bind name="gotoAndStop!" value="'left'"/>
				<params>
					<param name="name" value="pinLeft"/>
				</params>
			</block>
		</block>
	</block>
	<block className="ExteriorTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + _exteriorId; 'priceInfoSet'"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'shipWithExterior'; _exteriorId; 'shipWithExterior'"/>
		<bind name="action" value="'Tooltip.selfOpened'; 'getShipWithUpgrade'; {id: _exteriorId, type: 'exterior'}"/>
		<bind name="primaryEntityDH" value="'compareItemEntity'; CC.compareItem; 'exterior_' + _exteriorId"/>
		<bind name="watchDH" value="'exteriorCompare'; ['compareItemEntity.compareItem.evUpdate']; compareItemEntity.dataComponent.data"/>
		<bind name="primaryEntityDH" value="'exteriorEntity'; CC.exteriorConfig; _exteriorId"/>
		<bind name="watchDH" value="'exteriorConfig'; []; exteriorEntity.exteriorConfig"/>
		<bind name="watchDH" value="'count'; ['exteriorEntity.countComponent.evUpdate']; exteriorEntity.countComponent.value"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<styleClass value="$MouseDisable"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="watch" value="'_isPermoflage'; exteriorConfig.type == ExteriorTypes.CAMOUFLAGE &amp;&amp; exteriorConfig.isPermanent"/>
		<bind name="watch" value="'_canBuy'; exteriorConfig.canBuy"/>
		<bind name="watch" value="'_isSignal'; exteriorConfig.type == ExteriorTypes.FLAGS"/>
		<bind name="watch" value="'_isCamouflage'; exteriorConfig.type == ExteriorTypes.CAMOUFLAGE"/>
		<bind name="watch" value="'_isPermoflagePurchased'; !!(playerShipInfo.permoflagePurchased[_exteriorId])"/>
		<bind name="watch" value="'_installedItemCount'; !!(playerShipInfo.exteriors[_exteriorId]) ? 1 : 0"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<width value="300px"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<style>
					<marginTop value="12px"/>
				</style>
				<bind name="instance" value="'ExteriorTooltipHeader'; {	_exteriorId: _exteriorId, _shipId: shipId}"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="!!(playerShipInfo.exteriors[_exteriorId])"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<block className="icon_module_state" type="native">
						<styleClass value="$MiddleVAligned"/>
						<bind name="gotoAndStop!" value="'installed'"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="'$FontColorGolden'"/>
						<text value="IDS_INSTALLED"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="0px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="((count + _installedItemCount) == 0)|| ((count + _installedItemCount) != 0) &amp;&amp; !(playerShipInfo.exteriors[_exteriorId]) "/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<block className="icon_warning_orange" type="native">
						<styleClass value="$MiddleVAligned"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="'$FontColorUnready'"/>
						<bind name="text" value="_isPermoflagePurchased ? 'IDS_NOT_INSTALLED' : 
								(count + _installedItemCount == 0) &amp;&amp; _canBuy 	?  'IDS_NOT_PURCHASED'
																							: ((count + _installedItemCount) == 0) &amp;&amp; !(_canBuy) 	?  'IDS_NOT_ACHIEVED'
																							: ((count + _installedItemCount) != 0) &amp;&amp; !(playerShipInfo.exteriors[_exteriorId])  ? 'IDS_NOT_INSTALLED'
																							: ''"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="0px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="_isPermoflage"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="3px"/>
						<marginRight value="3px"/>
						<marginBottom value="3px"/>
						<marginTop value="3px"/>
					</style>
					<block className="notification_frame_orange" type="native">
						<styleClass value="$FullsizeAbsolute"/>
					</block>
					<block>
						<style>
							<marginLeft value="7px"/>
							<marginBottom value="3px"/>
							<marginTop value="3px"/>
						</style>
						<block>
							<styleClass value="$MiddleVAligned"/>
							<block className="icon_warning_orange" type="native"/>
						</block>
						<block type="text">
							<style>
								<maxWidth value="250"/>
								<marginLeft value="6px"/>
							</style>
							<styleClass value="$TextDefault"/>
							<bind name="class" value="'$FontColorUnready'"/>
							<bind name="text" value="!_isPermoflagePurchased ? 'IDS_WARNING_PERMOUFLAGE_BEFORE_BUY' : 'IDS_WARNING_PERMOUFLAGE_AFTER_BUY'"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="-2px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="_isPermoflagePurchased ? false : _canBuy"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="text" value="(count + _installedItemCount == 0) ? 'IDS_PURCHASE_COST' : 'IDS_REINFORCEMENT'"/>
					</block>
					<block>
						<bind name="visible" value="priceInfoSet.prices[0].finalPrice &gt; 0"/>
						<styleClass value="$MiddleVAligned"/>
						<bind name="instance" value="'PriceTag'; { priceInfo: priceInfoSet.prices[0], _showDiscountTag: true }"/>
					</block>
					<block type="text">
						<bind name="visible" value="(priceInfoSet.prices.length &gt; 1) &amp;&amp; (priceInfoSet.prices[1].finalPrice &gt; 0)"/>
						<styleClass value="$TextDefault"/>
						<styleClass value="$MiddleVAligned"/>
						<text value="IDS_OR"/>
					</block>
					<block>
						<bind name="visible" value="(priceInfoSet.prices.length &gt; 1) &amp;&amp; (priceInfoSet.prices[1].finalPrice &gt; 0)"/>
						<styleClass value="$MiddleVAligned"/>
						<bind name="instance" value="'PriceTag'; { priceInfo: priceInfoSet.prices[1], _showDiscountTag:true }"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="0px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="exteriorConfig.params.length &gt; 0"/>
				<style>
					<width value="100%"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$Fullsize"/>
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<bind name="repeat" value="exteriorConfig.params; 'ExteriorParams'"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="-1px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams; 0; null; 'tooltipShipParams'; playerShipInfo.params; exteriorCompare; 1; 0; null; 1; 1; 0"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'ParamsAfterMount'; _installedItemCount == 0 &amp;&amp; viewParams.hasDiff ? { _viewParams: viewParams,
																									_title: 'IDS_AFTER_MOUNT'}
																								 : null"/>
			</block>
			<block>
				<bind name="visible" value="exteriorConfig.achievements.length &gt; 0"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="tr('IDS_GET_FOR_ACHIEVEMENTS') + tr('IDS_COLON')"/>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="repeat" value="exteriorConfig.achievements; 'AchievementIconWithTitleForFlags'"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="0px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="!(_canBuy) &amp;&amp; ((count + _installedItemCount) == 0) &amp;&amp; !(_isPermoflage)"/>
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'InstructionParagraph'; !(_canBuy) ? { _text: _isSignal ? 'IDS_INSTRUCTION_GET_SIGNAL': 'IDS_INSTRUCTION_GET_CAMO', _maxWidth: '270'}: null"/>
			</block>
			<block>
				<bind name="visible" value="	(_canBuy ||
							(!(_canBuy) &amp;&amp; (count + _installedItemCount) != 0) ||
							(_isPermoflagePurchased &amp;&amp; _installedItemCount == 0)) &amp;&amp; !(_noMouseInstructions)"/>
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'MouseInstruction'; _isSignal		? {_type: 'left', _instructionText: ((count + _installedItemCount) == 0) &amp;&amp; _canBuy ? 'IDS_INSTRUCTION_BUY_SIGNAL'
																																								: 'IDS_INSTRUCTION_INSTALL_OR_TAKE_AWAY_SIGNAL', _maxWidth: 270} :
												_isCamouflage	? {_type: 'left', _instructionText: ((count + _installedItemCount) == 0) &amp;&amp; (_canBuy) &amp;&amp; !(_isPermoflagePurchased) 	? 'IDS_INSTRUCTION_BUY_CAMO' :
																									(_isCamouflage &amp;&amp; (playerShipInfo.camInstalled &gt; 0) &amp;&amp; !(_isPermoflagePurchased))			? 'IDS_INSTRUCTION_DESTROY_CAMO' :
																									(_isPermoflagePurchased &amp;&amp; _installedItemCount == 0)										? 'IDS_INSTALL' :
																									(_isPermoflagePurchased  &amp;&amp; _installedItemCount &gt; 0)										? 'IDS_INSTRUCTION_TAKE_AWAY_CAMO'
																																																: 'IDS_INSTRUCTION_INSTALL_OR_TAKE_AWAY_BUY_CAMO',
												_maxWidth: 270}: null"/>
			</block>
		</block>
	</block>
	<block className="ExteriorTooltipHeader">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; _shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipEntity.ownShip.evUpdate', 'shipEntity.ownShip.evCrewChanged']; shipEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="primaryEntityDH" value="'exteriorEntity'; CC.exteriorConfig; _exteriorId"/>
		<bind name="watchDH" value="'exteriorConfig'; []; exteriorEntity.exteriorConfig"/>
		<bind name="watchDH" value="'count'; ['exteriorEntity.countComponent.evUpdate']; exteriorEntity.countComponent.value"/>
		<bind name="watch" value="'_isPermoflage'; exteriorConfig.type == ExteriorTypes.CAMOUFLAGE &amp;&amp; exteriorConfig.isPermanent"/>
		<block>
			<bind name="watch" value="'_installedItemCount'; !!(playerShipInfo.exteriors[_exteriorId]) ? 1 : 0"/>
			<bind name="watch" value="'_storageItemCount'; count"/>
			<block>
				<bind name="instance" value="'ExteriorIconWithAmount'; { _exteriorId: _exteriorId,
														_amount: _amount != null ? _amount : (_installedItemCount + _storageItemCount),
														_isDesaturated: false
														}"/>
			</block>
			<block>
				<style>
					<marginTop value="3px"/>
					<marginLeft value="3px"/>
				</style>
				<block type="text">
					<styleClass value="$TextHeaderBold"/>
					<bind name="class" value="(_installedItemCount &gt; 0 || _isInstalled) ? '$FontColorGolden' : '$FontColorWhite'"/>
					<bind name="style" value="'maxWidth'; (exteriorConfig.type == ExteriorTypes.FLAGS) ? '208' : '190'"/>
					<style>
						<marginBottom value="5px"/>
					</style>
					<bind name="text" value="_isPermoflage 	? subst('IDS_EXTERIOR_NAME_WITH_SHIP', [], {exteriorName: tr('IDS_' + toUpperCase(exteriorConfig.name)), shipName: tr(shipInfo.nameIDS + '_FULL')})
											: tr('IDS_' + toUpperCase(exteriorConfig.name))})"/>
				</block>
				<block type="text">
					<bind name="style" value="'maxWidth'; (exteriorConfig.type == ExteriorTypes.FLAGS) ? '202' : '190'"/>
					<style>
						<marginTop value="-9px"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="'IDS_' + toUpperCase(exteriorConfig.name) + '_DESCRIPTION'"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ExteriorParams">
		<bind name="controller" value="lesta.unbound.core.UbController"/>
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$TextDefault"/>
			<bind name="text" value="percent &gt; 0 ? '+' + percent + '%' + ' ' + ids
								: percent &lt; 0 	? percent + '%' + ' '+ ids
												: percent == 0 ? ids
																: ' '"/>
		</block>
	</block>
	<css name="$FontSize18">
		<fontSize value="18"/>
	</css>
	<css name="$FontSize20">
		<fontSize value="20"/>
	</css>
	<block className="ExteriorIconWithAmount">
		<bind name="primaryEntityDH" value="'exteriorEntity'; CC.exteriorConfig; _exteriorId"/>
		<bind name="watchDH" value="'exteriorConfig'; []; exteriorEntity.exteriorConfig"/>
		<bind name="name" value="'ExteriorWithAmount_' + exteriorConfig.name"/>
		<bind name="style" value="'width'; (exteriorConfig.type == ExteriorTypes.FLAGS) ? '60px' : '75px'"/>
		<style>
			<height value="60px"/>
		</style>
		<bind name="style" value="'backgroundImage'; _isDesaturated	? ('url:' + exteriorConfig.desaturatedIconPath)
													: ('url:' + exteriorConfig.iconPath)"/>
		<block>
			<style>
				<right value="0px"/>
				<bottom value="-4px"/>
				<position value="absolute"/>
			</style>
			<bind name="visible" value="_amount &gt; 0 &amp;&amp; !(exteriorConfig.type == ExteriorTypes.CAMOUFLAGE &amp;&amp; exteriorConfig.isPermanent)"/>
			<block type="text">
				<style>
					<position value="absolute"/>
				</style>
				<styleClass value="$TextHeaderBigWhite"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="class" value="	(_amount &lt; 5) ? '$None'  :
							(_amount &lt; 10) ? '$FontSize18' :
							(_amount &lt; 20) ? '$FontSizeHeader6' : '$FontSize20'"/>
				<bind name="text" value="_amount"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigWhite"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="class" value="	(_amount &lt; 5) ? '$None'  :
							(_amount &lt; 10) ? '$FontSize18' :
							(_amount &lt; 20) ? '$FontSizeHeader6' : '$FontSize20'"/>
				<bind name="text" value="_amount"/>
			</block>
		</block>
	</block>
	<block className="Autoreplenishment">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap_h_no_right" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="3px"/>
				<marginBottom value="3px"/>
			</style>
			<block>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="3px"/>
				</style>
				<bind name="tooltip" value="'MultiParagraphHelpTooltip'; {_tooltipHeader: _tooltipHeader, _multiParagraphArray: _multiParagraphArrayHint, _paragraphText: _paragraphText}"/>
				<block className="icon_question_mark" type="native"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$MiddleAligned"/>
					<block>
						<style>
							<marginRight value="5px"/>
						</style>
						<bind name="tooltip" value="'AutoreplenishmentPriceTooltip'; { 	_maxPriceCR: _maxPriceCR, 
																		_maxPriceGold : _maxPriceGold, 
																		_nextPriceCR: _nextPriceCR, 
																		_nextPriceGold: _nextPriceGold,
																		_multiParagraphArray: _multiParagraphArrayPriceHint
																		} "/>
						<block>
							<block>
								<bind name="style" value="'alpha'; (_itemsInstalled == 0) ? 0.6 : 1"/>
								<bind name="instance" value="'InvertableTextLine'; { _text: 'IDS_AUTOREPLANISHMENT',
																	_invert: (_goldDeficit &gt; 0 || _creditsDeficit &gt; 0),
																	_normalClass: '$TextPriceMedium',
																	_invertedClass: '$TextPriceMediumDeficit' }"/>
							</block>
							<bind name="watch" value="'iconWarningVisible'; (_autorechargeOn) &amp;&amp; ((_maxPriceCR != _nextPriceCR) || (_maxPriceGold != _nextPriceGold))"/>
							<block>
								<bind name="fade" value="iconWarningVisible; 0.3; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 1; 0.1"/>
								<block className="icon_warning_orange" type="native">
									<style>
										<marginTop value="8px"/>
										<marginLeft value="2px"/>
									</style>
								</block>
							</block>
							<block>
								<block>
									<bind name="visible" value="_nextPriceCR &gt; 0"/>
									<bind name="instance" value="'PriceTag'; { priceInfo: { finalPrice: _nextPriceCR, currency: 'credits' }, _medium: true, _deficit: _creditsDeficit}"/>
								</block>
								<block>
									<bind name="visible" value="(_nextPriceCr &gt; 0) &amp;&amp; (_nextPriceGold &gt; 0)"/>
									<bind name="instance" value="'InvertableTextLine'; { _text: 'IDS_AND', 
																		_invert: (_goldDeficit &gt; 0 || _creditsDeficit &gt; 0), 
																		_normalClass: '$TextPriceMedium', 
																		_invertedClass: '$TextPriceMediumDeficit' }"/>
								</block>
								<block>
									<bind name="visible" value="_nextPriceGold &gt; 0"/>
									<style>
										<marginLeft value="3px"/>
									</style>
									<bind name="instance" value="'PriceTag'; { priceInfo: { finalPrice: _nextPriceGold, currency: 'gold' }, _medium: true, _deficit: _goldDeficit}"/>
								</block>
								<style>
									<flow value="horizontal"/>
								</style>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
					<block>
						<style>
							<marginRight value="5px"/>
							<backgroundColor value="0x01000000"/>
						</style>
						<bind name="tooltip" value="'SimpleWarningTooltip';	(playerShipInfo.isInFormation)	? {_text: (exteriorPage == LobbyConstants.SHIP_EXTERIOR_SIGNALS	? tr('IDS_SET_UNREADY_' + toUpperCase(tr(divisionEntranceData.divisionType)) + '_FIRST_TO_OPERATE_FLAGS')
																																							: tr('IDS_SET_UNREADY_' + toUpperCase(tr(divisionEntranceData.divisionType)) + '_FIRST_TO_OPERATE_CAMO'))} :
															(playerShipInfo.isLocked)		? {_text: tr('IDS_LEAVE_BATTLE_FIRST_TO_CHANGE_AUTOREPLENISHMENT_STATUS')}
																					: null"/>
						<block>
							<bind name="class" value="playerShipInfo.isLocked || playerShipInfo.isInFormation ? '$MouseDisable' : '$MouseEnable'"/>
							<bind name="style" value="'alpha'; (!(playerShipInfo.isLocked) &amp;&amp; !(playerShipInfo.isInFormation)) ? 1 : 0.5"/>
							<block className="tab_bar_bg" type="native">
								<block>
									<style>
										<marginLeft value="2px"/>
										<marginRight value="2px"/>
									</style>
									<block>
										<style>
											<position value="absolute"/>
										</style>
										<bind name="instance" value="'AutoreplenishmentTransition'; { _autorechargeOn: _autorechargeOn }"/>
									</block>
									<block>
										<style>
											<width value="100px"/>
											<height value="27px"/>
										</style>
										<bind name="tooltip" value="'SimpleTooltip'; (_itemsInstalled == 0)	? {tooltipText: (exteriorPage == LobbyConstants.SHIP_EXTERIOR_SIGNALS)	? 'IDS_AUTOREPLANISHMENT_TURN_ON_HINT_NO_FLAGS'
																																							: 'IDS_AUTOREPLANISHMENT_TURN_ON_HINT_NO_CAMO'}
																							:	null; 0"/>
										<block className="status_ready_item" type="native">
											<styleClass value="$Fullsize"/>
											<bind name="style" value="'colorMatrixFilter'; (_goldDeficit &gt; 0 || _creditsDeficit &gt; 0 || _itemsInstalled == 0) ? '0 -100 0 -40' : '0 0 0 0'"/>
											<bind name="label" value="_autorechargeOn ? toUpperCase(tr('IDS_IS_TURNED_ON')) : toUpperCase(tr('IDS_TURN_ON'))"/>
											<bind name="action" value="'buttonClick'; 'autorechargeExterior'; {shipId: shipInfo.id, signals: _signalsOn, camouflage: _camouflageOn}"/>
											<bind name="selected" value="_autorechargeOn"/>
											<bind name="enabled" value="_itemsInstalled &gt; 0"/>
											<bind name="tooltip" value="'SimpleTooltip'; (_itemsInstalled == 0) 	? null
																								: {tooltipText: (_goldDeficit &gt; 0 || _creditsDeficit &gt; 0) ? 'IDS_AUTOREPLANISHMENT_TURN_ON_HINT_DEFICIT' : 'IDS_AUTOREPLANISHMENT_TURN_ON_HINT'}; 0"/>
										</block>
									</block>
									<block className="divider_v" type="native">
										<style>
											<height value="27px"/>
										</style>
									</block>
									<block className="status_not_ready_item" type="native">
										<style>
											<width value="100px"/>
											<height value="27px"/>
										</style>
										<bind name="label" value="_autorechargeOn ? toUpperCase(tr('IDS_TURN_OFF')): toUpperCase(tr('IDS_IS_TURNED_OFF'))"/>
										<bind name="action" value="'buttonClick'; 'autorechargeExterior'; {shipId: shipInfo.id, signals: _signalsOff, camouflage: _camouflageOff}"/>
										<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_AUTOREPLANISHMENT_TURN_OFF_HINT'}; 0"/>
										<bind name="selected" value="!(_autorechargeOn)"/>
									</block>
									<style>
										<flow value="horizontal"/>
									</style>
								</block>
							</block>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<bind name="tooltip" value="'SimpleWarningTooltip';	playerShipInfo.isInFormation	? {_text: (exteriorPage == LobbyConstants.SHIP_EXTERIOR_SIGNALS	? tr('IDS_SET_UNREADY_' + toUpperCase(tr(divisionEntranceData.divisionType)) + '_FIRST_TO_OPERATE_FLAGS')
																																						: tr('IDS_SET_UNREADY_' + toUpperCase(tr(divisionEntranceData.divisionType)) + '_FIRST_TO_OPERATE_CAMO'))} :
														playerShipInfo.isLocked			? {_text: tr('IDS_LEAVE_BATTLE_FIRST_TO_CHANGE_AUTOPURCHASE_STATUS')}
																						: null"/>
					<bind name="instance" value="'AutoPurchase'; _canBuySomeExterior ? { shipId: shipInfo.id, _autorechargeOn: _autorechargeOn,
																		_isCamouflage: _isCamouflage, _isSignal: _isSignal, _isConsumables: _isConsumables}
																	: null"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="visible" value="(_goldDeficit &gt; 0 || _creditsDeficit &gt; 0) &amp;&amp; _autorechargeOn"/>
			<bind name="instance" value="'CrAndGoldDeficit'; { _goldDeficit: _goldDeficit , _creditsDeficit: _creditsDeficit, _medium: true, _bold: true}"/>
		</block>
	</block>
	<block className="AutoPurchase">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="fade" value="_autorechargeOn; 0.3; {alpha: 0, ubScaleY: 0}; {alpha: 1, ubScaleY: 1}; {alpha: 0, ubScaleY: 0}; 0; 0.3"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'validatedShownHintFirstTime'; shownHintFirstTime != null ? shownHintFirstTime : false"/>
		<bind name="watch" value="'shownHintFirstTime'; 	_isCamouflage	? userPrefs.shownHintAutoPurchaseExterior :
										_isSignal		? userPrefs.shownHintAutoPurchaseExterior :
										_isConsumables	? userPrefs.shownHintAutoPurchaseConsumables
														: userPrefs.shownHintAutoPurchaseExterior"/>
		<bind name="watch" value="'userPrefValueName'; 	_isCamouflage	? 'shownHintAutoPurchaseExterior' :
										_isSignal		? 'shownHintAutoPurchaseExterior' :
										_isConsumables	? 'shownHintAutoPurchaseConsumables'
														: 'shownHintAutoPurchaseExterior'"/>
		<bind name="dispatch" value="'addedToStage'; 'startWatchingAutochargeEv'; null; true; 0.1"/>
		<bind name="catch" value="'startWatchingAutochargeEv'; {startWatchingAutocharge: true}"/>
		<bind name="changeDispatch" value="_autorechargeOn; (startWatchingAutocharge &amp;&amp; _autorechargeOn == false) ? 'autorechargeOnChangedEv' : null"/>
		<bind name="action" value="'autorechargeOnChangedEv'; 'setUserPref'; { value: true, name: userPrefValueName}"/>
		<block>
			<bind name="fade" value="(validatedShownHintFirstTime == false) &amp;&amp; enableAutoPurschase; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: 10}; 1; 0.1"/>
			<style>
				<position value="absolute"/>
				<width value="290px"/>
				<bottom value="26px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="mc_blurmap5" type="native">
				<bind name="fade" value="(validatedShownHintFirstTime == false) &amp;&amp; enableAutoPurschase; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: 10}; 1; 0.1"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="notification_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block className="dock_panel_pin" type="native">
				<styleClass value="$MiddleAligned"/>
				<style>
					<position value="absolute"/>
					<bottom value="-7px"/>
				</style>
				<bind name="gotoAndStop!" value="'down'"/>
			</block>
			<block type="text">
				<styleClass value="$InfoBlockIndent"/>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="_isCamouflage 	 ? 'IDS_AUTOPURCHASE_CAMOUFLAGE_ON' 
						: _isSignal 	 ? 'IDS_AUTOPURCHASE_SIGNALS_ON' 
						: _isConsumables ? 'IDS_AUTOPURCHASE_CONSUMABLES_ON'
						: ''"/>
			</block>
			<block>
				<style>
					<backgroundColor value="0x01000000"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="dispatch" value="'click'; 'autorechargeOnChangedEv'; null; true"/>
				<block className="button_close" type="native">
					<style>
						<top value="6px"/>
						<right value="6px"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<bind name="watch" value="'enableAutoPurschase'; _isCamouflage	? playerShipInfo.autopurchaseCamouflage :
											_isSignal		? playerShipInfo.autopurchaseFlags
															: playerShipInfo.autopurchaseAbilities"/>
			<bind name="tooltip" value="'MouseInstructionTooltip';	(playerShipInfo.isLocked || playerShipInfo.isInFormation) ? null :
													{_multiParagraphArray: 	enableAutoPurschase ? [{ _paragraphText: 	_isCamouflage 	 ? 'IDS_AUTOPURCHASE_CAMOUFLAGE_ON' 
																														: _isSignal 	 ? 'IDS_AUTOPURCHASE_SIGNALS_ON' 
																														: _isConsumables ? 'IDS_AUTOPURCHASE_CONSUMABLES_ON'
																														: '' }] 
																								: [{ _paragraphText: 	_isCamouflage 	 ? 'IDS_AUTOPURCHASE_CAMOUFLAGE_OFF'
																														: _isSignal 	 ? 'IDS_AUTOPURCHASE_SIGNALS_OFF' 
																														: _isConsumables ? 'IDS_AUTOPURCHASE_CONSUMABLES_OFF'
																														: ''}],
													_mouseInstructions: 	enableAutoPurschase	? [{ _type:'left', _instructionText: 'IDS_AUTOPURCHASE_SWITCH_OFF' }] 
																								: [{ _type:'left', _instructionText: 'IDS_AUTOPURCHASE_SWITCH_ON' }]}"/>
			<bind name="action" value="'buttonClick'; _isConsumables	? 'autopurchaseAbilities':
									_isSignal		? 'autopurchaseFlags'
													: 'autopurchaseCamouflage'; {shipId: shipId, isAutoBuy: !(enableAutoPurschase)}"/>
			<style>
				<marginTop value="3px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<block>
				<bind name="style" value="'hitTest'; (!(playerShipInfo.isLocked) &amp;&amp; !(playerShipInfo.isInFormation))"/>
				<bind name="style" value="'alpha'; (!(playerShipInfo.isLocked) &amp;&amp; !(playerShipInfo.isInFormation)) ? 1 : 0.5"/>
				<bind name="instance" value="'CheckBox'; {switchProperty: enableAutoPurschase, label: 'IDS_AUTOPURCHASE_FULL', _maxTfWidth: 400}"/>
			</block>
		</block>
	</block>
	<block className="AutoreplenishmentPriceTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="330px"/>
		</style>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<style>
				<marginTop value="10px"/>
			</style>
			<block>
				<bind name="visible" value="(_nextPriceCR == 0) &amp;&amp; (_nextPriceGold == 0)"/>
				<block type="text">
					<style>
						<alpha value="0.8"/>
					</style>
					<styleClass value="$TextHeaderBigWhite"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="text" value="tr('IDS_NEXT_REPLENISHMENT') + tr('IDS_COLON')+' '+toLowerCase(tr('IDS_FOR_FREE'))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="(_nextPriceCR &gt; 0) || (_nextPriceGold &gt; 0)"/>
				<block type="text">
					<style>
						<alpha value="0.8"/>
					</style>
					<styleClass value="$TextHeaderBigWhite"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="text" value="tr('IDS_NEXT_REPLENISHMENT') + tr('IDS_COLON')"/>
				</block>
				<block>
					<bind name="visible" value="_nextPriceCR &gt; 0"/>
					<style>
						<marginTop value="1px"/>
					</style>
					<bind name="instance" value="'PriceTag'; { priceInfo: { finalPrice: _nextPriceCR, currency: 'credits' }}"/>
				</block>
				<block type="text">
					<bind name="visible" value="(_nextPriceCr &gt; 0) &amp;&amp; (_nextPriceGold &gt; 0)"/>
					<style>
						<alpha value="0.8"/>
					</style>
					<styleClass value="$TextHeaderBigWhite"/>
					<styleClass value="$MiddleVAligned"/>
					<text value="IDS_AND"/>
				</block>
				<block>
					<bind name="visible" value="_nextPriceGold &gt; 0"/>
					<style>
						<marginLeft value="3px"/>
						<marginTop value="1px"/>
					</style>
					<bind name="instance" value="'PriceTag'; { priceInfo: { finalPrice: _nextPriceGold, currency: 'gold' }}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="(_maxPriceCR &gt; 0) || (_maxPriceGold &gt; 0)"/>
				<style>
					<marginTop value="4px"/>
				</style>
				<block type="text">
					<style>
						<alpha value="0.8"/>
					</style>
					<styleClass value="$TextHeaderBigWhite"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="text" value="tr('IDS_MAX_REPLENISHMENT') + tr('IDS_COLON')"/>
				</block>
				<block>
					<bind name="visible" value="_maxPriceCR &gt; 0"/>
					<style>
						<marginTop value="1px"/>
					</style>
					<bind name="instance" value="'PriceTag'; { priceInfo: { finalPrice: _maxPriceCR, currency: 'credits' }}"/>
				</block>
				<block type="text">
					<bind name="visible" value="(_maxPriceCR &gt; 0) &amp;&amp; (_maxPriceGold &gt; 0)"/>
					<style>
						<alpha value="0.8"/>
					</style>
					<styleClass value="$TextHeaderBigWhite"/>
					<styleClass value="$MiddleVAligned"/>
					<text value="IDS_AND"/>
				</block>
				<block>
					<bind name="visible" value="_maxPriceGold &gt; 0"/>
					<style>
						<marginLeft value="3px"/>
						<marginTop value="1px"/>
					</style>
					<bind name="instance" value="'PriceTag'; { priceInfo: { finalPrice: _maxPriceGold, currency: 'gold' }}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<marginLeft value="12px"/>
				<marginRight value="12px"/>
				<marginTop value="9px"/>
				<marginBottom value="3px"/>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_multiParagraphArray; 'RepeatParagraphItem'"/>
		</block>
	</block>
	<block className="AutoreplenishmentTransition">
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="transition" value="_autorechargeOn == false; 0.3; {x: 0}; {x: 102}; {x: 0}; 2; 0.3"/>
			<bind name="fade" value="_autorechargeOn == false; 0.3; {alpha: 1}; {alpha: 0}; {alpha: 0}; 0; 0.6"/>
			<block className="status_transition_element" type="native">
				<style>
					<marginTop value="2px"/>
					<position value="absolute"/>
					<height value="23px"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="transition" value="_autorechargeOn; 0.3; {x: 102}; {x: 0}; {x: 102}; 2; 0.3"/>
			<bind name="fade" value="_autorechargeOn; 0.3; {alpha: 1}; {alpha: 0}; {alpha: 0}; 0; 0.6"/>
			<block className="status_transition_element" type="native">
				<style>
					<marginTop value="2px"/>
					<position value="absolute"/>
					<height value="23px"/>
				</style>
			</block>
		</block>
	</block>
	<block className="FlagInfotip">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipEntity.ownShip.evUpdate', 'shipEntity.ownShip.evCrewChanged']; shipEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'exteriorEntity'; CC.exteriorConfig; id"/>
		<bind name="watchDH" value="'exteriorConfig'; []; exteriorEntity.exteriorConfig"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="action" value="'Tooltip.selfClosed'; 'disableExteriorPreview'; {exteriorName:id}"/>
		<bind name="action" value="'Tooltip.selfOpened'; 'previewExterior'; {exteriorName:id, shipId: shipId}"/>
		<styleClass value="$HorizontalInfotipBehaviour"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-10px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-16px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="300px"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'FlagTooltipHeader'; {id: id, name: name, isLeague: isLeague}"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<bind name="visible" value="_installed"/>
					<styleClass value="$InfoBlockIndent"/>
					<block className="icon_module_state" type="native">
						<styleClass value="$MiddleVAligned"/>
						<bind name="gotoAndStop!" value="'installed'"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="'$FontColorGolden'"/>
						<bind name="text" value="'IDS_INSTALLED'"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="!(_installed)"/>
					<styleClass value="$InfoBlockIndent"/>
					<block className="icon_warning_orange" type="native">
						<styleClass value="$MiddleVAligned"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="'$FontColorUnready'"/>
						<bind name="text" value="!canUse ? 'IDS_NOT_ACHIEVED' : 'IDS_NOT_INSTALLED'"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<style>
						<maxWidth value="274"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="'IDS_' + toUpperCase(name) + '_DESCRIPTION'"/>
				</block>
				<block type="text">
					<bind name="visible" value="!(isLeague)"/>
					<style>
						<maxWidth value="274"/>
						<marginTop value="6px"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="'IDS_' + toUpperCase(name) + '_EXTRA_DESCRIPTION'"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="_selectedExteriorParams.length &gt; 0"/>
				<style>
					<width value="100%"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<styleClass value="$PxHorizontalCorrection"/>
				</block>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<bind name="repeat" value="_selectedExteriorParams; 'ExteriorParams'"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="-1px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="(!canUse &amp;&amp; !isLeague) || isRankSeasonTemp"/>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<style>
						<maxWidth value="260"/>
					</style>
					<bind name="text" value="(!canUse &amp;&amp; !isLeague) ? 'IDS_INSTRUCTION_ACHIEVE_SEASON_FLAG' : 'IDS_INSTRUCTION_IS_RANK_TEMP'"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="canUse"/>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'DefaultButtonCostMedium';  !(_installed) 	? { _label: toUpperCase(tr('IDS_INSTALL')) , priceInfo: null, _action: 'installEnsign', _request: null, _actionParams: {ensignName: id, shipId: shipId}, _enabled: _enableExterior, _dispatchEvent: 'Tooltip.Close' }
																		: { _label: toUpperCase(tr('IDS_TAKE_AWAY')) , priceInfo: null, _action: 'installEnsign', _request: null, _actionParams: {ensignName: '', shipId: shipId}, _enabled: _enableExterior, _dispatchEvent: 'Tooltip.Close' }"/>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<style>
					<marginTop value="0px"/>
				</style>
				<bind name="visible" value="!(_enableExterior)"/>
				<bind name="instance" value="'StatusLineWithIcon';  {_text: playerShipInfo.isInFormation ? (divisionEntranceData.divisionType == 'party') ?	'IDS_SET_UNREADY_PARTY_FIRST_TO_OPERATE_ENSIGN'
																																		 :	'IDS_SET_UNREADY_DIVISION_FIRST_TO_OPERATE_ENSIGN'
																						:	'IDS_LEAVE_BATTLE_FIRST_TO_OPERATE_CAMOUFLAGE',
												_positive: false}"/>
			</block>
			<block className="dock_panel_pin_h" type="native">
				<style>
					<position value="absolute"/>
				</style>
				<bind name="gotoAndStop!" value="'left'"/>
				<params>
					<param name="name" value="pinLeft"/>
				</params>
			</block>
		</block>
	</block>
	<block className="FlagTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<styleClass value="$MouseDisable"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<width value="300px"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'FlagTooltipHeader'; {id: id, name: name, isLeague: isLeague}"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<bind name="visible" value="_installed"/>
					<styleClass value="$InfoBlockIndent"/>
					<block className="icon_module_state" type="native">
						<styleClass value="$MiddleVAligned"/>
						<bind name="gotoAndStop!" value="'installed'"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="'$FontColorGolden'"/>
						<bind name="text" value="'IDS_INSTALLED'"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="!(_installed)"/>
					<styleClass value="$InfoBlockIndent"/>
					<block className="icon_warning_orange" type="native">
						<styleClass value="$MiddleVAligned"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="'$FontColorUnready'"/>
						<bind name="text" value="!canUse ? 'IDS_NOT_ACHIEVED' : 'IDS_NOT_INSTALLED'"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<style>
						<maxWidth value="274"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="'IDS_' + toUpperCase(name) + '_DESCRIPTION'"/>
				</block>
				<block type="text">
					<bind name="visible" value="!(isLeague)"/>
					<style>
						<maxWidth value="274"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="'IDS_' + toUpperCase(name) + '_EXTRA_DESCRIPTION'"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="_selectedExteriorParams.length &gt; 0"/>
				<style>
					<width value="100%"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<styleClass value="$PxHorizontalCorrection"/>
				</block>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<bind name="repeat" value="_selectedExteriorParams; 'ExteriorParams'"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<bottom value="-1px"/>
						<position value="absolute"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="(!canUse &amp;&amp; isLeague) || isRankSeasonTemp"/>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<bind name="visible" value="!canUse &amp;&amp; isLeague"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<style>
						<maxWidth value="260"/>
					</style>
					<bind name="text" value="IDS_INSTRUCTION_ACHIEVE_LEAGUE_FLAG"/>
				</block>
				<block type="text">
					<bind name="visible" value="isRankSeasonTemp"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<style>
						<maxWidth value="260"/>
					</style>
					<text value="IDS_INSTRUCTION_IS_RANK_TEMP"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="!(_installed) &amp;&amp; canUse"/>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'MouseInstruction'; {_type: 'left', _instructionText: 'IDS_INSTRUCTION_INSTALL_ENSIGN', _maxWidth: 270}"/>
			</block>
		</block>
	</block>
	<block className="FlagTooltipHeader">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'ensigns'; id; 'ensignsInfo'"/>
		<block>
			<block>
				<style>
					<height value="60px"/>
					<width value="75px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + ensignsInfo.iconPath"/>
			</block>
			<block>
				<block type="text">
					<style>
						<maxWidth value="200"/>
					</style>
					<styleClass value="$TextHeaderBold"/>
					<bind name="class" value="ensignsInfo.installed 	? '$FontColorGolden' :'$FontColorDefault'"/>
					<bind name="text" value="'IDS_' + toUpperCase(ensignsInfo.name)"/>
				</block>
				<block type="text">
					<style>
						<maxWidth value="200"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="isLeague ? 'IDS_LEAGUE_FLAG' : 'IDS_SEASON_ENSIGN'"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<css name="$TextCarouselShipStatus">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<block className="ShipCarouselContainer">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate,freeExpUpdate,slotsNumUpdate'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'carouselVisibility'; ['dockEntity.dockData.evUpdate']; dockEntity.dockData.carouselVisibility"/>
		<bind name="fade" value="carouselVisibility; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: 10}; 1; (true &amp;&amp; dockDefaultValues.carouselVisibility) ? 0.25 : 0"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="feature" value="'17'; ''"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<style>
			<position value="absolute"/>
			<width value="100%"/>
			<bottom value="36px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'isSmallCarouselView'; (userPrefs.isSmallCarouselView == null) ? false : userPrefs.isSmallCarouselView"/>
		<bind name="catch" value="'carouselViewChanged'; {isSmallCarouselView: !(isSmallCarouselView)}; 'saveCarouselViewState'"/>
		<bind name="action" value="'saveCarouselViewState'; 'setUserPref' ; {value : isSmallCarouselView, name: 'isSmallCarouselView'}"/>
		<bind name="catch" value="'carouselRowsCountChanged'"/>
		<block>
			<style>
				<position value="absolute"/>
				<top value="-30px"/>
			</style>
			<block className="CarouselFilters">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
				<bind name="stageSize"/>
				<bind name="watch" value="'isFourRowsEnabled'; (stageHeight != null) ? (stageHeight &gt; (720 + 160)) : true"/>
				<bind name="watch" value="'isThreeRowsEnabled'; (stageHeight != null) ? (stageHeight &gt; (720 + 88)) : true"/>
				<bind name="watch" value="'curCarouselRows';	(userPrefs.curRowCountIndex == null)															? 0 :
									(userPrefs.curRowCountIndex == 2 &amp;&amp; isFourRowsEnabled)											? 2 :
									((userPrefs.curRowCountIndex == 2 || userPrefs.curRowCountIndex == 1) &amp;&amp; isThreeRowsEnabled)	? 1
																																	: 0"/>
				<bind name="action" value="'carouselRowsCountChangedByStageHeight'; 'setUserPref' ; {value : curCarouselRows, name: 'curRowCountIndex'}"/>
				<bind name="changeDispatch" value="curCarouselRows; 'carouselRowsCountChangedByStageHeight'"/>
				<bind name="feature" value="13;''"/>
				<bind name="action" value="(feature_13 == 'locked') ? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_WITH_COMMANDER', value: false }"/>
				<bind name="action" value="(feature_13 == 'locked') ? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_WITHOUT_COMMANDER', value: false }"/>
				<bind name="feature" value="16;''"/>
				<bind name="action" value="(feature_16 == 'locked') || (rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON)? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_RANKED_BATTLES', value: false }"/>
				<bind name="feature" value="19;''"/>
				<bind name="collectionDH" value="CC.clubsCommon; 'clubsCommonCollection'"/>
				<bind name="entityDH" value="'clubsCommonEntity'; clubsCommonCollection[0].id"/>
				<bind name="watchDH" value="'clubBattlesSeasonId'; ['clubsCommonEntity.clubsCommon.evRulesChanged']; clubsCommonEntity.clubsCommon.seasonId"/>
				<bind name="watchDH" value="'clubBattlesSeasonStage'; ['clubsCommonEntity.clubsCommon.evRulesChanged']; clubsCommonEntity.clubsCommon.stage"/>
				<bind name="action" value="feature_19 == 'locked' || clubBattlesSeasonId &lt;= 0 || clubBattlesSeasonStage != 2 ? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_CLUB_BATTLES', value: false }"/>
				<style>
					<marginLeft value="7px"/>
					<height value="30px"/>
					<flow value="horizontal"/>
				</style>
				<block>
					<bind name="name" value="'CarouselFiltersButton'"/>
					<block className="button_carousel_filters" type="native">
						<bind name="tooltip" value="'CarouselFiltersInfotip'; {AppliedFiltersCounter: AppliedFiltersCounter, _isSmallCarouselView: isSmallCarouselView}; TooltipBehaviour.verticalInfotipSwitch; null; 'carouselFiltersInfotipIsVIsible'"/>
						<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_TOOLTIP_CAROUSEL_FILTERS'}], _maxWidth: 240 }"/>
						<bind name="selected" value="carouselFiltersInfotipIsVIsible"/>
					</block>
				</block>
				<bind name="catch" value="'shipNameFIlterInfotipSelectedChanged'"/>
				<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
				<bind name="watchDH" value="'selectedFilters'; ['panelEntity.filterPanelComponent.evUpdate']; panelEntity.filterPanelComponent.selectedFilters"/>
				<block>
					<style>
						<height value="32px"/>
						<marginTop value="-4px"/>
						<marginRight value="12px"/>
						<marginLeft value="4px"/>
					</style>
					<block>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'shipName', shipNameFIlterInfotipSelected: shipNameFIlterInfotipSelected}"/>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'level'}"/>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'shipType'}"/>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'nation'}"/>
						<bind name="instance" value="'AppliedFilter'; {_filterType: 'special'}"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<bind name="instance" value="'ResetAllFilters'; selectedFilters.length &gt; 1 ? {} : null"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block className="ShipCarousel">
			<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
			<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
			<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
			<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
			<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
			<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
			<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
			<bind name="watch" value="'carouselSmallViewHeight'; (curRowCountIndex == 0 || (!isSmallCarouselView))	? 2*63
																							: curRowCountIndex == 1 ? 3*63
																							: 4*63"/>
			<bind name="watch" value="'rowsCount'; 																	(!isSmallCarouselView)	? 1
																							:	curRowCountIndex == 0 	? 2 
																							: 	curRowCountIndex == 1 	? 3
																							: 4"/>
			<style>
				<flow value="horizontal"/>
				<width value="100%"/>
				<minHeight value="126"/>
			</style>
			<bind name="style" value="'height'; carouselSmallViewHeight +  'px'"/>
			<bind name="name" value="'carouselPlayerShips'"/>
			<bind name="stageSize"/>
			<bind name="watch" value=" 'maxSlotsOnScreen'; isSmallCarouselView ? ((stageWidth - 58) / 214) / 2 : ((stageWidth - 58) / 214) "/>
			<block>
				<style>
					<width value="20px"/>
					<height value="100%"/>
				</style>
				<block className="button_slide_left" type="native">
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$MiddleAligned"/>
					<params>
						<param name="focusable" value="false"/>
					</params>
					<bind name="enabled" value="ShipsCarouselCanScrollLeft"/>
					<bind name="name" value="'buttonCarouselLeft'"/>
					<bind name="dispatch" value="'buttonClick'; 'ShipsCarouselScrollPrev'"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%f"/>
					<height value="100%"/>
					<overflow value="scroll"/>
					<scrollArea value="ModernScrollAreaHorizontal"/>
					<scrollbarController value="lesta.unbound.style.UbScrollingControllerTouch"/>
					<wheelScrollSpeed value="216"/>
					<layout value="lesta.unbound.layout.measure.CarouselLayout"/>
					<itemWidth value="216px"/>
					<itemHeight value="126px"/>
				</style>
				<bind name="style" value="'flow'; isSmallCarouselView ? 'vtile' : 'horizontal'"/>
				<bind name="style" value="'itemHeight'; isSmallCarouselView ? '63px' : '126px'"/>
				<bind name="name" value="'shipCarouseContaner'"/>
				<bind name="generatorDH" value="CC.mainShipFilter; 'CarouselItem'; 'sorted'; { shipFilterId: CC.mainShipFilter, _selectedShipId: shipIdForModuleInset,
                                                                _isSmallCarouselView: isSmallCarouselView,
                                                                isFull: slimClientData.isFull}"/>
				<bind name="scrollController" value="'ShipsCarousel'; 216; rowsCount"/>
				<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerShipsCarousel; CC.mainShipFilter; 'sorted'; 'ShipsCarousel' ; true"/>
				<bind name="dispatch" value="'addedToStage'; 'ShipsCarouselScrollToSelected'"/>
				<block>
					<bind name="visible" value="feature_17 != 'locked'"/>
					<block className="ShipCarouselPurchaseShip">
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate,freeExpUpdate,slotsNumUpdate'"/>
						<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
						<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
						<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
						<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
						<bind name="class" value="curRowCountIndex == 1 ? '$CarouselServiceBlockSmall' : '$CarouselServiceBlock'"/>
						<block className="inner_panel" type="native">
							<styleClass value="$Fullsize"/>
							<style>
								<position value="absolute"/>
							</style>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<styleClass value="$MiddleVAligned"/>
							<block>
								<style>
									<width value="190px"/>
								</style>
								<block className="button_dock" type="native">
									<bind name="tooltip" value="'PurchaseShipTooltip'; {}; 1"/>
									<style>
										<width value="100%"/>
										<height value="30px"/>
									</style>
									<bind name="enabled" value="_enabled"/>
									<bind name="action" value="'buttonClick'; 'changeInset'; { inset: LobbyConstants.SHIP_RESEARCH_TREE }"/>
									<block>
										<style>
											<marginTop value="8px"/>
										</style>
										<styleClass value="$MiddleAligned"/>
										<style>
											<mouseEnabled value="false"/>
											<mouseChildren value="false"/>
										</style>
										<block type="text">
											<styleClass value="$TextDefaultBold"/>
											<styleClass value="$MiddleVAligned"/>
											<text value="IDS_PURCHASE_SHIP_UPPER_CASE"/>
										</block>
										<style>
											<flow value="horizontal"/>
										</style>
									</block>
								</block>
							</block>
							<block>
								<bind name="visible" value="accountResourceInfo.slotsNum &gt; 0"/>
								<styleClass value="$MiddleAligned"/>
								<style>
									<hitTest value="false"/>
									<marginTop value="-6px"/>
								</style>
								<block type="text">
									<bind name="name" value="'ShipCarouselFreeSlots'"/>
									<styleClass value="$TextDefault"/>
									<bind name="class" value="'$FontColorBlueish'"/>
									<bind name="text" value="tr('IDS_FREE_SLOTS')  + ' ' + accountResourceInfo.slotsNum"/>
								</block>
							</block>
							<block>
								<bind name="visible" value="accountResourceInfo.slotsNum == 0"/>
								<styleClass value="$MiddleAligned"/>
								<style>
									<hitTest value="false"/>
									<marginTop value="-8px"/>
								</style>
								<bind name="instance" value="'StatusLineWithIcon'; { _text: 'IDS_NO_FREE_SLOTS', _bold: true }"/>
							</block>
						</block>
					</block>
				</block>
				<block>
					<bind name="visible" value="feature_17 != 'locked'"/>
					<block className="ShipCarouselPurchaseShipSlot">
						<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'SLOT_COST'; 'slotPrice'"/>
						<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
						<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
						<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
						<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
						<bind name="class" value="curRowCountIndex == 1 ? '$CarouselServiceBlockSmall' : '$CarouselServiceBlock'"/>
						<block className="inner_panel" type="native">
							<styleClass value="$Fullsize"/>
							<style>
								<position value="absolute"/>
							</style>
						</block>
						<block>
							<styleClass value="$MiddleVAligned"/>
							<styleClass value="$MiddleAligned"/>
							<block>
								<style>
									<width value="190px"/>
								</style>
								<block className="button_dock" type="native">
									<bind name="tooltip" value="'PurchaseSlotTooltip'; {}; 1"/>
									<style>
										<width value="100%"/>
										<height value="30px"/>
									</style>
									<bind name="enabled" value="_enabled"/>
									<bind name="name" value="'buttonBuySlots'"/>
									<bind name="input"/>
									<block>
										<style>
											<marginTop value="8px"/>
										</style>
										<styleClass value="$MiddleAligned"/>
										<style>
											<mouseEnabled value="false"/>
											<mouseChildren value="false"/>
										</style>
										<block type="text">
											<styleClass value="$TextDefaultBold"/>
											<styleClass value="$MiddleVAligned"/>
											<text value="IDS_PURCHASE_SLOT_FOR_UPPER_CASE"/>
										</block>
										<style>
											<flow value="horizontal"/>
										</style>
									</block>
								</block>
							</block>
							<block>
								<styleClass value="$MiddleAligned"/>
								<style>
									<marginTop value="-6px"/>
								</style>
								<bind name="instance" value="'PriceTag'; { priceInfo: slotPrice.prices[0], _showDiscountTag:true}"/>
								<style>
									<flow value="horizontal"/>
								</style>
							</block>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<height value="100%"/>
					<width value="20px"/>
				</style>
				<block className="button_slide_right" type="native">
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$MiddleAligned"/>
					<params>
						<param name="focusable" value="false"/>
					</params>
					<bind name="enabled" value="ShipsCarouselCanScrollRight"/>
					<bind name="name" value="'buttonCarouselRight'"/>
					<bind name="dispatch" value="'buttonClick'; 'ShipsCarouselScrollNext'"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="transition" value="rollOver; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: 10}; 0; rollOver ? 0 : 3"/>
			<style>
				<position value="absolute"/>
				<right value="19px"/>
				<top value="-38px"/>
			</style>
			<bind name="collectionDH" value="CC.ownShip; 'playerShips'"/>
			<block type="text">
				<style>
					<alpha value="0.75"/>
					<right value="0px"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$TextDefaultWhite"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="text" value="tr('IDS_SHIPS')+tr('IDS_COLON')+ ' ' + playerShips.length"/>
			</block>
			<block type="text">
				<bind name="visible" value="feature_17 != 'locked'"/>
				<style>
					<alpha value="0.75"/>
					<right value="0px"/>
					<marginTop value="-6px"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$TextDefaultWhite"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="text" value="tr('IDS_FREE_SLOTS')+' '+accountResourceInfo.slotsNum"/>
			</block>
		</block>
	</block>
	<block className="CarouselItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="dataRefDH" value="'shipEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'excludedMain'; ['shipEntity.mainShipFilter.evUpdate']; shipEntity.mainShipFilter.excluded"/>
		<bind name="watchDH" value="'excludedSSE'; ['shipEntity.shipFilterSSE.evUpdate']; shipEntity.shipFilterSSE.excluded"/>
		<bind name="watch" value="'excluded'; shipFilterId == CC.mainShipFilter ? excludedMain :  excludedSSE"/>
		<bind name="watchDH" value="'isNeedRepair'; ['shipEntity.ownShip.evUpdate']; shipEntity.ownShip.isNeedRepair"/>
		<bind name="watchDH" value="'isNeedShell'; ['shipEntity.ownShip.evUpdate']; shipEntity.ownShip.isNeedShell"/>
		<bind name="watchDH" value="'isLocked'; ['shipEntity.ownShip.evUpdate']; shipEntity.ownShip.isLocked"/>
		<bind name="watchDH" value="'isInFormation'; ['shipEntity.ownShip.evUpdate']; shipEntity.ownShip.isInFormation"/>
		<bind name="watchDH" value="'isDownloaded'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent.isDownloaded"/>
		<bind name="watchDH" value="'flagName'; ['shipEntity.ship.evUpdate']; shipEntity.ship.flagName"/>
		<bind name="watchDH" value="'shipType'; ['shipEntity.ship.evUpdate']; shipEntity.ship.shipType"/>
		<bind name="watchDH" value="'levelRome'; ['shipEntity.ship.evUpdate']; shipEntity.ship.levelRome"/>
		<bind name="watchDH" value="'fullName'; ['shipEntity.ship.evUpdate']; shipEntity.ship.fullName"/>
		<bind name="watchDH" value="'shipId'; []; shipEntity.ship.id"/>
		<bind name="name" value="'carouselItem' + fullName"/>
		<bind name="watch" value="'isSelected'; shipId == _selectedShipId"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="feature" value="'17'; ''"/>
		<bind name="action" value="'click'; 'selectShip'; {shipId: shipId}"/>
		<style>
			<width value="216px"/>
		</style>
		<bind name="style" value="'height'; _isSmallCarouselView ? '63px' : '126px'"/>
		<block>
			<bind name="style" value="'alpha'; !excluded ? 1 : 0.3"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<block className="BlurMap">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="dock_thumb_normal_9s" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="tooltip" value="'ShipExtendedTooltip';
											{shipId: shipId,
											_needService: (isNeedRepair || isNeedShell),
											_isLocked: isLocked
											}; 1"/>
				<bind name="menu" value="'ShipTreeMenu'; { shipId: shipId }"/>
				<bind name="doubleClickEnabled" value="feature_17 != 'locked' ? true : false"/>
				<bind name="action" value="'doubleClick'; 'changeInset'; { inset: LobbyConstants.SHIP_MODULES }"/>
				<bind name="soundSet" value="'carousel_item'"/>
				<bind name="selected" value="isSelected"/>
				<bind name="name" value="'carouselItem' + fullName + '_indicator'"/>
			</block>
			<block>
				<bind name="instance" value="'ShipCarouselSlotWrapper';
				{
					_isSmallCarouselView : _isSmallCarouselView,
					_data : {
						isNeedRepair: isNeedRepair,
						isNeedShell: isNeedShell,
						isLocked: isLocked,
						shipCountry: flagName,
						shipId: shipId,
						shipType: shipType,
						shipLevelRome: levelRome,
						rollOver: rollOver,
						isInFormation: isInFormation,
						isDownloaded: isDownloaded,
						isFull: slimClientData.isFull,
						_selected: isSelected,
						_rollOver: rollOver,
						_mouseDown: mouseDown
					}
				}"/>
			</block>
		</block>
	</block>
	<block className="ShipCarouselSlotWrapper">
		<bind name="child" value="_isSmallCarouselView; _data; 'ShipCarouselDefaultSlot'; 'ShipCarouselSmallSlot'"/>
	</block>
	<css name="$CarouselServiceBlock">
		<marginBottom value="3px"/>
		<height value="120px"/>
		<width value="204px"/>
		<marginLeft value="8px"/>
		<marginRight value="8px"/>
		<marginTop value="3px"/>
	</css>
	<css name="$CarouselServiceBlockSmall">
		<marginBottom value="3px"/>
		<height value="88px"/>
		<width value="204px"/>
		<marginLeft value="8px"/>
		<marginRight value="8px"/>
		<marginTop value="3px"/>
	</css>
	<block className="ShipCarouselPurchaseShip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate,freeExpUpdate,slotsNumUpdate'"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="class" value="curRowCountIndex == 1 ? '$CarouselServiceBlockSmall' : '$CarouselServiceBlock'"/>
		<block className="inner_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<block>
				<style>
					<width value="190px"/>
				</style>
				<block className="button_dock" type="native">
					<bind name="tooltip" value="'PurchaseShipTooltip'; {}; 1"/>
					<style>
						<width value="100%"/>
						<height value="30px"/>
					</style>
					<bind name="enabled" value="_enabled"/>
					<bind name="action" value="'buttonClick'; 'changeInset'; { inset: LobbyConstants.SHIP_RESEARCH_TREE }"/>
					<block>
						<style>
							<marginTop value="8px"/>
						</style>
						<styleClass value="$MiddleAligned"/>
						<style>
							<mouseEnabled value="false"/>
							<mouseChildren value="false"/>
						</style>
						<block type="text">
							<styleClass value="$TextDefaultBold"/>
							<styleClass value="$MiddleVAligned"/>
							<text value="IDS_PURCHASE_SHIP_UPPER_CASE"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
			<block>
				<bind name="visible" value="accountResourceInfo.slotsNum &gt; 0"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<hitTest value="false"/>
					<marginTop value="-6px"/>
				</style>
				<block type="text">
					<bind name="name" value="'ShipCarouselFreeSlots'"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="tr('IDS_FREE_SLOTS')  + ' ' + accountResourceInfo.slotsNum"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="accountResourceInfo.slotsNum == 0"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<hitTest value="false"/>
					<marginTop value="-8px"/>
				</style>
				<bind name="instance" value="'StatusLineWithIcon'; { _text: 'IDS_NO_FREE_SLOTS', _bold: true }"/>
			</block>
		</block>
	</block>
	<block className="ShipCarouselPurchaseShipSlot">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'SLOT_COST'; 'slotPrice'"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'curRowCountIndex'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="class" value="curRowCountIndex == 1 ? '$CarouselServiceBlockSmall' : '$CarouselServiceBlock'"/>
		<block className="inner_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAligned"/>
			<block>
				<style>
					<width value="190px"/>
				</style>
				<block className="button_dock" type="native">
					<bind name="tooltip" value="'PurchaseSlotTooltip'; {}; 1"/>
					<style>
						<width value="100%"/>
						<height value="30px"/>
					</style>
					<bind name="enabled" value="_enabled"/>
					<bind name="name" value="'buttonBuySlots'"/>
					<bind name="input"/>
					<block>
						<style>
							<marginTop value="8px"/>
						</style>
						<styleClass value="$MiddleAligned"/>
						<style>
							<mouseEnabled value="false"/>
							<mouseChildren value="false"/>
						</style>
						<block type="text">
							<styleClass value="$TextDefaultBold"/>
							<styleClass value="$MiddleVAligned"/>
							<text value="IDS_PURCHASE_SLOT_FOR_UPPER_CASE"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="-6px"/>
				</style>
				<bind name="instance" value="'PriceTag'; { priceInfo: slotPrice.prices[0], _showDiscountTag:true}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ShipCarouselDefaultSlot">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<style>
			<width value="204px"/>
			<height value="120px"/>
		</style>
		<bind name="transition" value="_selected; 0.15; {width: 204, height: 120}; {width: 216, height: 126}"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipEntity.ownShip.evUpdate', 'shipEntity.ownShip.evCrewChanged']; shipEntity.ownShip"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<block className="thumb_hl_red" type="native">
			<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked) ? 1 : 0"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="selected" value="_selected"/>
			<bind name="visible" value="(isNeedRepair) || (isNeedShell) || (!isDownloaded)"/>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<block>
				<style>
					<position value="absolute"/>
					<left value="2px"/>
					<top value="2px"/>
					<alpha value="0.5"/>
					<width value="196px"/>
					<height value="118px"/>
					<hitTest value="false"/>
				</style>
				<bind name="transition" value="!_selected; 0.15; {width: 208, height: 126}; {width: 196, height: 118}"/>
				<bind name="instance" value="'NationFlagsBig'; {_width: '100%', _height: '100%', shipCountry: shipInfo.flagName}"/>
			</block>
			<block>
				<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || (!isDownloaded) || (playerShipInfo.crewId == 0)) ? 0.3 : 1"/>
				<style>
					<width value="204px"/>
					<height value="120px"/>
					<backgroundStretchX value="true"/>
					<backgroundStretchY value="true"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathPreview"/>
				<bind name="transition" value="_selected; 0.15; {width: 204, height: 120}; {width: 214, height: 126}"/>
			</block>
			<block>
				<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_TOOLTIP_PRIMARY_SHIP', tooltipSubText: 'IDS_TOOLTIP_PRIMARY_SHIP_DESCRIPTION'}"/>
				<style>
					<position value="absolute"/>
					<right value="-1px"/>
					<top value="-1px"/>
				</style>
				<bind name="visible" value="playerShipInfo.isPrimary"/>
				<block className="icon_primary_ribbon" type="native"/>
			</block>
			<block>
				<bind name="visible" value="(playerShipInfo.timeRent &gt; 0)"/>
				<bind name="name" value="'timeRent_' + shipInfo.fullName"/>
				<style>
					<position value="absolute"/>
					<right value="3px"/>
					<top value="3px"/>
				</style>
				<bind name="instance" value="'RentTimer'; (playerShipInfo.timeRent &gt; 0) ? {_timeRent: playerShipInfo.timeRent} : null"/>
			</block>
			<block>
				<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || (!isDownloaded) || (playerShipInfo.crewId == 0)) ? 0.3 : 1"/>
				<styleClass value="$Fullsize"/>
				<style>
					<marginLeft value="8px"/>
					<marginTop value="4px"/>
					<marginRight value="8px"/>
					<marginBottom value="4px"/>
					<hitTest value="false"/>
				</style>
				<block>
					<style>
						<height value="20px"/>
					</style>
					<block className="icon_wreath" type="native">
						<bind name="name" value="upgradableShipInfo.isElite ? 'CarouselShipElite_' + shipInfo.fullName : '' "/>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<position value="absolute"/>
							<left value="-5px"/>
						</style>
						<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
						<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
										shipInfo.isPremium 	? 'premium'
															: 'elite'"/>
					</block>
					<block className="icon_ship" type="native">
						<styleClass value="$MiddleVAligned"/>
						<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: shipTypeIDS}; 0"/>
					</block>
					<block type="text">
						<styleClass value="$TextSecondaryBold"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
						<style>
							<marginTop value="-1px"/>
							<marginLeft value="3px"/>
							<marginRight value="3px"/>
						</style>
						<bind name="text" value="shipLevelRome"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="2px"/>
						<right value="0"/>
					</style>
					<block type="text">
						<style>
							<width value="115px"/>
							<textAlign value="right"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextDefaultBold"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
						<bind name="text" value="toUpperCase(tr(shipInfo.nameIDS))"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || (playerShipInfo.crewId == 0) || (!isDownloaded)) ? 0.3 : 1"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; {_multiParagraphArray: [	{ _paragraphText: (playerShipInfo.remainingExpBonusWins &gt; 1) 	? subst('IDS_TOOLTIP_EXPERIENCE_MULTIPLIER', [], {_battleAmount: playerShipInfo.remainingExpBonusWins}, playerShipInfo.remainingExpBonusWins)
																																			: 'IDS_TOOLTIP_EXPERIENCE_MULTIPLIER_FIRST_WIN' },
																			{ _paragraphText: 'IDS_FIRST_WIN_HINT_EXT' }
																			], _maxWidth: 300}"/>
			<style>
				<position value="absolute"/>
				<bottom value="4px"/>
				<left value="8px"/>
			</style>
			<bind name="instance" value="'DoubleExperience';(playerShipInfo.expMultiply &gt; 1) ? { expMultiplyPercentsString : subst('%m',[playerShipInfo.expMultiply]) } : null"/>
		</block>
		<block>
			<bind name="name" value="'isLockedShip_' + shipInfo.fullName + '_' + isLocked"/>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
				<hitTest value="false"/>
			</style>
			<bind name="instance" value="'ShipCarouselSlotStatus'; (isNeedRepair || isNeedShell) &amp;&amp; !(_rollOver) &amp;&amp; !(_mouseDown) &amp;&amp; playerShipInfo.crewId != 0  ? { _status:  toUpperCase(tr('IDS_NEED_SERVICE')), isPositive: false}
																																			:  isInFormation ? { _status: toUpperCase(tr('IDS_READY_TO_BATTLE_IN_' + toUpperCase(divisionEntranceData.divisionType))) , isPositive: true }
																																			:  isLocked ? { _status: toUpperCase(tr('IDS_IN_BATTLE')), isPositive: false} 
																																			:  (playerShipInfo.crewId == 0) ? { _status: toUpperCase(tr('IDS_NO_CREW')), isPositive: false} : null "/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<width value="190px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'DockButtonCostMedium'; (isNeedRepair || isNeedShell) &amp;&amp; (playerShipInfo.creditsDeficit &lt;= 0) &amp;&amp; playerShipInfo.crewId != 0 ? { _label: 'IDS_SERVICE_C', priceInfo: {finalPrice: playerShipInfo.costTotal, currency: 'credits'}, _enabled: true, _action: 'serveShip', _actionParams: { shipId : playerShipInfo.id } } : null"/>
			<bind name="visible" value="(isNeedRepair || isNeedShell) &amp;&amp; _rollOver"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
				<hitTest value="false"/>
			</style>
			<bind name="instance" value="'CarouselNaturalIndicator'; (isNeedRepair || isNeedShell)  ? { _costCR: playerShipInfo.costTotal, _creditsDeficit: playerShipInfo.creditsDeficit} : null"/>
			<bind name="visible" value="(isNeedRepair || isNeedShell) &amp;&amp; (_rollOver) &amp;&amp; (playerShipInfo.creditsDeficit &gt; 0)"/>
		</block>
		<block>
			<bind name="visible" value="!(shipInfoSlim.isDownloaded)"/>
			<styleClass value="$MiddleVAlignedAbsolutely"/>
			<style>
				<left value="10px"/>
			</style>
			<bind name="instance" value="'IconSlimClient'; !(shipInfoSlim.isDownloaded) ? { _isEventLike: shipInfo.isEventLike } : null"/>
		</block>
	</block>
	<block className="ShipCarouselSmallSlot">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim''; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipEntity.ownShip.evUpdate', 'shipEntity.ownShip.evCrewChanged']; shipEntity.ownShip"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<style>
			<width value="204px"/>
			<height value="56px"/>
		</style>
		<bind name="transition" value="_selected; 0.15; {width: 204, height: 56}; {width: 216, height: 60}"/>
		<block className="thumb_hl_red" type="native">
			<bind name="visible" value="(isNeedRepair) || (isNeedShell)"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked) ? 1 : 0"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="selected" value="_selected"/>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<block>
				<style>
					<position value="absolute"/>
					<alpha value="0.6"/>
					<top value="2px"/>
					<width value="95px"/>
					<height value="56px"/>
					<hitTest value="false"/>
				</style>
				<bind name="transition" value="!_selected; 0.15; {width: 99, height: 60}; {width: 95, height: 56}"/>
				<bind name="instance" value="'NationFlagsSmall'; {_width: '100%', _height: '100%', shipCountry: shipCountry}"/>
			</block>
			<block>
				<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || (playerShipInfo.crewId == 0) || (!isDownloaded)) ? 0.3 : 1"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
					<marginLeft value="8px"/>
					<marginTop value="4px"/>
					<marginRight value="8px"/>
					<marginBottom value="4px"/>
					<marginBottom value="4px"/>
					<hitTest value="false"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
						<height value="20px"/>
						<marginTop value="2px"/>
					</style>
					<block className="icon_wreath" type="native">
						<bind name="name" value="upgradableShipInfo.isElite ? 'CarouselShipElite_' + shipInfo.fullName : '' "/>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<position value="absolute"/>
							<left value="-5px"/>
						</style>
						<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
						<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
										shipInfo.isPremium 	? 'premium'
															: 'elite'"/>
					</block>
					<block className="icon_ship" type="native">
						<styleClass value="$MiddleVAligned"/>
						<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: shipTypeIDS}; 0"/>
					</block>
					<block type="text">
						<styleClass value="$TextSecondaryBold"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
						<style>
							<marginTop value="-1px"/>
							<marginLeft value="3px"/>
							<marginRight value="3px"/>
							<width value="40px"/>
						</style>
						<bind name="text" value="shipLevelRome"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<right value="0px"/>
					</style>
					<bind name="instance" value="'ShipSilhouetteRightAligned'; {_shipID: shipInfo.id}"/>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="2px"/>
						<right value="0"/>
					</style>
					<block type="text">
						<style>
							<width value="115px"/>
							<textAlign value="right"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextDefaultBold"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
						<bind name="text" value="toUpperCase(tr(shipInfo.nameIDS))"/>
					</block>
				</block>
			</block>
			<block>
				<bind name="tooltip" value="'SubTextTooltip'; {tooltipText: 'IDS_TOOLTIP_PRIMARY_SHIP', tooltipSubText: 'IDS_TOOLTIP_PRIMARY_SHIP_DESCRIPTION'}"/>
				<style>
					<position value="absolute"/>
					<right value="-1px"/>
					<top value="-1px"/>
				</style>
				<bind name="visible" value="playerShipInfo.isPrimary"/>
				<block className="icon_primary_ribbon" type="native"/>
			</block>
			<block>
				<bind name="visible" value="(playerShipInfo.timeRent &gt; 0)"/>
				<bind name="name" value="'timeRent_' + shipInfo.fullName"/>
				<style>
					<position value="absolute"/>
					<right value="3px"/>
					<top value="3px"/>
				</style>
				<bind name="instance" value="'RentTimer'; (playerShipInfo.timeRent &gt; 0) ? {_timeRent: playerShipInfo.timeRent} : null"/>
			</block>
			<block>
				<bind name="style" value="'alpha'; (isNeedRepair || isNeedShell || isLocked || (playerShipInfo.crewId == 0) || (!isDownloaded)) ? 0.3 : 1"/>
				<bind name="tooltip" value="'MouseInstructionTooltip'; {_multiParagraphArray: [	{ _paragraphText: (playerShipInfo.remainingExpBonusWins &gt; 1) 	? subst('IDS_TOOLTIP_EXPERIENCE_MULTIPLIER', [], {_battleAmount: playerShipInfo.remainingExpBonusWins}, playerShipInfo.remainingExpBonusWins)
																																				: 'IDS_TOOLTIP_EXPERIENCE_MULTIPLIER_FIRST_WIN' },
																				{ _paragraphText: 'IDS_FIRST_WIN_HINT_EXT' }
																				], _maxWidth: 300}"/>
				<style>
					<position value="absolute"/>
					<bottom value="4px"/>
					<left value="4px"/>
				</style>
				<bind name="instance" value="'DoubleExperience';(playerShipInfo.expMultiply &gt; 1) ? { expMultiplyPercentsString : subst('%m',[playerShipInfo.expMultiply]) } : null"/>
			</block>
			<block>
				<styleClass value="$MiddleVAlignedAbsolutely"/>
				<style>
					<left value="10px"/>
				</style>
				<bind name="instance" value="'IconSlimClient'; !(shipInfoSlim.isDownloaded) ? { _isEventLike: shipInfo.isEventLike } : null"/>
			</block>
		</block>
		<block>
			<bind name="name" value="'isLockedShip_' + shipInfo.fullName + '_' + isLocked"/>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="instance" value="'ShipCarouselSlotStatus'; (isNeedRepair || isNeedShell) &amp;&amp; !(_rollOver) &amp;&amp; !(_mouseDown) &amp;&amp; playerShipInfo.crewId != 0	? { _status:  toUpperCase(tr('IDS_NEED_SERVICE')), isPositive: false}
																																			:  isInFormation ? { _status: toUpperCase(tr('IDS_READY_TO_BATTLE_IN_' + toUpperCase(divisionEntranceData.divisionType))), isPositive: true }
																																			:  isLocked ? { _status: toUpperCase(tr('IDS_IN_BATTLE')), isPositive: false}
																																			:  (playerShipInfo.crewId == 0) ? { _status: toUpperCase(tr('IDS_NO_CREW')), isPositive: false} : null "/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<width value="190px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'DockButtonCostMedium'; (isNeedRepair || isNeedShell) &amp;&amp; (playerShipInfo.creditsDeficit &lt;= 0) &amp;&amp; playerShipInfo.crewId != 0 ? { _label: 'IDS_SERVICE_C', priceInfo: {finalPrice: playerShipInfo.costTotal, currency: 'credits'}, _enabled: true, _action: 'serveShip', _actionParams: { shipId : playerShipInfo.id } } : null"/>
			<bind name="visible" value="(isNeedRepair || isNeedShell) &amp;&amp; _rollOver"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="instance" value="'CarouselNaturalIndicator'; (isNeedRepair || isNeedShell)  ? { _costCR: playerShipInfo.costTotal, _creditsDeficit: playerShipInfo.creditsDeficit} : null"/>
			<bind name="visible" value="(isNeedRepair || isNeedShell) &amp;&amp; (_rollOver) &amp;&amp; (playerShipInfo.creditsDeficit &gt; 0)"/>
		</block>
	</block>
	<block className="RentTimer">
		<bind name="appear" value="'addedToStage'; 0.1; 0.1; {alpha: 0}; {alpha: 1}; 0"/>
		<bind name="serverTime" value="'serverTime'"/>
		<bind name="watch" value="'daysTimeRent'; 	(((_timeRent - serverTime) / 86400) &gt;= 1)		? (((_timeRent - serverTime) - ((_timeRent - serverTime) % 86400)) / 86400)
																					: 0"/>
		<bind name="watch" value="'secondsToHours';	((_timeRent - serverTime) % 86400)"/>
		<bind name="watch" value="'hoursTimeRent'; 	((secondsToHours / 3600) &gt; 1)	? ((secondsToHours - (secondsToHours % 3600)) / 3600) :
									((secondsToHours / 3600) &gt; 0)	? 1
																	: 0"/>
		<bind name="countdown" value="_timeRent; 'fullTimeRent'; 'hh:mm:ss'"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_TOOLTIP_RENT_SHIP'}"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="visible" value="(daysTimeRent != 0)"/>
			<style>
				<marginRight value="2px"/>
				<marginTop value="-2px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<styleClass value="$FontColorGolden"/>
				<bind name="text" value="daysTimeRent"/>
			</block>
			<block type="text">
				<style>
					<marginLeft value="-2px"/>
				</style>
				<styleClass value="$TextDefaultBold"/>
				<styleClass value="$FontColorGolden"/>
				<bind name="pluralText" value="'IDS_PL_DAY_FULL_ACC'; daysTimeRent"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="((daysTimeRent != 0) &amp;&amp; (hoursTimeRent != 0))"/>
			<style>
				<marginRight value="2px"/>
				<marginLeft value="-2px"/>
				<marginTop value="-2px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<styleClass value="$FontColorGolden"/>
				<bind name="text" value="hoursTimeRent"/>
			</block>
			<block type="text">
				<style>
					<marginLeft value="-2px"/>
				</style>
				<styleClass value="$TextDefaultBold"/>
				<styleClass value="$FontColorGolden"/>
				<bind name="pluralText" value="'IDS_PL_HOUR_FULL_ACC'; hoursTimeRent"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block type="text">
			<bind name="visible" value="(daysTimeRent == 0)"/>
			<style>
				<width value="58px"/>
				<marginRight value="-2px"/>
				<marginTop value="-2px"/>
			</style>
			<styleClass value="$TextDefaultBold"/>
			<styleClass value="$FontColorGolden"/>
			<bind name="text" value="fullTimeRent"/>
		</block>
		<block>
			<block className="icon_rent" type="native"/>
		</block>
	</block>
	<block className="DoubleExperience">
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="icon_double_experience" type="native">
			<style>
				<marginTop value="4px"/>
			</style>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultBold"/>
			<styleClass value="$FontColorGold"/>
			<styleClass value="$FontSizeHeader5"/>
			<bind name="text" value="expMultiplyPercentsString"/>
		</block>
	</block>
	<block className="ShipCarouselSlotStatus">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<bind name="visible" value="!(dockDefaultValues.goToBattleState)"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 2"/>
		<block type="text">
			<style>
				<maxWidth value="150"/>
				<textAlign value="center"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextCarouselShipStatus"/>
			<bind name="class" value="isPositive ? '$FontColorComparePositive' : '$None'"/>
			<bind name="text" value="_status"/>
		</block>
	</block>
	<block className="CarouselNaturalIndicator">
		<block>
			<block>
				<block type="text">
					<styleClass value="$TextSmallWhite"/>
					<text value="IDS_SERVICE_COST"/>
				</block>
			</block>
			<block>
				<bind name="instance" value="'CostCRNano';  { _class: '$TextSecondary', _costCR: _costCR } "/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<marginTop value="-6px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'CRDeficitNano';  { _creditsDeficit: _creditsDeficit } "/>
		</block>
	</block>
	<css name="$TextPriceDefault">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceDefaultGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceDefaultFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceDefaultDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextPriceLarge">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceLargeGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceLargeFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceMedium">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceMediumGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceMediumFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceMediumDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextPriceLargeDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextPriceSmall">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceSmallGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceSmallFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceSmallDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<block className="PriceTag">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="visible" value="priceInfo.basePrice != null &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) &amp;&amp; (_showDiscountTag == true)"/>
			<bind name="tooltip" value="'DiscountTooltip'; { priceInfo: priceInfo, _customLabel: _customLabel, _isExternal: _isExternal }"/>
			<bind name="name" value="'icon_discount_' + priceInfo.id"/>
			<block className="icon_discount" type="native">
				<style>
					<marginTop value="4px"/>
					<marginRight value="-3px"/>
				</style>
				<bind name="gotoAndStop!" value="_large || _medium ? 'large' : 'normal'"/>
			</block>
		</block>
		<block>
			<bind name="name" value="'price_' + priceInfo.id"/>
			<bind name="instance" value="'InvertableTextLine'; { _name: _name,
												_text: (_isNextPriceInARow ? (tr('IDS_AND') + ' ') : '') + format(priceInfo.finalPrice, -1) + (priceInfo.currency == 'money' ? ' ' + tr(priceInfo.currencyIds) : ''), 
												_invert: _deficit &gt; 0, 
												_normalClass:
															_large		?	(priceInfo.currency == 'gold' ? '$TextPriceLargeGold' : priceInfo.currency == 'freexp' ? '$TextPriceLargeFreeExp' : '$TextPriceLarge')
															: _medium 	? 	(priceInfo.currency == 'gold' ? '$TextPriceMediumGold' : priceInfo.currency == 'freexp' ? '$TextPriceMediumFreeExp' : '$TextPriceMedium')
															: _small		?	(priceInfo.currency == 'gold' ? '$TextPriceSmallGold' : priceInfo.currency == 'freexp' ? '$TextPriceSmallFreeExp' : '$TextPriceSmall')
															: (priceInfo.currency == 'gold' ? '$TextPriceDefaultGold' : priceInfo.currency == 'freexp' ? '$TextPriceDefaultFreeExp' :'$TextPriceDefault'), 
												_invertedClass:
															_large		?	'$TextPriceLargeDeficit' 
															: _medium	?	'$TextPriceMediumDeficit'
															: _small	?	'$TextPriceSmallDeficit' 
															: '$TextPriceDefaultDeficit' }"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'Currency'; (priceInfo.currency != 'money') ? { _currency: priceInfo.currency, _large: _large, _medium: _medium } : null"/>
		</block>
	</block>
	<block className="Currency">
		<bind name="style" value="'marginBottom'; _large || _medium ? '1px' : '0px'"/>
		<block className="icon_currency" type="native">
			<bind name="gotoAndStop!" value="_large || _medium ? _currency + '_large' : _currency"/>
		</block>
	</block>
	<block className="AlterablePriceTag">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate,freeExpUpdate'"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="visible" value="(_prices[_selectedPriceIndex].basePrice != null) &amp;&amp; (_prices[_selectedPriceIndex].finalPrice != _prices[_selectedPriceIndex].basePrice) &amp;&amp; _showDiscountTag == true"/>
			<bind name="tooltip" value="'DiscountTooltip'; { priceInfo: _prices[_selectedPriceIndex] }"/>
			<block className="icon_discount" type="native">
				<style>
					<marginRight value="-6px"/>
				</style>
				<bind name="gotoAndStop!" value="_large || _medium ? 'large' : 'normal'"/>
			</block>
		</block>
		<block className="button_dock" type="native">
			<style>
				<flow value="horizontal"/>
			</style>
			<bind name="style" value="'mouseEnabled'; _prices.length &gt; 1"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; ( _tooltipText != null )	? { _multiParagraphArray:  [{_paragraphText: _tooltipText}],
																				_mouseInstructions:	[{_type: 'left', _instructionText: 'IDS_HINT_CURRENCY_CHOICE'} ], _maxWidth: 250 }
																			: { _mouseInstructions:	[{_type: 'left', _instructionText: 'IDS_HINT_CURRENCY_CHOICE'} ], _maxWidth: 250 }"/>
			<bind name="tooltip" value="'PriceSelectionMenu'; {_prices: _prices, _showDiscountTag: _showDiscountTag, _selectedPriceIndex: _selectedPriceIndex, _large: _large}; TooltipBehaviour.verticalInfoWidget"/>
			<block>
				<style>
					<marginTop value="0px"/>
					<marginBottom value="3px"/>
					<marginLeft value="3px"/>
					<marginRight value="1px"/>
					<hitTest value="false"/>
				</style>
				<bind name="instance" value="'PriceTag'; { 	priceInfo: _prices[_selectedPriceIndex], _showDiscountTag: false, 
											_small: _small, _medium: _medium, _large: _large, 
											_deficit: _prices[_selectedPriceIndex].finalPrice - accountResourceInfo[_prices[_selectedPriceIndex].currency] }"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MouseDisable"/>
				<bind name="visible" value="_prices.length &gt; 1"/>
				<style>
					<marginRight value="3px"/>
					<hitTest value="false"/>
				</style>
				<block className="icon_navigate" type="native">
					<bind name="gotoAndStop!" value="'down'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="PriceSelectionMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-9px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-19px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<bind name="repeat" value="_prices; 'PriceSelectionMenuItem'; { _showDiscountTag: _showDiscountTag, _selectedPriceIndex: _selectedPriceIndex, _large: _large }"/>
	</block>
	<block className="PriceSelectionMenuItem">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate,freeExpUpdate'"/>
		<bind name="style" value="'width'; _large ? '140px' : '100px'"/>
		<bind name="style" value="'height'; _large ? '36px' : '24px'"/>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<params>
				<param name="soundSet" value="dropmenu_button"/>
			</params>
			<bind name="selected" value="_selectedPriceIndex == $index"/>
			<bind name="dispatch" value="'buttonClick'; 'selectedPriceChanged'; { selectedPriceIndex: $index }"/>
			<bind name="name" value="'selectablePrice_' + $index"/>
			<bind name="tooltip" value="'DiscountTooltip'; (basePrice != null) &amp;&amp; (finalPrice != basePrice) ? { priceInfo: {	currency: currency, finalPrice: finalPrice,
																											basePrice: basePrice, till: till,
																											discountEventName: discountEventName}}
																							: null"/>
		</block>
		<block>
			<styleClass value="$MouseDisable"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<right value="3px"/>
			</style>
			<bind name="instance" value="'PriceTag'; { priceInfo: { 	currency: currency,
													finalPrice: finalPrice,
													basePrice: basePrice,
													till: till,
													discountEventName: discountEventName }, 
									_deficit: finalPrice - accountResourceInfo[currency],
									_showDiscountTag: _showDiscountTag, _large: _large }"/>
		</block>
	</block>
	<block className="PriceDeficit">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_warning_red" type="native">
				<bind name="style" value="'marginTop'; _large ? '5px' : '0px'"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextDefault"/>
			<bind name="class" value="	_large ? '$FontSizeHeader6':
						_medium ? '$FontSizeLarge' :
						_small ? '$FontSizeSmall' : '$None'"/>
			<bind name="class" value="'$FontColorCompareNegative'"/>
			<text value="IDS_NOT_ENOUGH"/>
		</block>
		<block type="text">
			<bind name="style" value="'marginLeft'; _large ? '2px' : '0px'"/>
			<styleClass value="$TextDefaultBold"/>
			<bind name="class" value="'$FontColorCompareNegative'"/>
			<bind name="class" value="	_large ? '$FontSizeHeader6':
						_medium ? '$FontSizeLarge' :
						_small ? '$FontSizeSmall' : '$None'"/>
			<bind name="text" value="format(_deficit, -1)"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="style" value="'marginLeft'; _large ? '-2px' : '0px'"/>
			<bind name="instance" value="'Currency'; (priceInfo.currency != 'money') ? { _currency: priceInfo.currency, _large: _large, _medium: _medium } : null"/>
		</block>
	</block>
	<block className="PriceInLine">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="	_large ? '$FontSizeHeader6':
							_medium ? '$FontSizeLarge' :
							_small ? '$FontSizeSmall' : '$None'"/>
				<bind name="text" value="_customLabel 	? _customLabel
										: priceInfo.currency == 'credits' || priceInfo.currency == 'gold' ? 'IDS_PURCHASE_COST'
										: 'IDS_RESEARCH_COST'"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$AlignRight"/>
				<bind name="instance" value="'PriceTag'; { priceInfo: priceInfo, _deficit: _deficit, _showDiscountTag: _showDiscountTag, _medium: _medium }"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="priceInfo.finalPrice != priceInfo.basePrice "/>
			<bind name="countdown" value="priceInfo.till; 'timeLeft'; 'HIGHEST'; ''; ''; 'rawTimeLeft'"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<maxWidth value="175"/>
					<leading value="-3"/>
				</style>
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="rawTimeLeft &gt; 0 ? tr('IDS_SHARE_ENDS_IN') + ' ' + timeLeft : tr('IDS_SHARE_IS_EXPIRING_WARNING')"/>
			</block>
			<block>
				<bind name="visible" value="priceInfo.basePrice != 0"/>
				<styleClass value="$AlignRight"/>
				<bind name="style" value="'right'; _medium ? '23px' : '15px'"/>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="format(priceInfo.basePrice, -1)"/>
				</block>
				<block className="icon_price_strikethrough" type="native">
					<style>
						<width value="110%"/>
						<height value="40%"/>
						<top value="60%"/>
						<marginTop value="-50%"/>
						<position value="absolute"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="PriceTagWithLabel">
		<block>
			<style>
				<flow value="horizontal"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="	_large ? '$FontSizeHeader3':
							_medium ? '$FontSizeLarge' :
							_small ? '$FontSizeSmall' : '$None'"/>
				<bind name="class" value="_techText ? '$FontColorBlueish' : '$None'"/>
				<bind name="class" value="_bold ? '$FontFamilyDefaultBold' : '$None'"/>
				<bind name="text" value="_label"/>
			</block>
			<block>
				<style>
					<marginLeft value="4px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'PriceTag'; { priceInfo: priceInfo, _deficit: _deficit , _large: _large, _medium: _medium, _small: _small, _showDiscountTag: _showDiscountTag}"/>
			</block>
		</block>
	</block>
	<block className="DiscountTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<styleClass value="$DefaultTooltipWidth"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<position value="absolute"/>
			</style>
			<styleClass value="$Fullsize"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block className="icon_discount" type="native">
				<styleClass value="$MiddleVAligned"/>
				<bind name="gotoAndStop!" value=" _large ? 'large':'normal'"/>
			</block>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontColorGolden'"/>
				<bind name="text" value="priceInfo.discountEventName ? priceInfo.discountEventName : 'IDS_SHARE'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<style>
				<marginTop value="0px"/>
			</style>
			<bind name="instance" value="'PriceInLine'; { priceInfo: priceInfo, _showDiscountTag: _showDiscountTag, _customLabel: _customLabel }"/>
		</block>
		<block>
			<bind name="visible" value="(_isExternal == true)"/>
			<styleClass value="$InfoBlockIndent"/>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="-5px"/>
					<marginLeft value="-12px"/>
					<marginRight value="-12px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="'IDS_HINT_REDIRECT_TO_STORE'"/>
			</block>
		</block>
	</block>
	<block className="ParamsAfterMount">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginTop value="8px"/>
				<marginBottom value="3px"/>
			</style>
			<styleClass value="$TextDefault"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<bind name="text" value="_title"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
					<marginBottom value="1px"/>
					<marginTop value="3px"/>
				</style>
			</block>
			<bind name="instance" value="'ShipParamsTooltipListView'; { viewParams: _viewParams, _width: _width }"/>
		</block>
	</block>
	<css name="$TextModernizationCostCr">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextModernizationCostGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextModernizationCostDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<block className="ModernizationSlotInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<styleClass value="$VerticalInfotipBehaviourCenter"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="-13px"/>
				<marginRight value="-13px"/>
				<marginTop value="-9px"/>
				<marginBottom value="-18px"/>
			</style>
		</block>
		<block className="dock_panel_pin" type="native">
			<bind name="gotoAndStop!" value="'up'"/>
			<params>
				<param name="name" value="pinTop"/>
			</params>
			<style>
				<position value="absolute"/>
				<top value="-10px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="350px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="list; 'ModernizationSlotInfotipItem'"/>
			</block>
			<block>
				<bind name="visible" value="!(playerShipInfo.isLocked || playerShipInfo.isInFormation)"/>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorStrongBlueish'"/>
					<text value="IDS_CHOOSE_MODERNIZATION"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="!!(playerShipInfo.isLocked || playerShipInfo.isInFormation)"/>
				<styleClass value="$InfoBlockIndent"/>
				<block className="icon_warning_orange" type="native">
					<style>
						<marginTop value="4px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<style>
						<maxWidth value="300"/>
					</style>
					<bind name="class" value="'$FontColorUnready'"/>
					<bind name="text" value="playerShipInfo.isInFormation ? (divisionEntranceData.divisionType == 'party')	? 'IDS_SET_UNREADY_PARTY_FIRST_TO_BUY_MODERNIZATION'
																											: 'IDS_SET_UNREADY_DIVISION_FIRST_TO_BUY_MODERNIZATION'
														 : 'IDS_LEAVE_BATTLE_FIRST_TO_BUY_MODERNIZATION'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="dock_panel_pin" type="native">
				<bind name="gotoAndStop!" value="'down'"/>
				<params>
					<param name="name" value="pinBottom"/>
				</params>
				<style>
					<position value="absolute"/>
					<bottom value="-9"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ModernizationEmptySlotTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<styleClass value="$MouseDisable"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap3" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="350px"/>
				<marginTop value="9px"/>
			</style>
			<bind name="repeat" value="list; 'ModernizationSlotInfotipItem'; {_showInTooltip: true}"/>
		</block>
		<block>
			<bind name="visible" value="!(playerShipInfo.isLocked || playerShipInfo.isInFormation)"/>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'MouseInstruction'; { _type: 'left', _instructionText: 'IDS_TOOLTIP_EMPTY_SLOT', _maxWidth: 300 }"/>
		</block>
		<block>
			<bind name="visible" value="(playerShipInfo.isLocked || playerShipInfo.isInFormation)"/>
			<styleClass value="$InfoBlockIndent"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="4px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<style>
					<maxWidth value="300"/>
				</style>
				<bind name="class" value="'$FontColorUnready'"/>
				<bind name="text" value="playerShipInfo.isInFormation ? (divisionEntranceData.divisionType == 'party')	? 'IDS_SET_UNREADY_PARTY_FIRST_TO_BUY_MODERNIZATION'
																										: 'IDS_SET_UNREADY_DIVISION_FIRST_TO_BUY_MODERNIZATION'
													 : 'IDS_LEAVE_BATTLE_FIRST_TO_BUY_MODERNIZATION'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ModernizationSlotInfotipItem">
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'MODS_COST_Demontage'; 'unmountPrice'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + modNumericId; 'priceInfoSet'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_INFO + 'SELL_COEF'; 'sellCoef'"/>
		<bind name="var" value="{unmountCost:unmountPrice.prices[0].finalPrice}"/>
		<bind name="catch" value="'selectedPriceChanged'"/>
		<bind name="var" value="{ selectedPriceIndex: 0 }"/>
		<bind name="watch" value="'validSelectedPriceIndex'; selectedPriceIndex &gt;= priceInfoSet.prices.length ? 0 : selectedPriceIndex"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="name" value="title"/>
		<style>
			<width value="100%"/>
			<height value="70px"/>
		</style>
		<block>
			<bind name="tooltip" value="'ModernizationTooltip'; {installed:installed, iconPath: iconPath, title: title, paramsList:paramsList, numInStorage:numInStorage, tooltiptype: 0, priceInfoSet: priceInfoSet, _modId: modId}; 0"/>
			<styleClass value="$Fullsize"/>
			<block>
				<bind name="request" value="'click'; !(playerShipInfo.isLocked) ? 'modernizationClicked' : null; {modId:modId, slotId:slotId, selectedCurrency: priceInfoSet.prices[validSelectedPriceIndex].currencyID, selectedPriceIndex: validSelectedPriceIndex}"/>
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<bind name="menu" value="'SelectUnmountTypeInfotip'; !(playerShipInfo.isLocked)	? {sellCoef: sellCoef, numInStorage:numInStorage, installed:installed, modId:modId, slotId:slotId, _unmountPriceInfo: unmountPrice.prices[0], purchasePriceInfo: priceInfoSet.prices[validSelectedPriceIndex], selectedPriceIndex: validSelectedPriceIndex }
																					: null"/>
					<bind name="selected" value="installed"/>
					<styleClass value="$Fullsize"/>
					<params>
						<param name="soundSet" value="dropmenu_button"/>
					</params>
				</block>
			</block>
			<block>
				<styleClass value="$Fullsize"/>
				<style>
					<position value="absolute"/>
					<marginTop value="10px"/>
				</style>
				<block>
					<style>
						<width value="70px"/>
						<marginTop value="-6px"/>
						<hitTest value="false"/>
					</style>
					<block>
						<bind name="style" value="'backgroundImage'; 'url:' + iconPath"/>
						<styleClass value="$MiddleAligned"/>
						<style>
							<width value="60px"/>
							<height value="60px"/>
							<backgroundStretchX value="true"/>
							<backgroundStretchY value="true"/>
							<hitTest value="false"/>
						</style>
					</block>
				</block>
				<block>
					<bind name="class" value="playerShipInfo.isLocked ? '$MouseDisable' : '$MouseEnable'"/>
					<style>
						<width value="100%"/>
					</style>
					<block>
						<style>
							<width value="150px"/>
							<marginTop value="-5px"/>
						</style>
						<block type="text">
							<style>
								<width value="100%"/>
								<hitTest value="false"/>
							</style>
							<styleClass value="$TextDefaultBold"/>
							<bind name="text" value="'IDS_TITLE_' + toUpperCase(title)"/>
							<bind name="class" value="installed ? '$FontColorGolden' : '$FontColorWhite'"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="class" value="playerShipInfo.isLocked ? '$MouseDisable' : '$MouseEnable'"/>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<right value="10px"/>
			</style>
			<block>
				<style>
					<right value="0px"/>
					<marginTop value="6px"/>
					<width value="24px"/>
					<height value="24px"/>
				</style>
				<bind name="visible" value="installed &amp;&amp; rollOver &amp;&amp; !(playerShipInfo.isLocked)"/>
				<bind name="request" value="'click'; 'actionTypeChanged'; {flag:2, slotId:slotId, modId:modId, selectedCurrency:priceInfoSet.prices[validSelectedPriceIndex].currencyID, selectedPriceIndex: validSelectedPriceIndex}"/>
				<block className="button_cross" type="native">
					<bind name="name" value="'ButtonUnmount'"/>
					<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_INSTRUCTION_MODERNIZATION_UNMOUNT'}], _maxWidth: 250 }"/>
					<params>
						<param name="soundSet" value="dropmenu_button"/>
					</params>
				</block>
			</block>
			<block>
				<bind name="name" value="'installed_' + title"/>
				<style>
					<right value="6px"/>
					<marginTop value="12px"/>
				</style>
				<block className="icon_check" type="native"/>
				<bind name="visible" value="(installed &amp;&amp; !rollOver) || (playerShipInfo.isLocked &amp;&amp; installed)"/>
			</block>
			<block>
				<bind name="name" value="'bought_' + title"/>
				<bind name="visible" value="numInStorage &gt; 0 &amp;&amp; !installed"/>
				<style>
					<right value="0px"/>
					<marginTop value="6px"/>
					<hitTest value="false"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<text value="IDS_IN_WAREHOUSE"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<bind name="text" value="numInStorage"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="class" value="$parent.isLocked ? '$MouseDisable' : '$MouseEnable'"/>
			<bind name="visible" value="!installed &amp;&amp; (numInStorage == 0) &amp;&amp; !(_showInTooltip)"/>
			<style>
				<position value="absolute"/>
				<right value="12px"/>
				<marginTop value="5px"/>
			</style>
			<block>
				<style>
					<right value="0"/>
				</style>
				<bind name="instance" value="'AlterablePriceTag'; {_prices: priceInfoSet.prices, _showDiscountTag: true, _selectedPriceIndex: validSelectedPriceIndex}"/>
			</block>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<right value="12px"/>
				<marginTop value="6px"/>
			</style>
			<bind name="visible" value="!installed &amp;&amp; (numInStorage == 0) &amp;&amp; _showInTooltip"/>
			<block>
				<style>
					<right value="0px"/>
				</style>
				<bind name="visible" value="priceInfoSet.prices[0].finalPrice &gt; 0"/>
				<bind name="instance" value="'PriceTag'; { priceInfo:priceInfoSet.prices[0], _showDiscountTag:true}"/>
			</block>
			<block>
				<style>
					<marginTop value="3px"/>
				</style>
				<block type="text">
					<style>
						<marginRight value="3px"/>
					</style>
					<bind name="visible" value="(priceInfoSet.prices.length &gt; 1) &amp;&amp; (priceInfoSet.prices[1].finalPrice &gt; 0)"/>
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<text value="IDS_OR"/>
				</block>
				<block>
					<bind name="visible" value="(priceInfoSet.prices.length &gt; 1) &amp;&amp; (priceInfoSet.prices[1].finalPrice &gt; 0)"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="instance" value="'PriceTag'; { priceInfo:priceInfoSet.prices[1], _showDiscountTag:true }"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<bottom value="0px"/>
				<position value="absolute"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModernizationTooltip">
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="changeDispatch" value="shipId + _modId; 'evCompareChanged'"/>
		<bind name="dispatch" value="'Tooltip.selfOpened'; 'evCompareChanged'"/>
		<bind name="action" value="'evCompareChanged'; 'getShipWithUpgrade'; {id: _modId, type : 'modernization', shipId: shipId}"/>
		<bind name="primaryEntityDH" value="'compareItemEntity'; CC.compareItem; 'modernization_' + _modId"/>
		<bind name="watchDH" value="'modernizationCompare'; ['compareItemEntity.compareItem.evUpdate']; compareItemEntity.dataComponent.data"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<styleClass value="$MouseDisable"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap3" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<width value="300px"/>
			</style>
			<block>
				<style>
					<marginLeft value="4px"/>
					<marginRight value="4px"/>
					<marginTop value="9px"/>
					<marginBottom value="8px"/>
				</style>
				<block>
					<style>
						<width value="70px"/>
					</style>
					<block>
						<bind name="style" value="'backgroundImage'; 'url:' + iconPath"/>
						<styleClass value="$MiddleAligned"/>
						<style>
							<width value="60px"/>
							<height value="60px"/>
							<backgroundStretchX value="true"/>
							<backgroundStretchY value="true"/>
						</style>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<block>
						<style>
							<width value="200px"/>
						</style>
						<block type="text">
							<style>
								<width value="100%"/>
							</style>
							<styleClass value="$TextDefaultBold"/>
							<bind name="text" value="'IDS_TITLE_' + toUpperCase(title)"/>
							<bind name="class" value="installed ? '$FontColorGolden' : '$FontColorWhite'"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<bind name="visible" value="(numInStorage &gt; 0) &amp;&amp; !(installed)"/>
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="text" value="tr('IDS_IN_WAREHOUSE') + ' ' + numInStorage"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="2px"/>
					</style>
					<bind name="visible" value="installed"/>
					<block className="icon_check" type="native">
						<styleClass value="$MiddleVAligned"/>
					</block>
					<block type="text">
						<style>
							<marginLeft value="4px"/>
						</style>
						<styleClass value="$TextDefault"/>
						<styleClass value="$MiddleVAligned"/>
						<bind name="class" value="'$FontColorGolden'"/>
						<text value="IDS_MODERNIZATION_IS_INSTALLED"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="visible" value="numInStorage == 0 &amp;&amp; !(installed)"/>
					<block>
						<bind name="visible" value="priceInfoSet.prices[0].finalPrice &gt; 0"/>
						<styleClass value="$MiddleVAligned"/>
						<bind name="instance" value="'PriceTagWithLabel'; { priceInfo:priceInfoSet.prices[0], _showDiscountTag:true, _label: 'IDS_PURCHASE_COST'}"/>
					</block>
					<block type="text">
						<bind name="visible" value="(priceInfoSet.prices.length &gt; 1) &amp;&amp; (priceInfoSet.prices[1].finalPrice &gt; 0)"/>
						<styleClass value="$TextDefault"/>
						<styleClass value="$MiddleVAligned"/>
						<text value="IDS_OR"/>
					</block>
					<block>
						<bind name="visible" value="(priceInfoSet.prices.length &gt; 1) &amp;&amp; (priceInfoSet.prices[1].finalPrice &gt; 0)"/>
						<styleClass value="$MiddleVAligned"/>
						<bind name="instance" value="'PriceTag'; { priceInfo:priceInfoSet.prices[1], _showDiscountTag:true }"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$Fullsize"/>
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="13px"/>
						<marginRight value="13px"/>
						<marginTop value="6px"/>
					</style>
					<bind name="repeat" value="paramsList; 'ModernizationsParams'"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams; 0; null; 'tooltipShipParams'; playerShipInfo.params; modernizationCompare; 1; 0; null; 1; 1; 0"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'ParamsAfterMount'; !installed &amp;&amp; viewParams.hasDiff ? { _viewParams: 	viewParams,
																									_title: 'IDS_AFTER_MOUNT'}
																								 	: null"/>
			</block>
			<block>
				<bind name="visible" value="!(playerShipInfo.isLocked) &amp;&amp; (tooltiptype!='modalWindow')"/>
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'MouseInstruction'; !installed 	? { _type: 'left', _instructionText: 'IDS_INSTRUCTION_MODERNIZATION_PURCHASE_AND_INSTALL', _maxWidth: '270'} 
															: installed &amp;&amp; tooltiptype == 0 ? { _type: 'right', _instructionText: 'IDS_INSTRUCTION_MODERNIZATION_INSTALLED_ITEM', _maxWidth: '270'} 
																							: installed &amp;&amp; tooltiptype == 1 ? { _type: 'left', _instructionText: 'IDS_TOOLTIP_EMPTY_SLOT', _maxWidth: '270'}
																															: null"/>
			</block>
		</block>
	</block>
	<block className="SelectUnmountTypeInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<bind name="visible" value="installed"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="dock_submenu_item" type="native">
				<bind name="name" value="'RemoveInSelectUnmountTypeInfotip'"/>
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="request" value="'click'; 'actionTypeChanged'; {flag:2, modId:modId, slotId:slotId, selectedCurrency: purchasePriceInfo.currencyID, selectedPriceIndex: selectedPriceIndex }"/>
				<styleClass value="$ContextMenuListItem"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
						<right value="6px"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<text value="IDS_UNMOUNT"/>
					</block>
					<block>
						<bind name="instance" value="'PriceTag'; { 	priceInfo: _unmountPriceInfo, 
													_showDiscountTag: true, 
													_deficit: _unmountPriceInfo.finalPrice - accountResourceInfo[_unmountPriceInfo.currency] }"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block className="dock_submenu_item" type="native">
				<bind name="name" value="'DestroyInSelectUnmountTypeInfotip'"/>
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="request" value="'click'; 'actionTypeChanged'; {flag:8, slotId:slotId, modId:modId, selectedCurrency: purchasePriceInfo.currencyID, selectedPriceIndex: selectedPriceIndex }"/>
				<styleClass value="$ContextMenuListItem"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
						<right value="6px"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<style>
							<hitTest value="false"/>
						</style>
						<text value="IDS_SELL"/>
					</block>
					<block>
						<bind name="instance" value="'PriceTag'; { priceInfo:  {finalPrice: (purchasePriceInfo.finalPrice) * (sellCoef.prices[0].finalPrice), currency: 'credits'}}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="!installed"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="dock_submenu_item" type="native">
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="request" value="'click'; 'actionTypeChanged'; {flag:1, slotId:slotId, modId:modId, selectedCurrency: purchasePriceInfo.currencyID, selectedPriceIndex: selectedPriceIndex }"/>
				<styleClass value="$ContextMenuListItem"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
						<right value="6px"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<text value="IDS_INSTALL"/>
					</block>
					<block>
						<bind name="visible" value="numInStorage == 0"/>
						<bind name="instance" value="'PriceTag'; { priceInfo: purchasePriceInfo, _showDiscountTag:true }"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="SelectModarnizationActionInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountResourceInfo'; 'creditsUpdate,goldUpdate,freeExpUpdate,slotsNumUpdate'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + 'MODS_COST_Demontage'; 'unmountPrice'"/>
		<bind name="var" value="{unmountCost: unmountPrice.prices[0].finalPrice}"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginTop value="-9px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-19px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="168px"/>
			</style>
			<block className="dock_submenu_item" type="native">
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="dispatch" value="'click'; 'unmountTypeChanged'; {unmountFlag: LobbyConstants.MODERNIZATION_UNSET}"/>
				<bind name="selected" value="$parent.unmountFlag == LobbyConstants.MODERNIZATION_UNSET"/>
				<style>
					<width value="100%"/>
					<height value="24px"/>
				</style>
				<block>
					<style>
						<right value="2px"/>
						<hitTest value="false"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="$parent.unmountFlag == LobbyConstants.MODERNIZATION_UNSET ? '$Bold' : '$None'"/>
						<text value="IDS_UNMOUNT"/>
					</block>
					<block>
						<bind name="instance" value="'PriceTag'; { 	priceInfo: unmountPrice.prices[0], _showDiscountTag: true, 
													_deficit: unmountPrice.prices[0].finalPrice - accountResourceInfo[unmountPrice.prices[0].currency] }"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block className="dock_submenu_item" type="native">
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="dispatch" value="'click'; 'unmountTypeChanged'; {unmountFlag: LobbyConstants.MODERNIZATION_SELL}"/>
				<bind name="selected" value="$parent.unmountFlag == LobbyConstants.MODERNIZATION_SELL"/>
				<style>
					<width value="100%"/>
					<height value="24px"/>
				</style>
				<block>
					<bind name="visible" value="action == 0"/>
					<style>
						<right value="4px"/>
						<hitTest value="false"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<bind name="class" value="$parent.unmountFlag == LobbyConstants.MODERNIZATION_SELL ? '$Bold' : '$None'"/>
						<text value="IDS_SELL"/>
					</block>
					<block>
						<bind name="instance" value="'PriceTag'; {priceInfo: {finalPrice: sellCost, currency: 'credits'}}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="ModernizationsParams">
		<bind name="controller" value="lesta.unbound.core.UbController"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<marginBottom value="6px"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="percent &gt; 0 ? '+' + percent + '%' + ' ' + ids
									: percent &lt; 0 	? percent + '%' + ' '+ ids
													: percent == 0 ? ids
																	: ' '"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CarouselFilters">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="stageSize"/>
		<bind name="watch" value="'isFourRowsEnabled'; (stageHeight != null) ? (stageHeight &gt; (720 + 160)) : true"/>
		<bind name="watch" value="'isThreeRowsEnabled'; (stageHeight != null) ? (stageHeight &gt; (720 + 88)) : true"/>
		<bind name="watch" value="'curCarouselRows';	(userPrefs.curRowCountIndex == null)															? 0 :
									(userPrefs.curRowCountIndex == 2 &amp;&amp; isFourRowsEnabled)											? 2 :
									((userPrefs.curRowCountIndex == 2 || userPrefs.curRowCountIndex == 1) &amp;&amp; isThreeRowsEnabled)	? 1
																																	: 0"/>
		<bind name="action" value="'carouselRowsCountChangedByStageHeight'; 'setUserPref' ; {value : curCarouselRows, name: 'curRowCountIndex'}"/>
		<bind name="changeDispatch" value="curCarouselRows; 'carouselRowsCountChangedByStageHeight'"/>
		<bind name="feature" value="13;''"/>
		<bind name="action" value="(feature_13 == 'locked') ? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_WITH_COMMANDER', value: false }"/>
		<bind name="action" value="(feature_13 == 'locked') ? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_WITHOUT_COMMANDER', value: false }"/>
		<bind name="feature" value="16;''"/>
		<bind name="action" value="(feature_16 == 'locked') || (rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON)? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_RANKED_BATTLES', value: false }"/>
		<bind name="feature" value="19;''"/>
		<bind name="collectionDH" value="CC.clubsCommon; 'clubsCommonCollection'"/>
		<bind name="entityDH" value="'clubsCommonEntity'; clubsCommonCollection[0].id"/>
		<bind name="watchDH" value="'clubBattlesSeasonId'; ['clubsCommonEntity.clubsCommon.evRulesChanged']; clubsCommonEntity.clubsCommon.seasonId"/>
		<bind name="watchDH" value="'clubBattlesSeasonStage'; ['clubsCommonEntity.clubsCommon.evRulesChanged']; clubsCommonEntity.clubsCommon.stage"/>
		<bind name="action" value="feature_19 == 'locked' || clubBattlesSeasonId &lt;= 0 || clubBattlesSeasonStage != 2 ? 'addedToStage' : '';  'setFilterValue'; {type: 'special', field: 'IDS_CLUB_BATTLES', value: false }"/>
		<style>
			<marginLeft value="7px"/>
			<height value="30px"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="name" value="'CarouselFiltersButton'"/>
			<block className="button_carousel_filters" type="native">
				<bind name="tooltip" value="'CarouselFiltersInfotip'; {AppliedFiltersCounter: AppliedFiltersCounter, _isSmallCarouselView: isSmallCarouselView}; TooltipBehaviour.verticalInfotipSwitch; null; 'carouselFiltersInfotipIsVIsible'"/>
				<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_TOOLTIP_CAROUSEL_FILTERS'}], _maxWidth: 240 }"/>
				<bind name="selected" value="carouselFiltersInfotipIsVIsible"/>
			</block>
		</block>
		<bind name="catch" value="'shipNameFIlterInfotipSelectedChanged'"/>
		<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
		<bind name="watchDH" value="'selectedFilters'; ['panelEntity.filterPanelComponent.evUpdate']; panelEntity.filterPanelComponent.selectedFilters"/>
		<block>
			<style>
				<height value="32px"/>
				<marginTop value="-4px"/>
				<marginRight value="12px"/>
				<marginLeft value="4px"/>
			</style>
			<block>
				<bind name="instance" value="'AppliedFilter'; {_filterType: 'shipName', shipNameFIlterInfotipSelected: shipNameFIlterInfotipSelected}"/>
				<bind name="instance" value="'AppliedFilter'; {_filterType: 'level'}"/>
				<bind name="instance" value="'AppliedFilter'; {_filterType: 'shipType'}"/>
				<bind name="instance" value="'AppliedFilter'; {_filterType: 'nation'}"/>
				<bind name="instance" value="'AppliedFilter'; {_filterType: 'special'}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<bind name="instance" value="'ResetAllFilters'; selectedFilters.length &gt; 1 ? {} : null"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CarouselFiltersInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="firstEntityDH" value="'panelEntity'; CC.filterPanelComponent"/>
		<bind name="watchDH" value="'selectedFilters'; ['panelEntity.filterPanelComponent.evUpdate']; panelEntity.filterPanelComponent.selectedFilters"/>
		<styleClass value="$VerticalInfotipBehaviourCenterUpper"/>
		<bind name="dispatch" value="'carouselRowsCountChanged'; 'Tooltip.Place'; {}; 2; 0.15"/>
		<bind name="dispatch" value="'carouselViewChanged'; 'Tooltip.Place'; {}; 2; 0.15"/>
		<bind name="name" value="CarouselFiltersInfotipClip"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="8px"/>
				<marginRight value="13px"/>
				<marginTop value="9px"/>
				<marginBottom value="11px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginBottom value="-6px"/>
				<marginLeft value="-6px"/>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<style>
				<marginLeft value="9px"/>
				<marginRight value="13px"/>
				<marginTop value="10px"/>
			</style>
			<bind name="var" value="{isSearchingShipByName: false}"/>
			<bind name="catch" value="'searchShipButtonClicked'; {isSearchingShipByName: true}"/>
			<bind name="catch" value="'closeSearchField'; {isSearchingShipByName: false}"/>
			<bind name="catch" value="'TextInputWithCancel.shipSearchCancelled'; {isSearchingShipByName: false, inputStr: ''}"/>
			<bind name="watch" value="'shipSearchStringValue'; searchStr ? searchStr : false"/>
			<bind name="dispatch" value="'Tooltip.selfOpened'; shipSearchStringValue ? 'searchShipButtonClicked' : 'closeSearchField'"/>
			<bind name="dispatch" value="'Tooltip.selfClosed'; shipSearchStringValue ? null : 'closeSearchField'"/>
			<block>
				<style>
					<height value="34px"/>
					<width value="100%"/>
					<position value="absolute"/>
				</style>
				<block type="text">
					<style>
						<marginLeft value="12px"/>
						<marginTop value="3px"/>
					</style>
					<styleClass value="$TextHeaderBold"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="'IDS_FILTERS'"/>
				</block>
				<block>
					<style>
						<marginTop value="1px"/>
						<marginLeft value="6px"/>
					</style>
					<bind name="instance" value="'ResetAllFilters'; selectedFilters.length &gt; 0 ? {} : null"/>
				</block>
				<block className="button_search" type="native">
					<style>
						<right value="12px"/>
						<marginTop value="6px"/>
						<position value="absolute"/>
					</style>
					<bind name="visible" value="!(isSearchingShipByName)"/>
					<bind name="dispatch" value="'buttonClick';'searchShipButtonClicked'"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SEARCH_SHIP_BY_NAME'}"/>
				</block>
				<block>
					<bind name="visible" value="isSearchingShipByName"/>
					<bind name="collectionDH" value="CC.shipFilterItem; 'selectedItems'; 'shipName.selected'"/>
					<bind name="entityDH" value="'shipNameFilterEntity'; selectedItems[0].id"/>
					<bind name="watchDH" value="'searchStr'; ['shipNameFilterEntity.shipFilterItem.evUpdate']; shipNameFilterEntity.dataComponent.data.value"/>
					<style>
						<width value="284px"/>
						<position value="absolute"/>
						<top value="15px"/>
						<right value="0"/>
					</style>
					<bind name="instance" value="'TextInputWithCancelCustom'; isSearchingShipByName	?	{	onEnterEvent: 'startShipSearch',
																						onCancelEvent: 'shipSearchCancelled',
																						onInputStrChangedEvent: 'inputStrChanged',
																						_onEnterTooltipText: 'IDS_HINT_FIND',
																						_defaultInputValue: searchStr,
																						_maxChars: 20,
																						_tfWidth: '250px'}
																				: null"/>
					<bind name="watch" value="'strForSearch'; inputStr"/>
					<bind name="catch" value="'TextInputWithCancel.inputStrChanged'"/>
					<bind name="changeDispatch" value="strForSearch; 'strForChanged'"/>
					<bind name="action" value="'strForChanged'; 'setFilterValue' ; {type: 'shipName', field: 'IDS_SHIP_NAME_FILTER', value: strForSearch}"/>
				</block>
				<block>
					<style>
						<bottom value="0px"/>
						<position value="absolute"/>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<marginTop value="34px"/>
					<marginBottom value="36px"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<bind name="instance" value="'FilterBlock'; {_title: 'IDS_LEVEL', _filterType: 'level', needDivider: false}"/>
					<bind name="instance" value="'FilterBlock'; {_title: 'IDS_CLASS', _filterType: 'shipType', needDivider: true}"/>
					<bind name="instance" value="'FilterBlock'; {_title: 'IDS_NATION', _filterType: 'nation', needDivider: true}"/>
					<bind name="instance" value="'FilterBlock'; {_title: 'IDS_SPECIAL', _filterType: 'special', needDivider: true}"/>
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
					<bind name="firstEntityDH" value="'userTaskEntity'; CC.userTask"/>
					<bind name="watchDH" value="'peculiarities'; ['userTaskEntity.userTask.evFlagChanged']; userTaskEntity.userTask.pecularities"/>
					<bind name="instance" value="'PecularityShipsFilterBlock'; (peculiarities.length &gt; 0 &amp;&amp; slimClientData.isFull) 	? {_title: 'IDS_ADDITIONAL', needDivider: true}
																													: null"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<bottom value="-1px"/>
						<position value="absolute"/>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<style>
					<height value="36px"/>
					<width value="100%"/>
					<position value="absolute"/>
					<bottom value="0px"/>
				</style>
				<block>
					<style>
						<marginTop value="7px"/>
						<marginLeft value="12px"/>
					</style>
					<bind name="name" value="'SmallCarouselView'"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText:	(_isSmallCarouselView ?	'IDS_HINT_CHECKBOX_DISABLE_SMALL_VIEW' :
																						'IDS_HINT_CHECKBOX_ENABLE_SMALL_VIEW')}"/>
					<bind name="instance" value="'CheckBox'; {switchProperty: _isSmallCarouselView, label: 'IDS_SMALL_CAROUSEL_VIEW'}"/>
					<bind name="dispatch" value="'left_click'; 'carouselViewChanged'"/>
					<bind name="clickSplit"/>
				</block>
				<block>
					<bind name="style" value="'hitTest'; _isSmallCarouselView == true ? true : false"/>
					<bind name="transition" value="_isSmallCarouselView == true; 0.1; {alpha: 0}; {alpha: 1}"/>
					<bind name="instance" value="'CarouselRowsChooser'; {}"/>
				</block>
				<block>
					<style>
						<right value="12px"/>
						<position value="absolute"/>
					</style>
					<block type="text">
						<style>
							<marginTop value="4px"/>
						</style>
						<styleClass value="$TextHeaderBold"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="tr('IDS_SORTING_TYPE')+tr('IDS_COLON')"/>
					</block>
					<block>
						<bind name="name" value="'CarouselOrdering'"/>
						<style>
							<marginLeft value="2px"/>
							<marginTop value="3px"/>
						</style>
						<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
						<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
						<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
						<bind name="watch" value="'_curItemIndex';	(userPrefs.shipCarouselSortIndex == null) ? 0 : userPrefs.shipCarouselSortIndex"/>
						<bind name="action" value="'shipSortChanged'; 'setUserPref' ; {value: _curItemIndex, name: 'shipCarouselSortIndex'}"/>
						<bind name="catch" value="'ItemChooser.shipsSortSelected'"/>
						<bind name="watchDH" value="'shipSorter'; ['panelEntity.filterPanelComponent.evUpdate']; panelEntity.filterPanelComponent.sortFields"/>
						<bind name="instance" value="'ItemChooser'; {	_items: [shipSorter[0].ids, shipSorter[1].ids, shipSorter[2].ids, shipSorter[3].ids], curIndex: _curItemIndex,
														_choosedItemRenderer: 'LowerCaseTextChoosedItemRenderer', _listItemRenderer: 'LowerCaseTextListItemRenderer',
														onItemSelectedEvent: 'shipsSortSelected', _itemChooserTooltipText: 'IDS_HINT_SHIP_CAROUSEL_SORT'}"/>
						<bind name="changeDispatch" value="_curItemIndex; 'shipSortChanged'"/>
						<bind name="changeDispatch" value="_direction; 'shipSortChanged'"/>
						<bind name="action" value="'shipSortChanged'; 'setSortOrder'; {sortPriority: shipSorter[_curItemIndex].field, reverse: _direction}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block className="dock_panel_pin" type="native">
			<style>
				<marginLeft value="10px"/>
				<marginBottom value="3px"/>
				<alpha value="0.5"/>
			</style>
			<bind name="gotoAndStop!" value="'down'"/>
		</block>
	</block>
	<block className="TextInputWithCancelCustom">
		<styleClass value="$Fullsize"/>
		<bind name="var" value="{textInput: ''}"/>
		<bind name="catch" value="'removedFromStage'; {textInput: ''}"/>
		<bind name="changeDispatch" value="_defaultInputValue; 'setDefaultValue'"/>
		<bind name="catch" value="'setDefaultValue'; {textInput: _defaultInputValue}"/>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block className="text_input_caps_enter" type="native">
				<bind name="tooltip" value="'SimpleTooltip'; _tooltipText ? {tooltipText: _tooltipText} : null"/>
				<bind name="style" value="'width'; _tfWidth ? _tfWidth : '270px'"/>
				<params>
					<param name="actAsButton" value="true"/>
				</params>
				<bind name="maxChars" value="_maxChars ? _maxChars : 32"/>
				<bind name="defaultText" value="defaultText"/>
				<bind name="focus" value="0; true"/>
				<bind name="restrict" value="restrict"/>
				<bind name="text" value="textInput"/>
				<bind name="sync" value="'text'; 'change'; textInput"/>
				<bind name="dispatch" value="'change'; 'TextInputWithCancel.'+ onInputStrChangedEvent; {inputStr: textInput}"/>
				<bind name="dispatch" value="'textInputEnter'; 'TextInputWithCancel.' + onEnterEvent; {inputStr: textInput}"/>
				<block className="button_dock" type="native">
					<bind name="tooltip" value="'SimpleTooltip'; _onEnterTooltipText ? {tooltipText: _onEnterTooltipText} : null"/>
					<styleClass value="$TextInputEnterButton"/>
					<bind name="enabled" value="textInput.length &gt; 0"/>
					<bind name="dispatch" value="'buttonClick'; 'TextInputWithCancel.' + onEnterEvent; {inputStr: textInput}"/>
				</block>
			</block>
			<block className="button_close" type="native">
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_RESET_FILTER'}"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="6px"/>
				</style>
				<bind name="dispatch" value="'buttonClick'; 'TextInputWithCancel.' + onCancelEvent"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CarouselRowsChooser">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'_curItemIndex';	(userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="action" value="'carouselRowsCountChanged'; 'setUserPref' ; {value : _curItemIndex, name: 'curRowCountIndex'}"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="name" value="'CarouselRows'"/>
			<style>
				<marginLeft value="2px"/>
				<marginRight value="6px"/>
				<marginTop value="3px"/>
			</style>
			<bind name="catch" value="'ItemChooser.carouselRowsSelected'"/>
			<bind name="instance" value="'ItemChooser'; {	_items: ['2', '3', '4'], curIndex: _curItemIndex, _dropDownWidth: '50px',
											_choosedItemRenderer: 'LowerCaseTextChoosedItemRenderer', _listItemRenderer: 'CarouselShipRowsListItemRenderer',
											onItemSelectedEvent: 'carouselRowsSelected', _itemChooserTooltipText: 'IDS_HINT_ROWS_IN_CAROUSEL'}"/>
			<bind name="changeDispatch" value="_curItemIndex; 'carouselRowsCountChanged'"/>
		</block>
	</block>
	<block className="CarouselAppliedFilterInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$VerticalInfotipBehaviourCenterUpper"/>
		<bind name="name" value="'CarouselAppliedFilterInfotip'"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="8px"/>
				<marginRight value="13px"/>
				<marginTop value="9px"/>
				<marginBottom value="11px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginBottom value="-6px"/>
				<marginLeft value="-6px"/>
			</style>
		</block>
		<block>
			<style>
				<marginLeft value="9px"/>
				<marginRight value="13px"/>
				<marginTop value="10px"/>
			</style>
			<bind name="instance" value="'FilterBlock'; {_title: _title, _filterType: _filterType, needDivider: false}}"/>
		</block>
		<block className="dock_panel_pin" type="native">
			<style>
				<marginBottom value="3px"/>
				<alpha value="0.5"/>
			</style>
			<bind name="gotoAndStop!" value="'down'"/>
			<params>
				<param name="name" value="pinBottom"/>
			</params>
		</block>
	</block>
	<block className="CarouselAppliedFilterShipNameInfotip">
		<bind name="collectionDH" value="CC.shipFilterItem; 'selectedItems'; 'shipName.selected'"/>
		<bind name="entityDH" value="'shipNameFilterEntity'; selectedItems[0].id"/>
		<bind name="watchDH" value="'searchStr'; ['shipNameFilterEntity.shipFilterItem.evUpdate']; shipNameFilterEntity.dataComponent.data.value"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$VerticalInfotipBehaviourCenterUpper"/>
		<bind name="name" value="'CarouselAppliedFilterShipNameInfotip'"/>
		<style>
			<width value="305px"/>
			<height value="65px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginLeft value="8px"/>
				<marginRight value="13px"/>
				<marginTop value="9px"/>
				<marginBottom value="11px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginBottom value="-6px"/>
				<marginLeft value="-6px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="284px"/>
				<height value="40px"/>
				<marginTop value="11px"/>
				<right value="6px"/>
			</style>
			<bind name="instance" value="'TextInputWithCancelCustom'; {	onEnterEvent: 'startShipSearch',
													onCancelEvent: 'shipSearchCancelled',
													onInputStrChangedEvent: 'inputStrChanged',													
													_onEnterTooltipText: 'IDS_HINT_FIND',
													_defaultInputValue: searchStr,
													_maxChars: 20,
													_tfWidth: '250px'}"/>
			<bind name="watch" value="'strForSearch'; inputStr"/>
			<bind name="catch" value="'TextInputWithCancel.inputStrChanged'"/>
			<bind name="changeDispatch" value="strForSearch; 'strForChanged'"/>
			<bind name="catch" value="'TextInputWithCancel.shipSearchCancelled'; {inputStr: ''}"/>
			<bind name="action" value="'strForChanged'; 'setFilterValue' ; {type: 'shipName', field: 'IDS_SHIP_NAME_FILTER', value: strForSearch}"/>
			<bind name="dispatch" value="'TextInputWithCancel.shipSearchCancelled'; 'Tooltip.Close'; {}; false; 0.1"/>
		</block>
		<block className="dock_panel_pin" type="native">
			<style>
				<position value="absolute"/>
				<bottom value="3px"/>
				<alpha value="0.5"/>
			</style>
			<bind name="gotoAndStop!" value="'down'"/>
			<params>
				<param name="name" value="pinBottom"/>
			</params>
		</block>
	</block>
	<block className="FilterBlock">
		<bind name="collectionDH" value="CC.shipFilterItem; 'filters'; _filterType"/>
		<block type="text">
			<style>
				<marginTop value="5px"/>
				<marginBottom value="8px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="_title"/>
		</block>
		<block>
			<bind name="name" value="'FilterBlockValues'"/>
			<style>
				<flow value="vtile"/>
				<height value="155px"/>
				<marginLeft value="30px"/>
				<marginRight value="6px"/>
			</style>
			<bind name="repeat" value="filters; 'FilterItem'"/>
		</block>
		<block>
			<bind name="visible" value="needDivider == true"/>
			<style>
				<height value="100%"/>
				<position value="absolute"/>
			</style>
			<block className="divider_v" type="native">
				<style>
					<height value="100%"/>
				</style>
			</block>
		</block>
	</block>
	<block className="PecularityShipsFilterBlock">
		<bind name="firstEntityDH" value="'userTaskEntity'; CC.userTask"/>
		<bind name="watchDH" value="'peculiarities'; ['userTaskEntity.userTask.evFlagChanged']; userTaskEntity.userTask.pecularities"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="5px"/>
				<marginBottom value="8px"/>
			</style>
			<block type="text">
				<style>
					<marginRight value="4px"/>
				</style>
				<styleClass value="$TextHeaderBold"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="_title"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<block className="icon_question_mark" type="native">
					<style>
						<width value="20px"/>
						<height value="20px"/>
						<marginTop value="3px"/>
					</style>
					<bind name="tooltip" value="'MultiParagraphHelpTooltip'; {	_tooltipHeader: 'IDS_ADDITIONAL_SHIPS', _width: 350,
																_multiParagraphArray: [ {_paragraphText: 'IDS_ADDITIONAL_SHIPS_FILTER_HINT_0'},
																						{_paragraphText: 'IDS_ADDITIONAL_SHIPS_FILTER_HINT_1'},
																						{_paragraphText: 'IDS_ADDITIONAL_SHIPS_FILTER_HINT_2'}]}"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="name" value="'FilterBlockValues'"/>
			<style>
				<flow value="vtile"/>
				<height value="155px"/>
				<marginLeft value="30px"/>
				<marginRight value="6px"/>
			</style>
			<bind name="repeat" value="peculiarities; 'PeculiarityFilterItem'"/>
		</block>
		<block>
			<bind name="visible" value="needDivider == true"/>
			<style>
				<height value="100%"/>
				<position value="absolute"/>
			</style>
			<block className="divider_v" type="native">
				<style>
					<height value="100%"/>
				</style>
			</block>
		</block>
	</block>
	<block className="PeculiarityFilterItem">
		<style>
			<marginRight value="44px"/>
			<marginBottom value="8px"/>
		</style>
		<bind name="name" value="'CarouselCheckBox_pecularity_' + ids"/>
		<bind name="instance" value="'CheckBox'; {switchProperty: enabled, label: tr(ids), _maxTfWidth: 150}"/>
		<bind name="action" value="'left_click'; 'ServerUIDataUSS.setPecularity'; {pecId: value}"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: tr(ids + '_TOOLTIP')}"/>
		<bind name="clickSplit"/>
	</block>
	<block className="FilterItem">
		<bind name="watchDH" value="'_value'; ['$dataRef.ref.shipFilterItem.evUpdate']; $dataRef.ref.dataComponent.data.value"/>
		<bind name="watchDH" value="'_filterType'; ['$dataRef.ref.shipFilterItem.evUpdate']; $dataRef.ref.shipFilterItem.type"/>
		<bind name="watchDH" value="'_field'; ['$dataRef.ref.shipFilterItem.evUpdate']; $dataRef.ref.shipFilterItem.field"/>
		<bind name="instance" value="(_filterType == 'level') ? 'ShipLevelCheckBox'
                    : (_filterType	== 'shipType')	? 'ShipClassCheckBox'
                    : (_filterType	== 'nation')	? 'ShipNationCheckBox'
                    : (_filterType	== 'special')	? 'ShipSpecialCheckBox'
                                            : 'FilterCheckBox'; {_filterType: _filterType, value: _value, field: _field}"/>
	</block>
	<block className="FilterCheckBox">
		<style>
			<marginRight value="44px"/>
			<marginBottom value="8px"/>
		</style>
		<bind name="instance" value="'CheckBox'; {switchProperty: value, label: field, _maxTfWidth: 150}"/>
		<bind name="action" value="'left_click'; 'setFilterValue' ; {type: _filterType, field: field, value: !value}"/>
		<bind name="clickSplit"/>
	</block>
	<block className="ShipLevelCheckBox">
		<bind name="name" value="'CarouselCheckBox_' + _filterType + '_' + field"/>
		<style>
			<marginBottom value="8px"/>
			<width value="80px"/>
		</style>
		<bind name="action" value="'left_click'; 'setFilterValue' ; {type: _filterType, field: field, value: !value}"/>
		<bind name="clickSplit"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_CHECKBOX_FILTER_LEVEL'}"/>
		<bind name="instance" value="'CheckBox'; {switchProperty: !!(value), label: ShipLevels.RLEVELS[field], _maxTfWidth: 150}"/>
	</block>
	<block className="ShipClassCheckBox">
		<bind name="name" value="'CarouselCheckBox_' + _filterType + '_' + field"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="action" value="'left_click'; 'setFilterValue' ; {type: _filterType, field: field, value: !value}"/>
		<bind name="clickSplit"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_CHECKBOX_FILTER_CLASS'}"/>
		<style>
			<marginBottom value="8px"/>
			<width value="80px"/>
			<height value="21px"/>
			<flow value="horizontal"/>
		</style>
		<block className="checkbox_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="selected" value="!!(value)"/>
		</block>
		<block>
			<style>
				<marginLeft value="27px"/>
				<marginTop value="5px"/>
				<hitTest value="false"/>
			</style>
			<bind name="transition" value="rollOver &amp;&amp; !mouseDown; 0.15; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<block className="icon_ship" type="native">
				<bind name="gotoAndStop!" value="field"/>
			</block>
		</block>
	</block>
	<block className="ShipNationCheckBox">
		<bind name="name" value="'CarouselCheckBox_' + _filterType + '_' + field"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="action" value="'left_click'; 'setFilterValue' ; {type: _filterType, field: field, value: !value}"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: tr('IDS_HINT_CHECKBOX_FILTER_NATION_') +  tr(toUpperCase(field))}"/>
		<bind name="clickSplit"/>
		<style>
			<marginBottom value="8px"/>
			<width value="80px"/>
			<flow value="horizontal"/>
		</style>
		<block className="checkbox_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="selected" value="!!(value)"/>
		</block>
		<block>
			<style>
				<marginLeft value="27px"/>
				<hitTest value="false"/>
			</style>
			<bind name="transition" value="rollOver &amp;&amp; !mouseDown; 0.15; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<bind name="instance" value="'NationFlagsTiny'; {shipCountry: field}"/>
		</block>
	</block>
	<block className="ShipSpecialCheckBox">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; field == 'IDS_RANKED_BATTLES' ? 'rankedBattlesSeason' : null"/>
		<bind name="collectionDH" value="CC.clubsCommon; 'clubsCommonCollection'"/>
		<bind name="entityDH" value="'clubsCommonEntity'; clubsCommonCollection[0].id"/>
		<bind name="watchDH" value="'clubBattlesSeasonId'; ['clubsCommonEntity.clubsCommon.evRulesChanged']; clubsCommonEntity.clubsCommon.seasonId"/>
		<bind name="watchDH" value="'clubBattlesSeasonStage'; ['clubsCommonEntity.clubsCommon.evRulesChanged']; clubsCommonEntity.clubsCommon.stage"/>
		<bind name="name" value="'CarouselCheckBox_' + _filterType + '_' + field"/>
		<bind name="feature" value="13; ''"/>
		<bind name="feature" value="16; ''"/>
		<bind name="feature" value="19; ''"/>
		<bind name="watch" value="'isVisible';	(field == 'IDS_RANKED_BATTLES'	&amp;&amp;  (feature_16 == 'locked' || rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON))	? false :
								(field == 'IDS_CLUB_BATTLES' 	&amp;&amp;  (feature_19 == 'locked' || clubBattlesSeasonId &lt;= 0 || clubBattlesSeasonStage != 2))	? false :
								((field == 'IDS_WITH_COMMANDER' || field == 'IDS_WITHOUT_COMMANDER') &amp;&amp; feature_13 == 'locked')						? false
																																					: true"/>
		<bind name="visible" value="isVisible"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="action" value="'left_click'; 'setFilterValue' ; {type: _filterType, field: field, value: !value}"/>
		<bind name="clickSplit"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText:	((field == 'IDS_SELECTED_BY_USER') 	? 'IDS_HINT_CHECKBOX_FILTER_SELECTED_BY_USER':
													(field == 'IDS_FILTER_PREMIUM') 	? 'IDS_HINT_CHECKBOX_FILTER_PREMIUM':
													(field == 'IDS_WITH_COMMANDER') 	? 'IDS_HINT_CHECKBOX_FILTER_WITH_COMMANDER':
													(field == 'IDS_WITHOUT_COMMANDER') 	? 'IDS_HINT_CHECKBOX_FILTER_WITHOUT_COMMANDER':
													(field == 'IDS_FILTER_ELITE')	 	? 'IDS_HINT_CHECKBOX_FILTER_ELITE'	:
													(field == 'IDS_RANKED_BATTLES')		? 'IDS_HINT_CHECKBOX_FILTER_RANKED':
													(field == 'IDS_PVE_BATTLES')		? 'IDS_HINT_CHECKBOX_FILTER_PVE'	:
													(field == 'IDS_CLUB_BATTLES')		? 'IDS_HINT_CHECKBOX_FILTER_CLUB'	:
													(field == 'IDS_SHARE')				? 'IDS_HINT_CHECKBOX_FILTER_SHARE'	:
													'UNKNOWN_FILTER_TYPE')}"/>
		<style>
			<marginBottom value="8px"/>
			<width value="80px"/>
			<height value="21px"/>
			<flow value="horizontal"/>
		</style>
		<block className="checkbox_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="selected" value="!!(value)"/>
		</block>
		<block>
			<bind name="transition" value="rollOver &amp;&amp; !mouseDown; 0.15; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<style>
				<marginTop value="-2px"/>
				<marginLeft value="27px"/>
				<hitTest value="false"/>
			</style>
			<bind name="child" value="field; {_isCheckBox: true}; {	IDS_SELECTED_BY_USER: 'PrimaryIcon',
													IDS_FILTER_ELITE: 'EliteIcon',
													IDS_FILTER_PREMIUM: 'PremiumIcon',
													IDS_RANKED_BATTLES: 'RankedIcon',
													IDS_PVE_BATTLES	: 'PVEIcon',
													IDS_CLUB_BATTLES: 'ClubIcon',
													IDS_SHARE: 'ShareIcon',
													IDS_WITH_COMMANDER: 'WithCrewIcon',
													IDS_WITHOUT_COMMANDER: 'WithoutCrewIcon'}"/>
		</block>
	</block>
	<block className="AppliedFilter">
		<bind name="visible" value="selectedItems.length &gt; 0"/>
		<bind name="watch" value="'path'; _filterType ? _filterType + '.selected' : ''"/>
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerLevelsRange; 'selectedItems'; CC.shipFilterItem; path"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) || appliedFiltersInfotipSelected || shipNameFIlterInfotipSelected; 0.15; {alpha: 0.7}; {alpha: 1}"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 0.7, top: 0}; 2"/>
		<style>
			<height value="30px"/>
		</style>
		<block className="button_dock_bg" type="native">
			<bind name="gotoAndStop!" value="'down'"/>
			<bind name="transition" value="((rollOver &amp;&amp; !mouseDown) || (mouseDown)) || appliedFiltersInfotipSelected || shipNameFIlterInfotipSelected; 0.15; {alpha: 0}; {alpha: 0.7}"/>
			<style>
				<height value="100%"/>
			</style>
			<bind name="tooltip" value="'CarouselAppliedFilterInfotip';	_filterType == 'level' 		? {_title: 'IDS_LEVEL', _filterType: _filterType} :
														_filterType == 'shipType'	? {_title: 'IDS_CLASS', _filterType: _filterType} :
														_filterType == 'nation' 	? {_title: 'IDS_NATION', _filterType: _filterType} :
														_filterType == 'special'	? {_title: 'IDS_SPECIAL', _filterType: _filterType}
																					: null; TooltipBehaviour.verticalInfotip; null; 'appliedFiltersInfotipSelected'"/>
			<bind name="tooltip" value="'CarouselAppliedFilterShipNameInfotip'; (_filterType == 'shipName')	? {}
																							: null;	 TooltipBehaviour.verticalInfotip; null; 'shipNameFIlterInfotipSelected'"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; (_filterType != 'shipName') ? { _mouseInstructions: [{_type: 'left', _instructionText: tr('IDS_CAROUSEL_APPLIED_FILTER_HINT_'+toUpperCase(_filterType))}], _maxWidth: 240 }
																				: null"/>
			<bind name="changeDispatch" value="shipNameFIlterInfotipSelected; 'shipNameFIlterInfotipSelectedChanged';{shipNameFIlterInfotipSelected: shipNameFIlterInfotipSelected}"/>
			<block>
				<style>
					<height value="100%"/>
					<marginLeft value="8px"/>
					<marginRight value="8px"/>
					<marginTop value="1px"/>
				</style>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="repeat" value="selectedItems;	(_filterType == 'shipName')	? 'CarouselSortingText'
											:(_filterType == 'level')		? 'ShipLevelRome'
											:(_filterType == 'shipType')	? 'ShipTypeIcon'
											:(_filterType == 'nation')		? 'TinyNationFlag'
											:(_filterType == 'special')		? 'SpecialSortingIcon'
																			: 'CarouselSortingText'"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<height value="100%"/>
						<width value="12px"/>
					</style>
					<block>
						<bind name="transition" value="((rollOver &amp;&amp; !mouseDown) || mouseDown) || appliedFiltersInfotipSelected || shipNameFIlterInfotipSelected; 0.15; {alpha: 0}; {alpha: 0.7}"/>
						<bind name="action" value="'click'; 'resetFilterType' ; {type: _filterType}"/>
						<styleClass value="$MiddleVAligned"/>
						<block className="button_close" type="native">
							<style>
								<marginRight value="1px"/>
							</style>
							<bind name="name" value="'CarouselFilterClose_' + _filterType"/>
							<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_RESET_FILTER'}"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ResetAllFilters">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<style>
			<height value="30px"/>
			<marginRight value="4px"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}; 2"/>
		<bind name="action" value="'click'; 'resetAllFilters'"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_HINT_RESET_ALL_FILTERS'}], _maxWidth: 250}"/>
		<bind name="soundSet" value="'resetallfilters_item'"/>
		<block className="button_dock_bg" type="native">
			<bind name="gotoAndStop!" value="'down'"/>
			<style>
				<height value="100%"/>
			</style>
			<bind name="transition" value="((rollOver &amp;&amp; !mouseDown) || (mouseDown)); 0.15; {alpha: 0}; {alpha: 0.7}"/>
			<block>
				<style>
					<height value="100%"/>
					<marginLeft value="8px"/>
					<marginRight value="8px"/>
				</style>
				<bind name="transition" value="rollOver &amp;&amp; !mouseDown; 0.15; {alpha: 0.7}; {alpha: 1}"/>
				<block type="text">
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="'IDS_RESET_ALL_FILTERS'"/>
				</block>
				<block>
					<bind name="transition" value="((rollOver &amp;&amp; !mouseDown) || mouseDown); 0.15; {alpha: 0}; {alpha: 0.7}"/>
					<style>
						<marginLeft value="2px"/>
						<marginRight value="1px"/>
						<marginTop value="10px"/>
						<hitTest value="false"/>
					</style>
					<block className="button_close" type="native"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ShipLevelRome">
		<bind name="dataRefDH" value="'filterEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'_field'; ['filterEntity.shipFilterItem.evUpdate']; filterEntity.shipFilterItem.field"/>
		<block type="text">
			<bind name="style" value="'marginLeft'; $value == 0 ? '-6px': '0px'"/>
			<bind name="style" value="'marginRight'; $value == 0 ? '-2px': '4px'"/>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="ShipLevels.RLEVELS[_field]"/>
		</block>
	</block>
	<block className="CarouselSortingText">
		<bind name="dataRefDH" value="'filterEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'_value'; ['filterEntity.shipFilterItem.evUpdate']; filterEntity.dataComponent.data.value"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<hitTest value="false"/>
				<marginTop value="2px"/>
				<marginRight value="1px"/>
			</style>
			<block className="button_search" type="native"/>
		</block>
		<block type="text">
			<style>
				<marginRight value="4px"/>
				<marginTop value="-1px"/>
			</style>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="_value"/>
		</block>
	</block>
	<block className="ShipTypeIcon">
		<bind name="dataRefDH" value="'filterEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'_field'; ['filterEntity.shipFilterItem.evUpdate']; filterEntity.shipFilterItem.field"/>
		<block>
			<style>
				<marginRight value="4px"/>
			</style>
			<block className="icon_ship" type="native">
				<bind name="gotoAndStop!" value="_field"/>
			</block>
		</block>
	</block>
	<block className="TinyNationFlag">
		<bind name="dataRefDH" value="'filterEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'_field'; ['filterEntity.shipFilterItem.evUpdate']; filterEntity.shipFilterItem.field"/>
		<block>
			<style>
				<marginRight value="2px"/>
			</style>
			<bind name="instance" value="'NationFlagsTiny'; {shipCountry: _field}"/>
		</block>
	</block>
	<block className="SpecialSortingIcon">
		<bind name="dataRefDH" value="'filterEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'_field'; ['filterEntity.shipFilterItem.evUpdate']; filterEntity.shipFilterItem.field"/>
		<style>
			<marginLeft value="-2px"/>
		</style>
		<bind name="child" value="_field; {}; {	IDS_SELECTED_BY_USER: 'PrimaryIcon',
								IDS_FILTER_ELITE: 'EliteIcon',
								IDS_FILTER_PREMIUM: 'PremiumIcon',
								IDS_RANKED_BATTLES: 'RankedIcon',
								IDS_PVE_BATTLES: 'PVEIcon', 
								IDS_CLUB_BATTLES: 'ClubIcon',
								IDS_SHARE: 'ShareIcon',
								IDS_WITH_COMMANDER: 'WithCrewIcon',
								IDS_WITHOUT_COMMANDER: 'WithoutCrewIcon'}"/>
	</block>
	<block className="EliteIcon">
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'elite'"/>
		</block>
	</block>
	<block className="PrimaryIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<style>
			<marginTop value="1px"/>
		</style>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'primary'"/>
		</block>
	</block>
	<block className="WithCrewIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '1px': '2px'"/>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'withCrew'"/>
		</block>
	</block>
	<block className="WithoutCrewIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'withoutCrew'"/>
		</block>
	</block>
	<block className="PremiumIcon">
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'premium'"/>
		</block>
	</block>
	<block className="ShareIcon">
		<style>
			<marginTop value="1px"/>
		</style>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'share'"/>
		</block>
	</block>
	<block className="RankedIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'rank'"/>
		</block>
	</block>
	<block className="PVEIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'pve'"/>
		</block>
	</block>
	<block className="ClubIcon">
		<bind name="style" value="'marginTop'; _isCheckBox ? '0px': '1px'"/>
		<style>
			<marginTop value="1px"/>
		</style>
		<block className="icon_filters" type="native">
			<bind name="gotoAndStop!" value="'club'"/>
		</block>
	</block>
	<block className="CarouselShipRowsListItemRenderer">
		<styleClass value="$ContextMenuListItem"/>
		<bind name="var" value="{_toLowerCase: true}"/>
		<bind name="stageSize"/>
		<bind name="watch" value="'isFourRowsEnabled'; (stageHeight &gt; (720 + 160))"/>
		<bind name="watch" value="'isThreeRowsEnabled'; (stageHeight &gt; (720 + 88))"/>
		<bind name="watch" value="'isEnabled';	($index == 0)							? true :
								(isThreeRowsEnabled &amp;&amp; ($index == 1))	? true :
								(isFourRowsEnabled &amp;&amp; ($index == 2))	? true
																		: false"/>
		<style>
			<backgroundColor value="0x01000000"/>
		</style>
		<bind name="tooltip" value="'SimpleWarningTooltip'; isEnabled ? null : {_text: tr('IDS_NOT_ENABLED_ON_LOW_RESOLUTION')}"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="style" value="'alpha'; isEnabled ? 1 : 0.5"/>
			<bind name="style" value="'hitTest'; isEnabled"/>
			<block className="MenuItemWithSelection">
				<styleClass value="$Fullsize"/>
				<bind name="name" value="$value"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="selected" value="(_curItemIndex == $index)"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="class" value="(_curItemIndex == $index) == true ? '$Bold' : '$None'"/>
					<bind name="text" value="(_toLowerCase ? toLowerCase(tr($value))
											: (tr($value)))"/>
				</block>
			</block>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 	($index == 0)	? tr('IDS_SHOW_TWO_ROWS_IN_CAROUSEL') :
														($index == 1)	? tr('IDS_SHOW_THREE_ROWS_IN_CAROUSEL') :
														($index == 2)	? tr('IDS_SHOW_FOUR_ROWS_IN_CAROUSEL')
																		: ''}"/>
			<bind name="dispatch" value="'click'; ('ItemChooserInnerEvent.' + _onItemSelectedEvent); {_curItemIndex: $index}"/>
			<bind name="dispatch" value="'click'; ('ItemChooserInnerEventDublicate.' + _onItemSelectedEvent)"/>
		</block>
	</block>
	<css name="$TextDockBig">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<block className="ItemChooser">
		<bind name="watch" value="'_curItemIndex'; curIndex"/>
		<bind name="var" value="{_lastItemIndex: curIndex,
				_direction: false}"/>
		<bind name="catch" value="('ItemChooserInnerEvent.' + onItemSelectedEvent)"/>
		<bind name="catch" value="('ItemChooserInnerEventDublicate.' + onItemSelectedEvent); {	_direction: (_curItemIndex==_lastItemIndex) ? !_direction : false,
																			_lastItemIndex: _curItemIndex}"/>
		<bind name="dispatch" value="('ItemChooserInnerEventDublicate.' + onItemSelectedEvent); ('ItemChooser.'+onItemSelectedEvent); {_curItemIndex: _curItemIndex, _direction: _direction}; false; 0.001"/>
		<block>
			<bind name="tooltip" value="'ItemChooserDropdown'	; _items.length &gt; 1 ? {	_items: _items, _listItemRenderer: _listItemRenderer, _onItemSelectedEvent: onItemSelectedEvent,
																		_curItemIndex: _curItemIndex, _maxDropDownHeight: _maxDropDownHeight, _dropDownWidth: _dropDownWidth, _showHint: _showHint, _text: _text}
																	: null
												; TooltipBehaviour.verticalInfoWidget; null; 'dropdownChooserListIsVIsible'"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _itemChooserTooltipText}"/>
			<bind name="style" value="'hitTest'; _items.length &gt; 1"/>
			<block className="button_dock" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<marginTop value="1px"/>
					<marginBottom value="1px"/>
				</style>
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<bind name="enabled" value="_items.length &gt; 1"/>
				<bind name="selected" value="dropdownChooserListIsVIsible"/>
			</block>
			<block>
				<block>
					<bind name="instance" value="_choosedItemRenderer; {_item: _items[curIndex]}"/>
				</block>
				<block className="icon_navigate" type="native">
					<bind name="visible" value="_items.length &gt; 1 "/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$MouseDisable"/>
					<style>
						<marginLeft value="5px"/>
						<marginRight value="4px"/>
					</style>
					<bind name="gotoAndStop!" value="'down'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ItemChooserDropdown">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<bind name="style" value="'width'; _dropDownWidth ? _dropDownWidth : '180px'"/>
		<block className="MenuBg">
			<styleClass value="$FullsizeAbsolute"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMap">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<style>
							<width value="100%"/>
							<height value="100%"/>
						</style>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="!(true)"/>
				<block className="hint_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="true"/>
				<block className="dock_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginBottom value="-19px"/>
						<marginRight value="-14px"/>
						<marginLeft value="-14px"/>
						<marginTop value="-9px"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$DefaultScrollBar"/>
			<bind name="style" value="'maxHeight'; _maxDropDownHeight ? _maxDropDownHeight : 220"/>
			<style>
				<width value="100%"/>
				<overflow value="scroll"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="_items; _listItemRenderer; {_onItemSelectedEvent: _onItemSelectedEvent, _curItemIndex: _curItemIndex}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON) &amp;&amp; (_showHint == true)"/>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'StatusLineWithIcon'; { _text: _text, _maxWidth: 140}"/>
		</block>
	</block>
	<block className="LowerCaseTextChoosedItemRenderer">
		<style>
			<height value="32px"/>
		</style>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<marginLeft value="4px"/>
				<marginTop value="1px"/>
			</style>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="toLowerCase(tr(_item))"/>
		</block>
	</block>
	<block className="LowerCaseTextListItemRenderer">
		<styleClass value="$ContextMenuListItem"/>
		<bind name="var" value="{_toLowerCase: true}"/>
		<block className="MenuItemWithSelection">
			<styleClass value="$Fullsize"/>
			<bind name="name" value="$value"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="selected" value="(_curItemIndex == $index)"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<bind name="class" value="(_curItemIndex == $index) == true ? '$Bold' : '$None'"/>
				<bind name="text" value="(_toLowerCase ? toLowerCase(tr($value))
											: (tr($value)))"/>
			</block>
		</block>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEvent.' + _onItemSelectedEvent); {_curItemIndex: $index}"/>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEventDublicate.' + _onItemSelectedEvent)"/>
	</block>
	<block className="LargeTextChoosedItemRenderer">
		<style>
			<height value="35px"/>
		</style>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<marginLeft value="4px"/>
				<marginTop value="1px"/>
			</style>
			<styleClass value="$TextDockBig"/>
			<bind name="text" value="(tr(_item))"/>
		</block>
	</block>
	<block className="TextListItemRenderer">
		<styleClass value="$ContextMenuListItem"/>
		<block className="MenuItemWithSelection">
			<styleClass value="$Fullsize"/>
			<bind name="name" value="$value"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="selected" value="(_curItemIndex == $index)"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<bind name="class" value="(_curItemIndex == $index) == true ? '$Bold' : '$None'"/>
				<bind name="text" value="(_toLowerCase ? toLowerCase(tr($value))
											: (tr($value)))"/>
			</block>
		</block>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEvent.' + _onItemSelectedEvent); {_curItemIndex: $index}"/>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEventDublicate.' + _onItemSelectedEvent)"/>
	</block>
	<block className="ExtendedSystemLogWindow">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionData'"/>
		<bind name="firstEntityDH" value="'dockEntity'; CC.dockDataMarker"/>
		<bind name="watchDH" value="'shipId'; ['dockEntity.shipSelection.evShipUpdate']; dockEntity.shipSelection.currentShipId"/>
		<bind name="watchDH" value="'shipIdForModuleInset'; ['dockEntity.shipSelection.evShipViewUpdate']; dockEntity.shipSelection.currentShipIdForModuleInset"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'accountLevelInfo'"/>
		<bind name="entityDH" value="'systemLogMessageEntity'; $root._systemLogMessageEntityId"/>
		<bind name="watch" value="'systemLogMessage'; systemLogMessageEntity.dataComponent.data"/>
		<bind name="var" value="{inset: 0}"/>
		<bind name="watch" value="'validTabIndex'; inset"/>
		<bind name="catch" value="'changeResultScreenInset'"/>
		<styleClass value="$Fullsize"/>
		<block className="ExtendedSystemLogWindowBG">
			<styleClass value="$FullsizeAbsolute"/>
			<block>
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<style>
					<backgroundSize value="cover"/>
					<position value="absolute"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + systemLogMessage.data.mapBGPath"/>
			</block>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'startShow'; 0.3; 0.15; {alpha: 0}; {alpha: 0.3}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.15; {alpha: 0.3}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<block className="contrast_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="visible" value="((optionData.contrast) &amp;&amp; (inset != 0))"/>
				</block>
				<block className="modal_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
		</block>
		<bind name="stageSize"/>
		<bind name="watch" value="'PBSWidth'; 1077 + (stageWidth - 1280)*0.5"/>
		<bind name="watch" value="'PBSHeight'; 630 + (stageHeight - 720)*0.3"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<height value="100%"/>
			</style>
			<bind name="style" value="'width'; PBSWidth + 'px'"/>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="style" value="'marginTop'; 0 + (stageHeight - 720) * 0.16"/>
				<bind name="visible" value="systemLogMessage.extendedData.game_data.battle_mode_id != 3"/>
				<bind name="appear" value="'startShow'; 0.15; 0; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<block>
					<styleClass value="$MiddleAligned"/>
					<bind name="instance" value="'TabBarResults'; {inset: validTabIndex}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<block className="ModalWindowCloseIcon">
						<style>
							<position value="absolute"/>
							<right value="-60px"/>
							<top value="7px"/>
							<flow value="horizontal"/>
						</style>
						<bind name="name" value="'btn_cancel'"/>
						<bind name="input"/>
						<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
						<block>
							<style>
								<backgroundColor value="0x01000000"/>
							</style>
							<block>
								<style>
									<marginTop value="-3px"/>
								</style>
								<block className="hotkey_holder_white_9slice" type="native">
									<bind name="visible" value="true"/>
									<block type="text">
										<style>
											<marginLeft value="3px"/>
											<marginRight value="3px"/>
											<marginTop value="-1px"/>
											<marginBottom value="-1px"/>
										</style>
										<styleClass value="$BlackLabel"/>
										<text value="ESC"/>
									</block>
								</block>
							</block>
							<block className="button_close" type="native">
								<params>
									<param name="focusable" value="false"/>
								</params>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="style" value="'marginTop'; 10 + (stageHeight - 720) * 0.2"/>
				<bind name="style" value="'height'; PBSHeight + 'px'"/>
				<bind name="child" value="validTabIndex; {	_data: {personal: systemLogMessage.extendedData.personal, 
											game_data: systemLogMessage.extendedData.game_data, 
											credits_experience: systemLogMessage.extendedData.credits_experience,
											given_damage: systemLogMessage.extendedData.given_damage,
											received_damage: systemLogMessage.extendedData.received_damage,
											team_results: systemLogMessage.extendedData.team_results,
											player: systemLogMessage.extendedData.player,
											resultText: UIStrings.getEndBattleResult(systemLogMessage.extendedData.game_data.battle_result),
											commentText: UIStrings.getEndBattleComment(systemLogMessage.extendedData.game_data.battle_result, systemLogMessage.extendedData.game_data.finish_type),
											delay: 0.6,
											ribbonsDelay: 1.4,
											_PBSWidth: PBSWidth, _PBSHeight: PBSHeight, _isHistoryPBS: true}
										}; 'PersonalResultSection'; 'TeamResultSection'; 'DetailedReportSection'; 'EconomicsSection'"/>
			</block>
			<block>
				<bind name="style" value="'bottom'; 10 + (stageHeight - 720) * 0.15"/>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
				</style>
				<block className="button_default" type="native">
					<styleClass value="$MiddleAligned"/>
					<bind name="appear" value="'startShow'; 0.3; 0.6; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
					<bind name="appear" value="'startHide'; 0.3; 0; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<params>
						<param name="autoSize" value="center"/>
						<param name="label" value="IDS_BATTLE_STATS_BACK_TO_DOCK"/>
					</params>
					<bind name="focus" value="1; true"/>
				</block>
				<block>
					<bind name="appear" value="'startShow'; 0.3; 0.8; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
					<bind name="appear" value="'startHide'; 0.3; 0; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
					<bind name="visible" value="	accountLevelInfo.accountLevel &gt;=5 &amp;&amp;
								$root.dockGoToBattleMethod != null &amp;&amp;
								$root.dockSelectedBattleType.type != BattleTypes.INTRO_MISSION &amp;&amp;
								$root.dockSelectedBattleType.type != BattleTypes.TRAINING_BATTLE
								(shipId != -1 &amp;&amp; playerShipInfo.crewId != 0) &amp;&amp;
								((playerShipInfo.isReady &amp;&amp;
								!(divisionData.divisionExist)) || (divisionData.isCommander &amp;&amp;
								divisionData.startBattleAvailable &amp;&amp; divisionData.isReady))"/>
					<bind name="name" value="'ButtonDebriefingStartRandom'"/>
					<style>
						<position value="absolute"/>
						<right value="17px"/>
					</style>
					<block className="button_special" type="native">
						<bind name="tooltip" value="'StartBattleTooltip'; {_shipID: shipId, _battleType: $root.dockSelectedBattleType.type, _instructionType: 'left'}"/>
						<bind name="action" value="'buttonClick'; 'reenterBalancer'"/>
						<params>
							<param name="label" value="IDS_AGAIN"/>
							<param name="autoSize" value="center"/>
						</params>
						<bind name="focus" value="2; false"/>
					</block>
				</block>
			</block>
		</block>
	</block>
	<block className="UnavailableExtendedSystemLogWindow">
		<bind name="entityDH" value="'systemLogMessageEntity'; $root._systemLogMessageEntityId"/>
		<bind name="watch" value="'systemLogMessage'; systemLogMessageEntity.dataComponent.data"/>
		<styleClass value="$Fullsize"/>
		<block className="ExtendedSystemLogWindowBG">
			<styleClass value="$FullsizeAbsolute"/>
			<block>
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<style>
					<backgroundSize value="cover"/>
					<position value="absolute"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + systemLogMessage.data.mapBGPath"/>
			</block>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
					<height value="100%"/>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<style>
						<width value="100%"/>
						<height value="100%"/>
					</style>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'startShow'; 0.3; 0.15; {alpha: 0}; {alpha: 0.3}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.15; {alpha: 0.3}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<block className="contrast_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="visible" value="((optionData.contrast) &amp;&amp; (inset != 0))"/>
				</block>
				<block className="modal_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<top value="48%"/>
				<marginTop value="-50%"/>
			</style>
			<block>
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<styleClass value="$MiddleAligned"/>
				<block>
					<bind name="instance" value="'TabBarResults'; { allDisabled: true }"/>
				</block>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-300px"/>
						<top value="7px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<block>
							<style>
								<marginTop value="-3px"/>
							</style>
							<block className="hotkey_holder_white_9slice" type="native">
								<bind name="visible" value="true"/>
								<block type="text">
									<style>
										<marginLeft value="3px"/>
										<marginRight value="3px"/>
										<marginTop value="-1px"/>
										<marginBottom value="-1px"/>
									</style>
									<styleClass value="$BlackLabel"/>
									<text value="ESC"/>
								</block>
							</block>
						</block>
						<block className="button_close" type="native">
							<params>
								<param name="focusable" value="false"/>
							</params>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<height value="630px"/>
				</style>
				<block>
					<styleClass value="$EyeLevelVAligned"/>
					<styleClass value="$MiddleAligned"/>
					<block type="text">
						<bind name="appear" value="'startShow'; 0.3; 0.15; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
						<styleClass value="$TextHeaderBold"/>
						<style>
							<marginBottom value="4px"/>
							<textAlign value="center"/>
							<maxWidth value="350"/>
							<leading value="6"/>
						</style>
						<bind name="class" value="'$FontColorUnready'"/>
						<bind name="text" value="toUpperCase(tr('IDS_WARNING_BATTLESTATS_AVAILABILITY'))"/>
					</block>
				</block>
			</block>
			<block>
				<bind name="appear" value="'startShow'; 0.3; 0.3; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
				<bind name="appear" value="'startHide'; 0.15; 0.07; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
				<styleClass value="$MiddleAligned"/>
				<block className="button_default" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0.6; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
					<bind name="appear" value="'startHide'; 0.3; 0; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="focus" value="1; true"/>
					<params>
						<param name="autoSize" value="center"/>
						<param name="label" value="IDS_BATTLE_STATS_BACK_TO_DOCK"/>
						<param name="focusable" value="false"/>
					</params>
				</block>
			</block>
		</block>
	</block>
	<block className="ExtendedSystemLogWindowBG">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
			<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
			<styleClass value="$Fullsize"/>
			<style>
				<backgroundSize value="cover"/>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:' + systemLogMessage.data.mapBGPath"/>
		</block>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap3" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<style>
					<width value="100%"/>
					<height value="100%"/>
				</style>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.3; 0.15; {alpha: 0}; {alpha: 0.3}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.15; {alpha: 0.3}; {alpha: 0}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="((optionData.contrast) &amp;&amp; (inset != 0))"/>
			</block>
			<block className="modal_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
	</block>
</ui>
